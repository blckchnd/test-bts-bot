{"version":3,"file":"account.c010506e35ca40f9ea8b.js","sources":["webpack:///app/components/Account/AccountPage.jsx","webpack:///app/components/Account/AccountAssets.jsx","webpack:///app/components/Modal/IssueModal.jsx","webpack:///app/components/Modal/ReserveAssetModal.jsx","webpack:///app/components/Account/AccountAssetCreate.jsx","webpack:///app/components/Account/AccountAssetUpdate.jsx","webpack:///app/components/Account/AssetWhitelist.jsx","webpack:///app/components/Account/AssetFeedProducers.jsx","webpack:///app/components/Account/AccountMembership.jsx","webpack:///app/components/Account/Statistics.jsx","webpack:///app/components/Account/AccountVesting.jsx","webpack:///app/components/Account/AccountPermissions.jsx","webpack:///app/components/Account/AccountPermissionsList.jsx","webpack:///app/components/PrivateKeyView.jsx","webpack:///app/components/Modal/QrcodeModal.jsx","webpack:///./app/assets/qr.png","webpack:///app/components/Account/AccountPermissionsMigrate.jsx","webpack:///app/components/Forms/PubKeyInput.jsx","webpack:///app/components/Account/AccountSignedMessages.jsx","webpack:///app/actions/SignedMessageAction.js","webpack:///app/components/Account/SignedMessage.jsx","webpack:///app/components/Account/AccountWhitelist.jsx","webpack:///app/components/Account/AccountVoting.jsx","webpack:///app/components/Account/WorkerApproval.jsx","webpack:///app/components/Account/VotingAccountsList.jsx","webpack:///app/components/Account/AccountOverview.jsx","webpack:///app/components/Account/MarginPositions.jsx","webpack:///app/components/Account/Proposals.jsx","webpack:///app/components/Modal/ProposalApproveModal.jsx","webpack:///app/components/Account/NestedApprovalState.jsx","webpack:///app/lib/common/permission_utils.js","webpack:///app/components/Account/NestedApprovalStateLib.jsx","webpack:///app/components/Account/AccountOrders.jsx","webpack:///app/lib/common/accountHelper.js","webpack:///app/components/Account/AccountTreemap.jsx","webpack:///app/components/Account/AccountPortfolioList.jsx","webpack:///app/components/Utility/MarketChangeComponent.jsx","webpack:///app/components/Utility/EquivalentPrice.jsx","webpack:///app/components/Icon/PulseIcon.js","webpack:///app/components/Modal/SettleModal.jsx"],"sourcesContent":["import React from \"react\";\nimport AccountActions from \"actions/AccountActions\";\nimport AccountStore from \"stores/AccountStore\";\nimport SettingsStore from \"stores/SettingsStore\";\nimport WalletUnlockStore from \"stores/WalletUnlockStore\";\n// import AccountLeftPanel from \"./AccountLeftPanel\";\nimport ChainTypes from \"../Utility/ChainTypes\";\nimport BindToChainState from \"../Utility/BindToChainState\";\nimport {connect} from \"alt-react\";\nimport accountUtils from \"common/account_utils\";\nimport {List} from \"immutable\";\nimport Page404 from \"../Page404/Page404\";\nimport {Route, Switch, Redirect} from \"react-router-dom\";\n\n/* Nested routes */\nimport AccountAssets from \"./AccountAssets\";\nimport {AccountAssetCreate} from \"./AccountAssetCreate\";\nimport AccountAssetUpdate from \"./AccountAssetUpdate\";\nimport AccountMembership from \"./AccountMembership\";\nimport AccountVesting from \"./AccountVesting\";\nimport AccountPermissions from \"./AccountPermissions\";\nimport AccountSignedMessages from \"./AccountSignedMessages\";\nimport AccountWhitelist from \"./AccountWhitelist\";\nimport AccountVoting from \"./AccountVoting\";\nimport AccountOverview from \"./AccountOverview\";\n\nclass AccountPage extends React.Component {\n    static propTypes = {\n        account: ChainTypes.ChainAccount.isRequired\n    };\n\n    componentDidMount() {\n        if (this.props.account) {\n            AccountActions.setCurrentAccount.defer(\n                this.props.account.get(\"name\")\n            );\n\n            // Fetch possible fee assets here to avoid async issues later (will resolve assets)\n            accountUtils.getPossibleFees(this.props.account, \"transfer\");\n        }\n    }\n\n    componentWillReceiveProps(np) {\n        if (np.account) {\n            const npName = np.account.get(\"name\");\n            const currentName =\n                this.props.account && this.props.account.get(\"name\");\n\n            if (!this.props.account || npName !== currentName) {\n                // Update the current account in order to access the header right menu options\n                AccountActions.setCurrentAccount.defer(npName);\n                // Fetch possible fee assets here to avoid async issues later (will resolve assets)\n                accountUtils.getPossibleFees(np.account, \"transfer\");\n            }\n        }\n    }\n\n    render() {\n        let {\n            myActiveAccounts,\n            searchAccounts,\n            settings,\n            wallet_locked,\n            account,\n            hiddenAssets\n        } = this.props;\n\n        if (!account) {\n            return <Page404 />;\n        }\n        let account_name = this.props.account.get(\"name\");\n        let isMyAccount = AccountStore.isMyAccount(account);\n\n        let passOnProps = {\n            account_name,\n            myActiveAccounts,\n            searchAccounts,\n            settings,\n            wallet_locked,\n            account,\n            isMyAccount,\n            hiddenAssets,\n            contained: true,\n            balances: account.get(\"balances\", List()).toList(),\n            orders: account.get(\"orders\", List()).toList(),\n            viewSettings: this.props.viewSettings,\n            proxy: account.getIn([\"options\", \"voting_account\"]),\n            history: this.props.history\n        };\n\n        return (\n            <div className=\"grid-block page-layout\">\n                <div className=\"grid-block no-padding\">\n                    <Switch>\n                        <Route\n                            path={`/account/${account_name}`}\n                            exact\n                            render={() => <AccountOverview {...passOnProps} />}\n                        />\n                        <Redirect\n                            from={`/account/${account_name}/overview`}\n                            to={`/account/${account_name}`}\n                        />\n                        <Route\n                            path={`/account/${account_name}/assets`}\n                            exact\n                            render={() => <AccountAssets {...passOnProps} />}\n                        />\n                        <Route\n                            path={`/account/${account_name}/create-asset`}\n                            exact\n                            render={() => (\n                                <AccountAssetCreate {...passOnProps} />\n                            )}\n                        />\n                        <Route\n                            path={`/account/${account_name}/update-asset/:asset`}\n                            exact\n                            render={() => (\n                                <AccountAssetUpdate {...passOnProps} />\n                            )}\n                        />\n                        <Route\n                            path={`/account/${account_name}/member-stats`}\n                            exact\n                            render={() => (\n                                <AccountMembership {...passOnProps} />\n                            )}\n                        />\n                        <Route\n                            path={`/account/${account_name}/vesting`}\n                            exact\n                            render={() => <AccountVesting {...passOnProps} />}\n                        />\n                        <Route\n                            path={`/account/${account_name}/permissions`}\n                            exact\n                            render={() => (\n                                <AccountPermissions {...passOnProps} />\n                            )}\n                        />\n                        <Route\n                            path={`/account/${account_name}/voting`}\n                            exact\n                            render={() => <AccountVoting {...passOnProps} />}\n                        />\n                        <Route\n                            path={`/account/${account_name}/whitelist`}\n                            exact\n                            render={() => <AccountWhitelist {...passOnProps} />}\n                        />\n                        <Route\n                            path={`/account/${account_name}/signedmessages`}\n                            exact\n                            render={() => (\n                                <AccountSignedMessages {...passOnProps} />\n                            )}\n                        />\n                    </Switch>\n                    {/* {React.cloneElement(\n                        React.Children.only(this.props.children),\n                        {\n                            account_name,\n                            myActiveAccounts,\n                            searchAccounts,\n                            settings,\n                            wallet_locked,\n                            account,\n                            isMyAccount,\n                            hiddenAssets,\n                            contained: true,\n                            balances: account.get(\"balances\", List()).toList(),\n                            orders: account.get(\"orders\", List()).toList(),\n                            backedCoins: this.props.backedCoins,\n                            bridgeCoins: this.props.bridgeCoins,\n                            gatewayDown: this.props.gatewayDown,\n                            viewSettings: this.props.viewSettings,\n                            proxy: account.getIn([\"options\", \"voting_account\"])\n                        }\n                    )} */}\n                </div>\n            </div>\n        );\n    }\n}\nAccountPage = BindToChainState(AccountPage, {\n    show_loader: true\n});\n\nclass AccountPageStoreWrapper extends React.Component {\n    render() {\n        let account_name = this.props.match.params.account_name;\n        return <AccountPage {...this.props} account={account_name} />;\n    }\n}\n\nexport default connect(\n    AccountPageStoreWrapper,\n    {\n        listenTo() {\n            return [AccountStore, SettingsStore, WalletUnlockStore];\n        },\n        getProps() {\n            return {\n                myActiveAccounts: AccountStore.getState().myActiveAccounts,\n                searchAccounts: AccountStore.getState().searchAccounts,\n                settings: SettingsStore.getState().settings,\n                hiddenAssets: SettingsStore.getState().hiddenAssets,\n                wallet_locked: WalletUnlockStore.getState().locked,\n                viewSettings: SettingsStore.getState().viewSettings\n            };\n        }\n    }\n);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {Link} from \"react-router-dom\";\nimport Translate from \"react-translate-component\";\nimport AssetActions from \"actions/AssetActions\";\nimport AssetStore from \"stores/AssetStore\";\nimport AccountActions from \"actions/AccountActions\";\nimport BaseModal from \"../Modal/BaseModal\";\nimport FormattedAsset from \"../Utility/FormattedAsset\";\nimport ZfApi from \"react-foundation-apps/src/utils/foundation-api\";\nimport notify from \"actions/NotificationActions\";\nimport utils from \"common/utils\";\nimport {debounce} from \"lodash-es\";\nimport LoadingIndicator from \"../LoadingIndicator\";\nimport IssueModal from \"../Modal/IssueModal\";\nimport ReserveAssetModal from \"../Modal/ReserveAssetModal\";\nimport {connect} from \"alt-react\";\nimport assetUtils from \"common/asset_utils\";\nimport {Map, List} from \"immutable\";\nimport AssetWrapper from \"../Utility/AssetWrapper\";\nimport {Tabs, Tab} from \"../Utility/Tabs\";\n\nclass AccountAssets extends React.Component {\n    static defaultProps = {\n        symbol: \"\",\n        name: \"\",\n        description: \"\",\n        max_supply: 0,\n        precision: 0\n    };\n\n    static propTypes = {\n        symbol: PropTypes.string.isRequired\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            create: {\n                symbol: \"\",\n                name: \"\",\n                description: \"\",\n                max_supply: 1000000000000000,\n                precision: 4\n            },\n            issue: {\n                amount: 0,\n                to: \"\",\n                to_id: \"\",\n                asset_id: \"\",\n                symbol: \"\"\n            },\n            errors: {\n                symbol: null\n            },\n            isValid: false,\n            searchTerm: \"\"\n        };\n\n        this._searchAccounts = debounce(this._searchAccounts, 150);\n    }\n\n    _checkAssets(assets, force) {\n        if (this.props.account.get(\"assets\").size) return;\n        let lastAsset = assets\n            .sort((a, b) => {\n                if (a.symbol > b.symbol) {\n                    return 1;\n                } else if (a.symbol < b.symbol) {\n                    return -1;\n                } else {\n                    return 0;\n                }\n            })\n            .last();\n\n        if (assets.size === 0 || force) {\n            AssetActions.getAssetList.defer(\"A\", 100);\n            this.setState({assetsFetched: 100});\n        } else if (assets.size >= this.state.assetsFetched) {\n            AssetActions.getAssetList.defer(lastAsset.symbol, 100);\n            this.setState({assetsFetched: this.state.assetsFetched + 99});\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this._checkAssets(nextProps.assets);\n    }\n\n    componentWillMount() {\n        this._checkAssets(this.props.assets, true);\n    }\n\n    _onIssueInput(value, e) {\n        let key = e.target.id;\n        let {issue} = this.state;\n\n        if (key === \"to\") {\n            this._searchAccounts(e.target.value);\n            issue.to = e.target.value;\n            let account = this.props.searchAccounts.findEntry(name => {\n                return name === e.target.value;\n            });\n\n            issue.to_id = account ? account[0] : null;\n        } else {\n            issue[value] = e.target.value;\n        }\n\n        this.setState({issue: issue});\n    }\n\n    _searchAccounts(searchTerm) {\n        AccountActions.accountSearch(searchTerm);\n    }\n\n    _reserveButtonClick(assetId, e) {\n        e.preventDefault();\n        this.setState({reserve: assetId});\n        ZfApi.publish(\"reserve_asset\", \"open\");\n    }\n\n    _issueButtonClick(asset_id, symbol, e) {\n        e.preventDefault();\n        let {issue} = this.state;\n        issue.asset_id = asset_id;\n        issue.symbol = symbol;\n        this.setState({issue: issue});\n        ZfApi.publish(\"issue_asset\", \"open\");\n    }\n\n    _editButtonClick(symbol, account_name, e) {\n        e.preventDefault();\n        this.props.history.push(\n            `/account/${account_name}/update-asset/${symbol}`\n        );\n    }\n\n    render() {\n        let {account, account_name, assets, assetsList} = this.props;\n\n        let accountExists = true;\n        if (!account) {\n            return <LoadingIndicator type=\"circle\" />;\n        } else if (account.notFound) {\n            accountExists = false;\n        }\n        if (!accountExists) {\n            return (\n                <div className=\"grid-block\">\n                    <h5>\n                        <Translate\n                            component=\"h5\"\n                            content=\"account.errors.not_found\"\n                            name={account_name}\n                        />\n                    </h5>\n                </div>\n            );\n        }\n\n        if (assetsList.length) {\n            assets = assets.clear();\n            assetsList.forEach(a => {\n                if (a) assets = assets.set(a.get(\"id\"), a.toJS());\n            });\n        }\n        let myAssets = assets\n            .filter(asset => {\n                return asset.issuer === account.get(\"id\");\n            })\n            .sort((a, b) => {\n                return (\n                    parseInt(a.id.substring(4, a.id.length), 10) -\n                    parseInt(b.id.substring(4, b.id.length), 10)\n                );\n            })\n            .map(asset => {\n                let description = assetUtils.parseDescription(\n                    asset.options.description\n                );\n                let desc = description.short_name\n                    ? description.short_name\n                    : description.main;\n\n                if (desc.length > 100) {\n                    desc = desc.substr(0, 100) + \"...\";\n                }\n\n                const dynamicObject = this.props.getDynamicObject(\n                    asset.dynamic_asset_data_id\n                );\n\n                return (\n                    <tr key={asset.symbol}>\n                        <td>\n                            <Link to={`/asset/${asset.symbol}`}>\n                                {asset.symbol}\n                            </Link>\n                        </td>\n                        <td style={{maxWidth: \"250px\"}}>{desc}</td>\n                        <td>\n                            {dynamicObject ? (\n                                <FormattedAsset\n                                    amount={parseInt(\n                                        dynamicObject.get(\"current_supply\"),\n                                        10\n                                    )}\n                                    asset={asset.id}\n                                />\n                            ) : null}\n                        </td>\n                        <td>\n                            <FormattedAsset\n                                amount={parseInt(asset.options.max_supply, 10)}\n                                asset={asset.id}\n                            />\n                        </td>\n                        <td>\n                            {!asset.bitasset_data_id ? (\n                                <button\n                                    onClick={this._issueButtonClick.bind(\n                                        this,\n                                        asset.id,\n                                        asset.symbol\n                                    )}\n                                    className=\"button\"\n                                >\n                                    <Translate content=\"transaction.trxTypes.asset_issue\" />\n                                </button>\n                            ) : null}\n                        </td>\n\n                        <td>\n                            {!asset.bitasset_data_id ? (\n                                <button\n                                    onClick={this._reserveButtonClick.bind(\n                                        this,\n                                        asset.id\n                                    )}\n                                    className=\"button\"\n                                >\n                                    <Translate content=\"transaction.trxTypes.asset_reserve\" />\n                                </button>\n                            ) : null}\n                        </td>\n\n                        <td>\n                            <button\n                                onClick={this._editButtonClick.bind(\n                                    this,\n                                    asset.symbol,\n                                    account_name\n                                )}\n                                className=\"button\"\n                            >\n                                <Translate content=\"transaction.trxTypes.asset_update\" />\n                            </button>\n                        </td>\n                    </tr>\n                );\n            })\n            .toArray();\n\n        return (\n            <div className=\"grid-content app-tables no-padding\" ref=\"appTables\">\n                <div className=\"content-block small-12\">\n                    <div className=\"tabs-container generic-bordered-box\">\n                        <Tabs\n                            segmented={false}\n                            setting=\"issuedAssetsTab\"\n                            className=\"account-tabs\"\n                            tabsClass=\"account-overview bordered-header content-block\"\n                            contentClass=\"padding\"\n                        >\n                            <Tab title=\"account.user_issued_assets.issued_assets\">\n                                <div className=\"content-block\">\n                                    <table className=\"table dashboard-table table-hover\">\n                                        <thead>\n                                            <tr>\n                                                <th>\n                                                    <Translate content=\"account.user_issued_assets.symbol\" />\n                                                </th>\n                                                <th style={{maxWidth: \"200px\"}}>\n                                                    <Translate content=\"account.user_issued_assets.description\" />\n                                                </th>\n                                                <Translate\n                                                    component=\"th\"\n                                                    content=\"markets.supply\"\n                                                />\n                                                <th>\n                                                    <Translate content=\"account.user_issued_assets.max_supply\" />\n                                                </th>\n                                                <th\n                                                    style={{\n                                                        textAlign: \"center\"\n                                                    }}\n                                                    colSpan=\"3\"\n                                                >\n                                                    <Translate content=\"account.perm.action\" />\n                                                </th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>{myAssets}</tbody>\n                                    </table>\n                                </div>\n\n                                <div className=\"content-block\">\n                                    <Link\n                                        to={`/account/${account_name}/create-asset/`}\n                                    >\n                                        <button className=\"button\">\n                                            <Translate content=\"transaction.trxTypes.asset_create\" />\n                                        </button>\n                                    </Link>\n                                </div>\n                            </Tab>\n                        </Tabs>\n                    </div>\n\n                    <BaseModal id=\"issue_asset\" overlay={true}>\n                        <br />\n                        <div className=\"grid-block vertical\">\n                            <IssueModal\n                                asset_to_issue={this.state.issue.asset_id}\n                                onClose={() => {\n                                    ZfApi.publish(\"issue_asset\", \"close\");\n                                }}\n                            />\n                        </div>\n                    </BaseModal>\n\n                    <BaseModal id=\"reserve_asset\" overlay={true}>\n                        <br />\n                        <div className=\"grid-block vertical\">\n                            <ReserveAssetModal\n                                assetId={this.state.reserve}\n                                account={account}\n                                onClose={() => {\n                                    ZfApi.publish(\"reserve_asset\", \"close\");\n                                }}\n                            />\n                        </div>\n                    </BaseModal>\n                </div>\n            </div>\n        );\n    }\n}\n\nAccountAssets = AssetWrapper(AccountAssets, {\n    propNames: [\"assetsList\"],\n    asList: true,\n    withDynamic: true\n});\n\nexport default connect(\n    AccountAssets,\n    {\n        listenTo() {\n            return [AssetStore];\n        },\n        getProps(props) {\n            let assets = Map(),\n                assetsList = List();\n            if (props.account.get(\"assets\", []).size) {\n                props.account.get(\"assets\", []).forEach(id => {\n                    assetsList = assetsList.push(id);\n                });\n            } else {\n                assets = AssetStore.getState().assets;\n            }\n            return {assets, assetsList};\n        }\n    }\n);\n","import React from \"react\";\nimport Translate from \"react-translate-component\";\nimport ChainTypes from \"../Utility/ChainTypes\";\nimport BindToChainState from \"../Utility/BindToChainState\";\nimport utils from \"common/utils\";\nimport counterpart from \"counterpart\";\nimport ApplicationApi from \"api/ApplicationApi\";\nimport AccountSelector from \"../Account/AccountSelector\";\nimport AmountSelector from \"../Utility/AmountSelector\";\nimport notify from \"actions/NotificationActions\";\n\nclass IssueModal extends React.Component {\n    static propTypes = {\n        asset_to_issue: ChainTypes.ChainAsset.isRequired\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            amount: props.amount,\n            to: props.to,\n            to_id: null,\n            memo: \"\"\n        };\n    }\n\n    onAmountChanged({amount}) {\n        this.setState({amount: amount});\n    }\n\n    onToAccountChanged(to) {\n        let state = to\n            ? {to: to.get(\"name\"), to_id: to.get(\"id\")}\n            : {to_id: null};\n        this.setState(state);\n    }\n\n    onToChanged(to) {\n        this.setState({to: to, to_id: null});\n    }\n\n    onSubmit() {\n        let {asset_to_issue} = this.props;\n        let precision = utils.get_asset_precision(\n            asset_to_issue.get(\"precision\")\n        );\n        let amount = this.state.amount.toString().replace(/,/g, \"\");\n        amount *= precision;\n\n        ApplicationApi.issue_asset(\n            this.state.to_id,\n            asset_to_issue.get(\"issuer\"),\n            asset_to_issue.get(\"id\"),\n            amount,\n            this.state.memo\n                ? new Buffer(this.state.memo, \"utf-8\")\n                : this.state.memo\n        ).catch(err => {\n            console.log(\"issue error caught here:\", err);\n            notify.addNotification({\n                message: `Failed to issue the asset, probably due to an invalid amount being issued`, //: ${this.state.wallet_public_name}\n                level: \"error\",\n                autoDismiss: 10\n            });\n        });\n\n        this.setState({\n            amount: 0,\n            to: \"\",\n            to_id: null,\n            memo: \"\"\n        });\n    }\n\n    onMemoChanged(e) {\n        this.setState({memo: e.target.value});\n    }\n\n    render() {\n        let asset_to_issue = this.props.asset_to_issue.get(\"id\");\n        let tabIndex = 1;\n\n        return (\n            <form className=\"grid-block vertical full-width-content\">\n                <div className=\"grid-container \" style={{paddingTop: \"2rem\"}}>\n                    {/* T O */}\n                    <div className=\"content-block\">\n                        <AccountSelector\n                            label={\"modal.issue.to\"}\n                            accountName={this.state.to}\n                            onAccountChanged={this.onToAccountChanged.bind(\n                                this\n                            )}\n                            onChange={this.onToChanged.bind(this)}\n                            account={this.state.to}\n                            tabIndex={tabIndex++}\n                        />\n                    </div>\n\n                    {/* A M O U N T */}\n                    <div className=\"content-block\">\n                        <AmountSelector\n                            label=\"modal.issue.amount\"\n                            amount={this.state.amount}\n                            onChange={this.onAmountChanged.bind(this)}\n                            asset={asset_to_issue}\n                            assets={[asset_to_issue]}\n                            tabIndex={tabIndex++}\n                        />\n                    </div>\n\n                    {/*  M E M O  */}\n                    <div className=\"content-block\">\n                        <label>\n                            <Translate\n                                component=\"span\"\n                                content=\"transfer.memo\"\n                            />{\" \"}\n                            (<Translate content=\"transfer.optional\" />)\n                        </label>\n                        <textarea\n                            rows=\"3\"\n                            value={this.state.memo}\n                            tabIndex={tabIndex++}\n                            onChange={this.onMemoChanged.bind(this)}\n                        />\n                    </div>\n\n                    <div className=\"content-block button-group\">\n                        <button\n                            type=\"submit\"\n                            className=\"button primary\"\n                            onClick={this.onSubmit.bind(\n                                this,\n                                this.state.to,\n                                this.state.amount\n                            )}\n                            disabled={!this.state.to_id || !this.state.amount}\n                            tabIndex={tabIndex++}\n                        >\n                            {counterpart.translate(\"modal.issue.submit\")}\n                        </button>\n\n                        <button\n                            className=\"button primary hollow\"\n                            onClick={this.props.onClose}\n                            tabIndex={tabIndex++}\n                        >\n                            {counterpart.translate(\"cancel\")}\n                        </button>\n                    </div>\n                </div>\n            </form>\n        );\n    }\n}\n\nexport default BindToChainState(IssueModal);\n","import React from \"react\";\nimport Translate from \"react-translate-component\";\nimport utils from \"common/utils\";\nimport BalanceComponent from \"../Utility/BalanceComponent\";\nimport counterpart from \"counterpart\";\nimport AmountSelector from \"../Utility/AmountSelector\";\nimport AssetActions from \"actions/AssetActions\";\n\nexport default class ReserveAssetModal extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            amount: 0\n        };\n    }\n\n    onAmountChanged({amount, asset}) {\n        this.setState({amount, asset});\n    }\n\n    onSubmit() {\n        let precision = utils.get_asset_precision(\n            this.state.asset.get(\"precision\")\n        );\n        let amount = this.state.amount.replace(/,/g, \"\");\n        amount *= precision;\n        AssetActions.reserveAsset(\n            amount,\n            this.props.assetId,\n            this.props.account.get(\"id\")\n        );\n        this.props.onClose();\n    }\n\n    render() {\n        let assetId = this.props.assetId;\n\n        return (\n            <form className=\"grid-block vertical full-width-content\">\n                <Translate component=\"h3\" content=\"modal.reserve.title\" />\n                <div className=\"grid-container \" style={{paddingTop: \"2rem\"}}>\n                    <div className=\"content-block\">\n                        <AmountSelector\n                            label=\"modal.reserve.amount\"\n                            amount={this.state.amount}\n                            onChange={this.onAmountChanged.bind(this)}\n                            asset={assetId}\n                            assets={[assetId]}\n                            display_balance={\n                                <BalanceComponent\n                                    balance={this.props.account.getIn([\n                                        \"balances\",\n                                        assetId\n                                    ])}\n                                />\n                            }\n                            tabIndex={1}\n                        />\n                    </div>\n\n                    <div className=\"content-block button-group\">\n                        <input\n                            type=\"submit\"\n                            className=\"button success\"\n                            onClick={this.onSubmit.bind(this)}\n                            value={counterpart.translate(\n                                \"modal.reserve.submit\"\n                            )}\n                            tabIndex={2}\n                        />\n\n                        <div\n                            className=\"button\"\n                            onClick={this.props.onClose}\n                            tabIndex={3}\n                        >\n                            {counterpart.translate(\"cancel\")}\n                        </div>\n                    </div>\n                </div>\n            </form>\n        );\n    }\n}\n","import React from \"react\";\nimport Translate from \"react-translate-component\";\nimport classnames from \"classnames\";\nimport AssetActions from \"actions/AssetActions\";\nimport HelpContent from \"../Utility/HelpContent\";\nimport utils from \"common/utils\";\nimport {ChainStore, ChainValidation} from \"bitsharesjs\";\nimport FormattedAsset from \"../Utility/FormattedAsset\";\nimport counterpart from \"counterpart\";\nimport ChainTypes from \"../Utility/ChainTypes\";\nimport BindToChainState from \"../Utility/BindToChainState\";\nimport AssetSelector from \"../Utility/AssetSelector\";\nimport big from \"bignumber.js\";\nimport cnames from \"classnames\";\nimport assetUtils from \"common/asset_utils\";\nimport {Tabs, Tab} from \"../Utility/Tabs\";\nimport AmountSelector from \"../Utility/AmountSelector\";\nimport assetConstants from \"chain/asset_constants\";\nimport {estimateFee} from \"common/trxHelper\";\nimport PropTypes from \"prop-types\";\n\nlet GRAPHENE_MAX_SHARE_SUPPLY = new big(\n    assetConstants.GRAPHENE_MAX_SHARE_SUPPLY\n);\n\nclass BitAssetOptions extends React.Component {\n    static propTypes = {\n        backingAsset: ChainTypes.ChainAsset.isRequired,\n        isUpdate: PropTypes.bool\n    };\n\n    static defaultProps = {\n        isUpdate: false\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            backingAsset: props.backingAsset.get(\"symbol\"),\n            error: null\n        };\n    }\n\n    _onInputBackingAsset(asset) {\n        this.setState({\n            backingAsset: asset.toUpperCase(),\n            error: null\n        });\n    }\n\n    _onFoundBackingAsset(asset) {\n        if (asset) {\n            if (\n                asset.get(\"id\") === \"1.3.0\" ||\n                (asset.get(\"bitasset_data_id\") &&\n                    !asset.getIn([\"bitasset\", \"is_prediction_market\"]))\n            ) {\n                if (\n                    this.props.isPredictionMarket &&\n                    asset.get(\"precision\") !==\n                        parseInt(this.props.assetPrecision, 10)\n                ) {\n                    this.setState({\n                        error: counterpart.translate(\n                            \"account.user_issued_assets.error_precision\",\n                            {asset: this.props.assetSymbol}\n                        )\n                    });\n                } else {\n                    this.props.onUpdate(\"short_backing_asset\", asset.get(\"id\"));\n                }\n            } else {\n                this.setState({\n                    error: counterpart.translate(\n                        \"account.user_issued_assets.error_invalid\"\n                    )\n                });\n            }\n        }\n    }\n\n    render() {\n        let {bitasset_opts} = this.props;\n        let {error} = this.state;\n\n        return (\n            <div className=\"small-12 grid-content\">\n                <label>\n                    <Translate content=\"account.user_issued_assets.feed_lifetime_sec\" />\n                    <input\n                        type=\"number\"\n                        value={bitasset_opts.feed_lifetime_sec / 60}\n                        onChange={this.props.onUpdate.bind(\n                            this,\n                            \"feed_lifetime_sec\"\n                        )}\n                    />\n                </label>\n\n                <label>\n                    <Translate content=\"account.user_issued_assets.minimum_feeds\" />\n                    <input\n                        type=\"number\"\n                        value={bitasset_opts.minimum_feeds}\n                        onChange={this.props.onUpdate.bind(\n                            this,\n                            \"minimum_feeds\"\n                        )}\n                    />\n                </label>\n\n                <label>\n                    <Translate content=\"account.user_issued_assets.force_settlement_delay_sec\" />\n                    <input\n                        type=\"number\"\n                        value={bitasset_opts.force_settlement_delay_sec / 60}\n                        onChange={this.props.onUpdate.bind(\n                            this,\n                            \"force_settlement_delay_sec\"\n                        )}\n                    />\n                </label>\n\n                <label>\n                    <Translate content=\"account.user_issued_assets.force_settlement_offset_percent\" />\n                    <input\n                        type=\"number\"\n                        value={\n                            bitasset_opts.force_settlement_offset_percent /\n                            assetConstants.GRAPHENE_1_PERCENT\n                        }\n                        onChange={this.props.onUpdate.bind(\n                            this,\n                            \"force_settlement_offset_percent\"\n                        )}\n                    />\n                </label>\n\n                <label>\n                    <Translate content=\"account.user_issued_assets.maximum_force_settlement_volume\" />\n                    <input\n                        type=\"number\"\n                        value={\n                            bitasset_opts.maximum_force_settlement_volume /\n                            assetConstants.GRAPHENE_1_PERCENT\n                        }\n                        onChange={this.props.onUpdate.bind(\n                            this,\n                            \"maximum_force_settlement_volume\"\n                        )}\n                    />\n                </label>\n\n                <div className=\"grid-block no-margin small-12\">\n                    <AssetSelector\n                        label=\"account.user_issued_assets.backing\"\n                        onChange={this._onInputBackingAsset.bind(this)}\n                        asset={this.state.backingAsset}\n                        assetInput={this.state.backingAsset}\n                        tabIndex={1}\n                        style={{width: \"100%\", paddingRight: \"10px\"}}\n                        onFound={this._onFoundBackingAsset.bind(this)}\n                    />\n                    {error ? (\n                        <div className=\"content-block has-error\">{error}</div>\n                    ) : null}\n                </div>\n            </div>\n        );\n    }\n}\nBitAssetOptions = BindToChainState(BitAssetOptions);\n\nclass AccountAssetCreate extends React.Component {\n    static propTypes = {\n        core: ChainTypes.ChainAsset.isRequired,\n        globalObject: ChainTypes.ChainObject.isRequired\n    };\n\n    static defaultProps = {\n        globalObject: \"2.0.0\",\n        core: \"1.3.0\"\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = this.resetState(props);\n    }\n\n    resetState(props) {\n        // let asset = props.asset.toJS();\n        let isBitAsset = false;\n        let precision = utils.get_asset_precision(4);\n        let corePrecision = utils.get_asset_precision(\n            props.core.get(\"precision\")\n        );\n\n        let {flagBooleans, permissionBooleans} = this._getPermissions({\n            isBitAsset\n        });\n\n        // let flags = assetUtils.getFlags(flagBooleans);\n        // let permissions = assetUtils.getPermissions(permissionBooleans, isBitAsset);\n        // console.log(\"all permissions:\", permissionBooleans, permissions)\n\n        let coreRateBaseAssetName = ChainStore.getAsset(\"1.3.0\").get(\"symbol\");\n\n        return {\n            update: {\n                symbol: \"\",\n                precision: 4,\n                max_supply: 100000,\n                max_market_fee: 0,\n                market_fee_percent: 0,\n                description: {main: \"\"}\n            },\n            errors: {\n                max_supply: null\n            },\n            isValid: true,\n            flagBooleans: flagBooleans,\n            permissionBooleans: permissionBooleans,\n            isBitAsset: isBitAsset,\n            is_prediction_market: false,\n            core_exchange_rate: {\n                quote: {\n                    asset_id: null,\n                    amount: 1\n                },\n                base: {\n                    asset_id: \"1.3.0\",\n                    amount: 1\n                }\n            },\n            bitasset_opts: {\n                feed_lifetime_sec: 60 * 60 * 24,\n                minimum_feeds: 7,\n                force_settlement_delay_sec: 60 * 60 * 24,\n                force_settlement_offset_percent:\n                    1 * assetConstants.GRAPHENE_1_PERCENT,\n                maximum_force_settlement_volume:\n                    20 * assetConstants.GRAPHENE_1_PERCENT,\n                short_backing_asset: \"1.3.0\"\n            },\n            marketInput: \"\"\n        };\n    }\n\n    _getPermissions(state) {\n        let flagBooleans = assetUtils.getFlagBooleans(0, state.isBitAsset);\n        let permissionBooleans = assetUtils.getFlagBooleans(\n            \"all\",\n            state.isBitAsset\n        );\n\n        return {\n            flagBooleans,\n            permissionBooleans\n        };\n    }\n\n    _createAsset(e) {\n        e.preventDefault();\n        let {\n            update,\n            flagBooleans,\n            permissionBooleans,\n            core_exchange_rate,\n            isBitAsset,\n            is_prediction_market,\n            bitasset_opts\n        } = this.state;\n\n        let {account} = this.props;\n\n        let flags = assetUtils.getFlags(flagBooleans, isBitAsset);\n        let permissions = assetUtils.getPermissions(\n            permissionBooleans,\n            isBitAsset\n        );\n\n        if (this.state.marketInput !== update.description.market) {\n            update.description.market = \"\";\n        }\n        let description = JSON.stringify(update.description);\n\n        AssetActions.createAsset(\n            account.get(\"id\"),\n            update,\n            flags,\n            permissions,\n            core_exchange_rate,\n            isBitAsset,\n            is_prediction_market,\n            bitasset_opts,\n            description\n        ).then(result => {\n            console.log(\n                \"... AssetActions.createAsset(account_id, update)\",\n                account.get(\"id\"),\n                update,\n                flags,\n                permissions\n            );\n        });\n    }\n\n    _hasChanged() {\n        return !utils.are_equal_shallow(\n            this.state,\n            this.resetState(this.props)\n        );\n    }\n\n    _reset(e) {\n        e.preventDefault();\n\n        this.setState(this.resetState(this.props));\n    }\n\n    _forcePositive(number) {\n        return parseFloat(number) < 0 ? \"0\" : number;\n    }\n\n    _onUpdateDescription(value, e) {\n        let {update} = this.state;\n        let updateState = true;\n\n        switch (value) {\n            case \"condition\":\n                if (e.target.value.length > 60) {\n                    updateState = false;\n                    return;\n                }\n                update.description[value] = e.target.value;\n                break;\n\n            case \"short_name\":\n                if (e.target.value.length > 32) {\n                    updateState = false;\n                    return;\n                }\n                update.description[value] = e.target.value;\n                break;\n\n            case \"market\":\n                update.description[value] = e;\n                break;\n\n            case \"visible\":\n                update.description[value] = !update.description[value];\n                break;\n\n            default:\n                update.description[value] = e.target.value;\n                break;\n        }\n\n        if (updateState) {\n            this.forceUpdate();\n            this._validateEditFields(update);\n        }\n    }\n\n    onChangeBitAssetOpts(value, e) {\n        let {bitasset_opts} = this.state;\n\n        switch (value) {\n            case \"force_settlement_offset_percent\":\n            case \"maximum_force_settlement_volume\":\n                bitasset_opts[value] =\n                    parseFloat(e.target.value) *\n                    assetConstants.GRAPHENE_1_PERCENT;\n                break;\n            case \"minimum_feeds\":\n                bitasset_opts[value] = parseInt(e.target.value, 10);\n                break;\n            case \"feed_lifetime_sec\":\n            case \"force_settlement_delay_sec\":\n                console.log(\n                    e.target.value,\n                    parseInt(parseFloat(e.target.value) * 60, 10)\n                );\n                bitasset_opts[value] = parseInt(\n                    parseFloat(e.target.value) * 60,\n                    10\n                );\n                break;\n\n            case \"short_backing_asset\":\n                bitasset_opts[value] = e;\n                break;\n\n            default:\n                bitasset_opts[value] = e.target.value;\n                break;\n        }\n\n        this.forceUpdate();\n    }\n\n    _onUpdateInput(value, e) {\n        let {update, errors} = this.state;\n        let updateState = true;\n        let shouldRestoreCursor = false;\n        let precision = utils.get_asset_precision(this.state.update.precision);\n        const target = e.target;\n        const caret = target.selectionStart;\n        const inputValue = target.value;\n\n        switch (value) {\n            case \"market_fee_percent\":\n                update[value] = this._forcePositive(target.value);\n                break;\n\n            case \"max_market_fee\":\n                if (\n                    new big(inputValue)\n                        .times(precision)\n                        .gt(GRAPHENE_MAX_SHARE_SUPPLY)\n                ) {\n                    errors.max_market_fee =\n                        \"The number you tried to enter is too large\";\n                    return this.setState({errors});\n                }\n                target.value = utils.limitByPrecision(\n                    target.value,\n                    this.state.update.precision\n                );\n                update[value] = target.value;\n                break;\n\n            case \"precision\":\n                // Enforce positive number\n                update[value] = this._forcePositive(target.value);\n                break;\n\n            case \"max_supply\":\n                shouldRestoreCursor = true;\n\n                const regexp_numeral = new RegExp(/[[:digit:]]/);\n\n                // Ensure input is valid\n                if (!regexp_numeral.test(target.value)) {\n                    target.value = target.value.replace(/[^0-9.]/g, \"\");\n                }\n\n                // Catch initial decimal input\n                if (target.value.charAt(0) == \".\") {\n                    target.value = \"0.\";\n                }\n\n                // Catch double decimal and remove if invalid\n                if (\n                    target.value.charAt(target.value.length) !=\n                    target.value.search(\".\")\n                ) {\n                    target.value.substr(1);\n                }\n\n                target.value = utils.limitByPrecision(\n                    target.value,\n                    this.state.update.precision\n                );\n                update[value] = target.value;\n\n                // if ((new big(target.value)).times(Math.pow(10, precision).gt(GRAPHENE_MAX_SHARE_SUPPLY)) {\n                //     return this.setState({\n                //         update,\n                //         errors: {max_supply: \"The number you tried to enter is too large\"\n                //     }});\n                // }\n                break;\n\n            case \"symbol\":\n                shouldRestoreCursor = true;\n                // Enforce uppercase\n                const symbol = target.value.toUpperCase();\n                // Enforce characters\n                let regexp = new RegExp(\"^[.A-Z0-9]+$\");\n                if (symbol !== \"\" && !regexp.test(symbol)) {\n                    break;\n                }\n                ChainStore.getAsset(symbol);\n                update[value] = this._forcePositive(symbol);\n                break;\n\n            default:\n                update[value] = target.value;\n                break;\n        }\n\n        if (updateState) {\n            this.setState({update: update}, () => {\n                if (shouldRestoreCursor) {\n                    const selectionStart =\n                        caret - (inputValue.length - update[value].length);\n                    target.setSelectionRange(selectionStart, selectionStart);\n                }\n            });\n            this._validateEditFields(update);\n        }\n    }\n\n    _validateEditFields(new_state) {\n        let errors = {\n            max_supply: null\n        };\n\n        errors.symbol = ChainValidation.is_valid_symbol_error(new_state.symbol);\n        let existingAsset = ChainStore.getAsset(new_state.symbol);\n        if (existingAsset) {\n            errors.symbol = counterpart.translate(\n                \"account.user_issued_assets.exists\"\n            );\n        }\n\n        try {\n            errors.max_supply =\n                new_state.max_supply <= 0\n                    ? counterpart.translate(\n                          \"account.user_issued_assets.max_positive\"\n                      )\n                    : new big(new_state.max_supply)\n                          .times(Math.pow(10, new_state.precision))\n                          .gt(GRAPHENE_MAX_SHARE_SUPPLY)\n                        ? counterpart.translate(\n                              \"account.user_issued_assets.too_large\"\n                          )\n                        : null;\n        } catch (err) {\n            console.log(\"err:\", err);\n            errors.max_supply = counterpart.translate(\n                \"account.user_issued_assets.too_large\"\n            );\n        }\n\n        let isValid = !errors.symbol && !errors.max_supply;\n\n        this.setState({isValid: isValid, errors: errors});\n    }\n\n    _onFlagChange(key) {\n        let booleans = this.state.flagBooleans;\n        booleans[key] = !booleans[key];\n        this.setState({\n            flagBooleans: booleans\n        });\n    }\n\n    _onPermissionChange(key) {\n        let booleans = this.state.permissionBooleans;\n        booleans[key] = !booleans[key];\n        this.setState({\n            permissionBooleans: booleans\n        });\n    }\n\n    _onInputCoreAsset(type, asset) {\n        if (type === \"quote\") {\n            this.setState({\n                quoteAssetInput: asset\n            });\n        } else if (type === \"base\") {\n            this.setState({\n                baseAssetInput: asset\n            });\n        }\n    }\n\n    _onFoundCoreAsset(type, asset) {\n        if (asset) {\n            let core_rate = this.state.core_exchange_rate;\n            core_rate[type].asset_id = asset.get(\"id\");\n\n            this.setState({\n                core_exchange_rate: core_rate\n            });\n\n            this._validateEditFields({\n                max_supply: this.state.max_supply,\n                core_exchange_rate: core_rate\n            });\n        }\n    }\n\n    _onInputMarket(asset) {\n        this.setState({\n            marketInput: asset\n        });\n    }\n\n    _onFoundMarketAsset(asset) {\n        if (asset) {\n            this._onUpdateDescription(\"market\", asset.get(\"symbol\"));\n        }\n    }\n\n    _onCoreRateChange(type, e) {\n        let amount, asset;\n        if (type === \"quote\") {\n            amount = utils.limitByPrecision(\n                e.target.value,\n                this.state.update.precision\n            );\n            asset = null;\n        } else {\n            if (!e || !(\"amount\" in e)) {\n                return;\n            }\n            amount =\n                e.amount == \"\"\n                    ? \"0\"\n                    : utils.limitByPrecision(\n                          e.amount.toString().replace(/,/g, \"\"),\n                          this.props.core.get(\"precision\")\n                      );\n            asset = e.asset.get(\"id\");\n        }\n\n        let {core_exchange_rate} = this.state;\n        core_exchange_rate[type] = {\n            amount: amount,\n            asset_id: asset\n        };\n        this.forceUpdate();\n    }\n\n    _onToggleBitAsset() {\n        let {update} = this.state;\n        this.state.isBitAsset = !this.state.isBitAsset;\n        if (!this.state.isBitAsset) {\n            this.state.is_prediction_market = false;\n        }\n\n        let {flagBooleans, permissionBooleans} = this._getPermissions(\n            this.state\n        );\n        this.state.flagBooleans = flagBooleans;\n        this.state.permissionBooleans = permissionBooleans;\n\n        this.forceUpdate();\n    }\n\n    _onTogglePM() {\n        this.state.is_prediction_market = !this.state.is_prediction_market;\n        this.state.update.precision = this.props.core.get(\"precision\");\n        this.state.core_exchange_rate.base.asset_id = this.props.core.get(\"id\");\n        this.forceUpdate();\n    }\n\n    render() {\n        let {globalObject, core} = this.props;\n        let {\n            errors,\n            isValid,\n            update,\n            flagBooleans,\n            permissionBooleans,\n            core_exchange_rate,\n            is_prediction_market,\n            isBitAsset,\n            bitasset_opts\n        } = this.state;\n\n        // Estimate the asset creation fee from the symbol character length\n        let symbolLength = update.symbol.length,\n            createFee = \"N/A\";\n\n        if (symbolLength === 3) {\n            createFee = (\n                <FormattedAsset\n                    amount={estimateFee(\n                        \"asset_create\",\n                        [\"symbol3\"],\n                        globalObject\n                    )}\n                    asset={\"1.3.0\"}\n                />\n            );\n        } else if (symbolLength === 4) {\n            createFee = (\n                <FormattedAsset\n                    amount={estimateFee(\n                        \"asset_create\",\n                        [\"symbol4\"],\n                        globalObject\n                    )}\n                    asset={\"1.3.0\"}\n                />\n            );\n        } else if (symbolLength > 4) {\n            createFee = (\n                <FormattedAsset\n                    amount={estimateFee(\n                        \"asset_create\",\n                        [\"long_symbol\"],\n                        globalObject\n                    )}\n                    asset={\"1.3.0\"}\n                />\n            );\n        }\n\n        // Loop over flags\n        let flags = [];\n        let getFlag = (key, onClick, isChecked) => {\n            return (\n                <table key={\"table_\" + key} className=\"table\">\n                    <tbody>\n                        <tr>\n                            <td style={{border: \"none\", width: \"80%\"}}>\n                                <Translate\n                                    content={`account.user_issued_assets.${key}`}\n                                />:\n                            </td>\n                            <td style={{border: \"none\"}}>\n                                <div\n                                    className=\"switch\"\n                                    style={{marginBottom: \"10px\"}}\n                                    onClick={onClick}\n                                >\n                                    <input\n                                        type=\"checkbox\"\n                                        checked={isChecked}\n                                    />\n                                    <label />\n                                </div>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            );\n        };\n        for (let key in permissionBooleans) {\n            if (permissionBooleans[key] && key !== \"charge_market_fee\") {\n                flags.push(\n                    getFlag(\n                        key,\n                        this._onFlagChange.bind(this, key),\n                        flagBooleans[key]\n                    )\n                );\n            }\n        }\n\n        flags.push(\n            getFlag(\n                \"visible\",\n                this._onUpdateDescription.bind(this, \"visible\"),\n                update.description.visible\n                    ? false\n                    : update.description.visible === false\n                        ? true\n                        : false\n            )\n        );\n\n        // Loop over permissions\n        let permissions = [];\n        for (let key in permissionBooleans) {\n            permissions.push(\n                <table key={\"table_\" + key} className=\"table\">\n                    <tbody>\n                        <tr>\n                            <td style={{border: \"none\", width: \"80%\"}}>\n                                <Translate\n                                    content={`account.user_issued_assets.${key}`}\n                                />:\n                            </td>\n                            <td style={{border: \"none\"}}>\n                                <div\n                                    className=\"switch\"\n                                    style={{marginBottom: \"10px\"}}\n                                    onClick={this._onPermissionChange.bind(\n                                        this,\n                                        key\n                                    )}\n                                >\n                                    <input\n                                        type=\"checkbox\"\n                                        checked={permissionBooleans[key]}\n                                        onChange={() => {}}\n                                    />\n                                    <label />\n                                </div>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            );\n        }\n\n        const confirmButtons = (\n            <div>\n                <button\n                    className=\"button\"\n                    onClick={this._reset.bind(this)}\n                    value={counterpart.translate(\"account.perm.reset\")}\n                >\n                    <Translate content=\"account.perm.reset\" />\n                </button>\n                <button\n                    className={classnames(\"button\", {disabled: !isValid})}\n                    onClick={this._createAsset.bind(this)}\n                >\n                    <Translate content=\"header.create_asset\" />\n                </button>\n            </div>\n        );\n\n        return (\n            <div className=\"grid-content app-tables no-padding\" ref=\"appTables\">\n                <div className=\"content-block small-12\">\n                    <div className=\"tabs-container generic-bordered-box\">\n                        <div className=\"tabs-header\">\n                            <h3>\n                                <Translate content=\"header.create_asset\" />\n                            </h3>\n                        </div>\n\n                        <Tabs\n                            setting=\"createAssetTab\"\n                            className=\"account-tabs\"\n                            tabsClass=\"account-overview no-padding bordered-header content-block\"\n                            contentClass=\"grid-block shrink small-vertical medium-horizontal padding\"\n                            segmented={false}\n                            actionButtons={confirmButtons}\n                        >\n                            <Tab title=\"account.user_issued_assets.primary\">\n                                <div className=\"small-12 grid-content\">\n                                    <label>\n                                        <Translate content=\"account.user_issued_assets.symbol\" />\n                                        <input\n                                            type=\"text\"\n                                            value={update.symbol}\n                                            onChange={this._onUpdateInput.bind(\n                                                this,\n                                                \"symbol\"\n                                            )}\n                                        />\n                                    </label>\n                                    {errors.symbol ? (\n                                        <p className=\"grid-content has-error\">\n                                            {errors.symbol}\n                                        </p>\n                                    ) : null}\n\n                                    <label>\n                                        <Translate content=\"account.user_issued_assets.max_supply\" />{\" \"}\n                                        {update.symbol ? (\n                                            <span>({update.symbol})</span>\n                                        ) : null}\n                                        <input\n                                            type=\"text\"\n                                            value={update.max_supply}\n                                            onChange={this._onUpdateInput.bind(\n                                                this,\n                                                \"max_supply\"\n                                            )}\n                                        />\n                                    </label>\n                                    {errors.max_supply ? (\n                                        <p className=\"grid-content has-error\">\n                                            {errors.max_supply}\n                                        </p>\n                                    ) : null}\n\n                                    <label>\n                                        <Translate content=\"account.user_issued_assets.decimals\" />\n                                        <input\n                                            min=\"0\"\n                                            max=\"8\"\n                                            step=\"1\"\n                                            type=\"range\"\n                                            value={update.precision}\n                                            onChange={this._onUpdateInput.bind(\n                                                this,\n                                                \"precision\"\n                                            )}\n                                        />\n                                    </label>\n                                    <p>{update.precision}</p>\n\n                                    <div\n                                        style={{marginBottom: 10}}\n                                        className=\"txtlabel cancel\"\n                                    >\n                                        <Translate content=\"account.user_issued_assets.precision_warning\" />\n                                    </div>\n\n                                    <table\n                                        className=\"table\"\n                                        style={{width: \"inherit\"}}\n                                    >\n                                        <tbody>\n                                            <tr>\n                                                <td style={{border: \"none\"}}>\n                                                    <Translate\n                                                        content={\n                                                            \"account.user_issued_assets.mpa\"\n                                                        }\n                                                    />:\n                                                </td>\n                                                <td style={{border: \"none\"}}>\n                                                    <div\n                                                        className=\"switch\"\n                                                        style={{\n                                                            marginBottom: \"10px\"\n                                                        }}\n                                                        onClick={this._onToggleBitAsset.bind(\n                                                            this\n                                                        )}\n                                                    >\n                                                        <input\n                                                            type=\"checkbox\"\n                                                            checked={isBitAsset}\n                                                        />\n                                                        <label />\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n\n                                    {isBitAsset ? (\n                                        <table\n                                            className=\"table\"\n                                            style={{width: \"inherit\"}}\n                                        >\n                                            <tbody>\n                                                <tr>\n                                                    <td\n                                                        style={{border: \"none\"}}\n                                                    >\n                                                        <Translate\n                                                            content={\n                                                                \"account.user_issued_assets.pm\"\n                                                            }\n                                                        />:\n                                                    </td>\n                                                    <td\n                                                        style={{border: \"none\"}}\n                                                    >\n                                                        <div\n                                                            className=\"switch\"\n                                                            style={{\n                                                                marginBottom:\n                                                                    \"10px\"\n                                                            }}\n                                                            onClick={this._onTogglePM.bind(\n                                                                this\n                                                            )}\n                                                        >\n                                                            <input\n                                                                type=\"checkbox\"\n                                                                checked={\n                                                                    is_prediction_market\n                                                                }\n                                                            />\n                                                            <label />\n                                                        </div>\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    ) : null}\n\n                                    {/* CER */}\n                                    <Translate\n                                        component=\"h3\"\n                                        content=\"account.user_issued_assets.core_exchange_rate\"\n                                    />\n\n                                    <label>\n                                        <div className=\"grid-block no-margin\">\n                                            {errors.quote_asset ? (\n                                                <p className=\"grid-content has-error\">\n                                                    {errors.quote_asset}\n                                                </p>\n                                            ) : null}\n                                            {errors.base_asset ? (\n                                                <p className=\"grid-content has-error\">\n                                                    {errors.base_asset}\n                                                </p>\n                                            ) : null}\n                                            <div className=\"grid-block no-margin small-12 medium-6\">\n                                                <div\n                                                    className=\"amount-selector\"\n                                                    style={{\n                                                        width: \"100%\",\n                                                        paddingRight: \"10px\"\n                                                    }}\n                                                >\n                                                    <Translate\n                                                        component=\"label\"\n                                                        content=\"account.user_issued_assets.quote\"\n                                                    />\n                                                    <div className=\"inline-label\">\n                                                        <input\n                                                            type=\"text\"\n                                                            placeholder=\"0.0\"\n                                                            onChange={this._onCoreRateChange.bind(\n                                                                this,\n                                                                \"quote\"\n                                                            )}\n                                                            value={\n                                                                core_exchange_rate\n                                                                    .quote\n                                                                    .amount\n                                                            }\n                                                        />\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div className=\"grid-block no-margin small-12 medium-6\">\n                                                <AmountSelector\n                                                    label=\"account.user_issued_assets.base\"\n                                                    amount={\n                                                        core_exchange_rate.base\n                                                            .amount\n                                                    }\n                                                    onChange={this._onCoreRateChange.bind(\n                                                        this,\n                                                        \"base\"\n                                                    )}\n                                                    asset={\n                                                        core_exchange_rate.base\n                                                            .asset_id\n                                                    }\n                                                    assets={[\n                                                        core_exchange_rate.base\n                                                            .asset_id\n                                                    ]}\n                                                    placeholder=\"0.0\"\n                                                    tabIndex={1}\n                                                    style={{\n                                                        width: \"100%\",\n                                                        paddingLeft: \"10px\"\n                                                    }}\n                                                />\n                                            </div>\n                                        </div>\n                                        <div>\n                                            <h5>\n                                                <Translate content=\"exchange.price\" />\n                                                <span>\n                                                    :{\" \"}\n                                                    {utils.format_number(\n                                                        utils.get_asset_price(\n                                                            core_exchange_rate\n                                                                .quote.amount *\n                                                                utils.get_asset_precision(\n                                                                    update.precision\n                                                                ),\n                                                            {\n                                                                precision:\n                                                                    update.precision\n                                                            },\n                                                            core_exchange_rate\n                                                                .base.amount *\n                                                                utils.get_asset_precision(\n                                                                    core\n                                                                ),\n                                                            core\n                                                        ),\n                                                        2 +\n                                                            (parseInt(\n                                                                update.precision,\n                                                                10\n                                                            ) || 8)\n                                                    )}\n                                                </span>\n                                                <span>\n                                                    {\" \"}\n                                                    {update.symbol}/{core.get(\n                                                        \"symbol\"\n                                                    )}\n                                                </span>\n                                            </h5>\n                                        </div>\n                                    </label>\n                                    <div>\n                                        <Translate\n                                            content=\"account.user_issued_assets.cer_warning_1\"\n                                            component=\"label\"\n                                            className=\"has-error\"\n                                        />\n                                        <Translate\n                                            content=\"account.user_issued_assets.cer_warning_2\"\n                                            component=\"p\"\n                                        />\n                                    </div>\n                                    {\n                                        <p>\n                                            <Translate content=\"account.user_issued_assets.approx_fee\" />:{\" \"}\n                                            {createFee}\n                                        </p>\n                                    }\n                                </div>\n                            </Tab>\n\n                            <Tab title=\"account.user_issued_assets.description\">\n                                <div className=\"small-12 grid-content\">\n                                    <Translate\n                                        component=\"label\"\n                                        content=\"account.user_issued_assets.description\"\n                                    />\n                                    <label>\n                                        <textarea\n                                            style={{height: \"7rem\"}}\n                                            rows=\"1\"\n                                            value={update.description.main}\n                                            onChange={this._onUpdateDescription.bind(\n                                                this,\n                                                \"main\"\n                                            )}\n                                        />\n                                    </label>\n\n                                    <Translate\n                                        component=\"label\"\n                                        content=\"account.user_issued_assets.short\"\n                                    />\n                                    <label>\n                                        <input\n                                            type=\"text\"\n                                            rows=\"1\"\n                                            value={\n                                                update.description.short_name\n                                            }\n                                            onChange={this._onUpdateDescription.bind(\n                                                this,\n                                                \"short_name\"\n                                            )}\n                                        />\n                                    </label>\n\n                                    <Translate\n                                        component=\"label\"\n                                        content=\"account.user_issued_assets.market\"\n                                    />\n                                    <AssetSelector\n                                        label=\"account.user_issued_assets.name\"\n                                        onChange={this._onInputMarket.bind(\n                                            this\n                                        )}\n                                        asset={this.state.marketInput}\n                                        assetInput={this.state.marketInput}\n                                        style={{\n                                            width: \"100%\",\n                                            paddingRight: \"10px\"\n                                        }}\n                                        onFound={this._onFoundMarketAsset.bind(\n                                            this\n                                        )}\n                                    />\n\n                                    {is_prediction_market ? (\n                                        <div>\n                                            <Translate\n                                                component=\"h3\"\n                                                content=\"account.user_issued_assets.condition\"\n                                            />\n                                            <label>\n                                                <input\n                                                    type=\"text\"\n                                                    rows=\"1\"\n                                                    value={\n                                                        update.description\n                                                            .condition\n                                                    }\n                                                    onChange={this._onUpdateDescription.bind(\n                                                        this,\n                                                        \"condition\"\n                                                    )}\n                                                />\n                                            </label>\n\n                                            <Translate\n                                                component=\"h3\"\n                                                content=\"account.user_issued_assets.expiry\"\n                                            />\n                                            <label>\n                                                <input\n                                                    type=\"date\"\n                                                    value={\n                                                        update.description\n                                                            .expiry\n                                                    }\n                                                    onChange={this._onUpdateDescription.bind(\n                                                        this,\n                                                        \"expiry\"\n                                                    )}\n                                                />\n                                            </label>\n                                        </div>\n                                    ) : null}\n                                </div>\n                            </Tab>\n\n                            {isBitAsset ? (\n                                <Tab title=\"account.user_issued_assets.bitasset_opts\">\n                                    <BitAssetOptions\n                                        bitasset_opts={bitasset_opts}\n                                        onUpdate={this.onChangeBitAssetOpts.bind(\n                                            this\n                                        )}\n                                        backingAsset={\n                                            bitasset_opts.short_backing_asset\n                                        }\n                                        assetPrecision={update.precision}\n                                        assetSymbol={update.symbol}\n                                        isPredictionMarket={\n                                            is_prediction_market\n                                        }\n                                    />\n                                </Tab>\n                            ) : null}\n\n                            <Tab title=\"account.permissions\">\n                                <div className=\"small-12 grid-content\">\n                                    <div style={{maxWidth: 800}}>\n                                        <HelpContent\n                                            path={\n                                                \"components/AccountAssetCreate\"\n                                            }\n                                            section=\"permissions\"\n                                        />\n                                    </div>\n                                    {permissions}\n                                </div>\n                            </Tab>\n\n                            <Tab title=\"account.user_issued_assets.flags\">\n                                <div className=\"small-12 grid-content\">\n                                    <div style={{maxWidth: 800}}>\n                                        <HelpContent\n                                            path={\n                                                \"components/AccountAssetCreate\"\n                                            }\n                                            section=\"flags\"\n                                        />\n                                    </div>\n                                    {permissionBooleans[\"charge_market_fee\"] ? (\n                                        <div>\n                                            <Translate\n                                                component=\"h3\"\n                                                content=\"account.user_issued_assets.market_fee\"\n                                            />\n                                            <table className=\"table\">\n                                                <tbody>\n                                                    <tr>\n                                                        <td\n                                                            style={{\n                                                                border: \"none\",\n                                                                width: \"80%\"\n                                                            }}\n                                                        >\n                                                            <Translate content=\"account.user_issued_assets.charge_market_fee\" />:\n                                                        </td>\n                                                        <td\n                                                            style={{\n                                                                border: \"none\"\n                                                            }}\n                                                        >\n                                                            <div\n                                                                className=\"switch\"\n                                                                style={{\n                                                                    marginBottom:\n                                                                        \"10px\"\n                                                                }}\n                                                                onClick={this._onFlagChange.bind(\n                                                                    this,\n                                                                    \"charge_market_fee\"\n                                                                )}\n                                                            >\n                                                                <input\n                                                                    type=\"checkbox\"\n                                                                    checked={\n                                                                        flagBooleans.charge_market_fee\n                                                                    }\n                                                                />\n                                                                <label />\n                                                            </div>\n                                                        </td>\n                                                    </tr>\n                                                </tbody>\n                                            </table>\n                                            <div\n                                                className={cnames({\n                                                    disabled: !flagBooleans.charge_market_fee\n                                                })}\n                                            >\n                                                <label>\n                                                    <Translate content=\"account.user_issued_assets.market_fee\" />{\" \"}\n                                                    (%)\n                                                    <input\n                                                        type=\"number\"\n                                                        value={\n                                                            update.market_fee_percent\n                                                        }\n                                                        onChange={this._onUpdateInput.bind(\n                                                            this,\n                                                            \"market_fee_percent\"\n                                                        )}\n                                                    />\n                                                </label>\n\n                                                <label>\n                                                    <Translate content=\"account.user_issued_assets.max_market_fee\" />{\" \"}\n                                                    ({update.symbol})\n                                                    <input\n                                                        type=\"number\"\n                                                        value={\n                                                            update.max_market_fee\n                                                        }\n                                                        onChange={this._onUpdateInput.bind(\n                                                            this,\n                                                            \"max_market_fee\"\n                                                        )}\n                                                    />\n                                                </label>\n                                                {errors.max_market_fee ? (\n                                                    <p className=\"grid-content has-error\">\n                                                        {errors.max_market_fee}\n                                                    </p>\n                                                ) : null}\n                                            </div>\n                                        </div>\n                                    ) : null}\n\n                                    <h3>\n                                        <Translate content=\"account.user_issued_assets.flags\" />\n                                    </h3>\n                                    {flags}\n                                </div>\n                            </Tab>\n                        </Tabs>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nAccountAssetCreate = BindToChainState(AccountAssetCreate);\n\nexport {AccountAssetCreate, BitAssetOptions};\n","import React from \"react\";\nimport Translate from \"react-translate-component\";\nimport classnames from \"classnames\";\nimport AssetActions from \"actions/AssetActions\";\nimport HelpContent from \"../Utility/HelpContent\";\nimport utils from \"common/utils\";\nimport {ChainStore} from \"bitsharesjs\";\nimport FormattedAsset from \"../Utility/FormattedAsset\";\nimport FormattedFee from \"../Utility/FormattedFee\";\nimport counterpart from \"counterpart\";\nimport ChainTypes from \"../Utility/ChainTypes\";\nimport BindToChainState from \"../Utility/BindToChainState\";\nimport AssetWrapper from \"../Utility/AssetWrapper\";\nimport AmountSelector from \"../Utility/AmountSelector\";\nimport FormattedPrice from \"../Utility/FormattedPrice\";\nimport AccountSelector from \"../Account/AccountSelector\";\nimport AssetSelector from \"../Utility/AssetSelector\";\nimport big from \"bignumber.js\";\nimport cnames from \"classnames\";\nimport assetUtils from \"common/asset_utils\";\nimport {Tabs, Tab} from \"../Utility/Tabs\";\nimport {BitAssetOptions} from \"./AccountAssetCreate\";\nimport assetConstants from \"chain/asset_constants\";\nimport AssetWhitelist from \"./AssetWhitelist\";\nimport AssetFeedProducers from \"./AssetFeedProducers\";\nimport BaseModal from \"components/Modal/BaseModal\";\nimport ZfApi from \"react-foundation-apps/src/utils/foundation-api\";\nimport FundFeePool from \"./FundFeePool\";\nimport {withRouter} from \"react-router-dom\";\n\nlet GRAPHENE_MAX_SHARE_SUPPLY = new big(\n    assetConstants.GRAPHENE_MAX_SHARE_SUPPLY\n);\n\nclass AccountAssetUpdate extends React.Component {\n    static propTypes = {\n        globalObject: ChainTypes.ChainObject.isRequired\n    };\n\n    static defaultProps = {\n        globalObject: \"2.0.0\"\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = this.resetState(props);\n    }\n\n    _openConfirm() {\n        this.refs.confirm_modal.show();\n    }\n\n    _cancelConfirm() {\n        this.refs.confirm_modal.onClose();\n    }\n\n    resetState(props) {\n        let asset = props.asset.toJS();\n        let isBitAsset = asset.bitasset_data_id !== undefined;\n        let precision = utils.get_asset_precision(asset.precision);\n        let corePrecision = utils.get_asset_precision(\n            props.core.get(\"precision\")\n        );\n\n        let max_market_fee = new big(asset.options.max_market_fee)\n            .div(precision)\n            .toString();\n        let max_supply = new big(asset.options.max_supply)\n            .div(precision)\n            .toString();\n        let core_exchange_rate = asset.options.core_exchange_rate;\n        core_exchange_rate.quote.amount =\n            core_exchange_rate.quote.asset_id === asset.id\n                ? new big(core_exchange_rate.quote.amount)\n                      .div(precision)\n                      .toString()\n                : new big(core_exchange_rate.quote.amount)\n                      .div(corePrecision)\n                      .toString();\n\n        core_exchange_rate.base.amount =\n            core_exchange_rate.base.asset_id === asset.id\n                ? new big(core_exchange_rate.base.amount)\n                      .div(precision)\n                      .toString()\n                : new big(core_exchange_rate.base.amount)\n                      .div(corePrecision)\n                      .toString();\n\n        let flagBooleans = assetUtils.getFlagBooleans(\n            asset.options.flags,\n            isBitAsset\n        );\n        let permissionBooleans = assetUtils.getFlagBooleans(\n            asset.options.issuer_permissions,\n            isBitAsset\n        );\n        asset.options.market_fee_percent /= 100;\n\n        let coreRateQuoteAssetName = ChainStore.getAsset(\n            core_exchange_rate.quote.asset_id\n        ).get(\"symbol\");\n        let coreRateBaseAssetName = ChainStore.getAsset(\n            core_exchange_rate.base.asset_id\n        ).get(\"symbol\");\n\n        return {\n            update: {\n                max_supply: max_supply,\n                max_market_fee: max_market_fee,\n                market_fee_percent: asset.options.market_fee_percent,\n                description: assetUtils.parseDescription(\n                    asset.options.description\n                )\n            },\n            core_exchange_rate: core_exchange_rate,\n            issuer: asset.issuer,\n            new_issuer_account_id: null,\n            issuer_account_name: null,\n            new_funder_account: props.account.get(\"id\"),\n            asset_to_update: asset.id,\n            errors: {\n                max_supply: null\n            },\n            new_authority_id: null,\n            authority_name: null,\n            isValid: true,\n            flagBooleans: flagBooleans,\n            permissionBooleans: permissionBooleans,\n            isBitAsset: isBitAsset,\n            coreRateQuoteAssetName: coreRateQuoteAssetName,\n            quoteAssetInput: coreRateQuoteAssetName,\n            coreRateBaseAssetName: coreRateBaseAssetName,\n            baseAssetInput: coreRateBaseAssetName,\n            claimFeesAmount: 0,\n            bitasset_opts: isBitAsset ? asset.bitasset.options : null,\n            original_bitasset_opts: isBitAsset\n                ? props.asset.getIn([\"bitasset\", \"options\"]).toJS()\n                : null,\n            marketInput: \"\",\n            whitelist_authorities: props.asset.getIn([\n                \"options\",\n                \"whitelist_authorities\"\n            ]),\n            blacklist_authorities: props.asset.getIn([\n                \"options\",\n                \"blacklist_authorities\"\n            ]),\n            whitelist_markets: props.asset.getIn([\n                \"options\",\n                \"whitelist_markets\"\n            ]),\n            blacklist_markets: props.asset.getIn([\n                \"options\",\n                \"blacklist_markets\"\n            ]),\n            maxFeedProducers: props.globalObject.getIn([\n                \"parameters\",\n                \"maximum_asset_feed_publishers\"\n            ]),\n            feedProducers: isBitAsset\n                ? props.asset.getIn([\"bitasset\", \"feeds\"], []).map(a => {\n                      return a.first();\n                  })\n                : null,\n            originalFeedProducers: isBitAsset\n                ? props.asset.getIn([\"bitasset\", \"feeds\"], []).map(a => {\n                      return a.first();\n                  })\n                : null\n        };\n    }\n\n    // Using JSON.stringify for (fast?) comparsion, could be improved, but seems enough here as the order is fixed\n    assetChanged() {\n        let s = this.state;\n        let p = this.resetState(this.props);\n        return (\n            JSON.stringify(s.update) !== JSON.stringify(p.update) ||\n            JSON.stringify(s.core_exchange_rate) !==\n                JSON.stringify(p.core_exchange_rate) ||\n            (s.new_issuer_account_id !== null &&\n                s.new_issuer_account_id !== s.issuer) ||\n            JSON.stringify(s.flagBooleans) !== JSON.stringify(p.flagBooleans) ||\n            JSON.stringify(s.permissionBooleans) !==\n                JSON.stringify(p.permissionBooleans) ||\n            JSON.stringify(s.whitelist_authorities) !==\n                JSON.stringify(p.whitelist_authorities) ||\n            JSON.stringify(s.blacklist_authorities) !==\n                JSON.stringify(p.blacklist_authorities) ||\n            JSON.stringify(s.whitelist_markets) !==\n                JSON.stringify(p.whitelist_markets) ||\n            JSON.stringify(s.blacklist_markets) !==\n                JSON.stringify(p.blacklist_markets)\n        );\n    }\n\n    // Return tab ID on change\n    tabChanged(tabId) {\n        let tabsChanged = this.tabsChanged();\n        return tabsChanged[tabId] ? tabsChanged[tabId] : false;\n    }\n\n    tabsChanged() {\n        let s = this.state;\n        let p = this.resetState(this.props);\n\n        let tabUpdateIndex = [];\n\n        if (\n            s.update.max_supply !== p.update.max_supply ||\n            s.core_exchange_rate.base.amount !==\n                p.core_exchange_rate.base.amount ||\n            s.core_exchange_rate.quote.amount !==\n                p.core_exchange_rate.quote.amount\n        )\n            tabUpdateIndex[\"0\"] = true;\n\n        if (\n            JSON.stringify(s.whitelist_authorities) !==\n                JSON.stringify(p.whitelist_authorities) ||\n            JSON.stringify(s.blacklist_authorities) !==\n                JSON.stringify(p.blacklist_authorities) ||\n            JSON.stringify(s.whitelist_markets) !==\n                JSON.stringify(p.whitelist_markets) ||\n            JSON.stringify(s.blacklist_markets) !==\n                JSON.stringify(p.blacklist_markets)\n        )\n            tabUpdateIndex[\"1\"] = true;\n\n        if (\n            s.update.description.main !== p.update.description.main ||\n            s.update.description.short_name !==\n                p.update.description.short_name ||\n            s.update.description.market !== p.update.description.market\n        )\n            tabUpdateIndex[\"2\"] = true;\n\n        if (\n            JSON.stringify(s.bitasset_opts) !==\n            JSON.stringify(p.original_bitasset_opts)\n        )\n            tabUpdateIndex[\"3\"] = true;\n\n        if (\n            s.new_issuer_account_id !== null &&\n            s.new_issuer_account_id !== s.issuer\n        )\n            tabUpdateIndex[\"4\"] = true;\n\n        if (\n            JSON.stringify(s.permissionBooleans) !==\n            JSON.stringify(p.permissionBooleans)\n        )\n            tabUpdateIndex[\"5\"] = true;\n\n        if (\n            JSON.stringify(s.flagBooleans) !== JSON.stringify(p.flagBooleans) ||\n            s.update.market_fee_percent !== p.update.market_fee_percent ||\n            s.update.max_market_fee !== p.update.max_market_fee\n        )\n            tabUpdateIndex[\"6\"] = true;\n\n        // Tab 7 == Fee Pool\n\n        if (\n            JSON.stringify(s.feedProducers) !==\n            JSON.stringify(p.originalFeedProducers)\n        )\n            tabUpdateIndex[\"8\"] = true;\n\n        return tabUpdateIndex;\n    }\n\n    pageChanged() {\n        let {\n            isBitAsset,\n            bitasset_opts,\n            original_bitasset_opts,\n            feedProducers,\n            originalFeedProducers\n        } = this.state;\n        return (\n            this.assetChanged() ||\n            (isBitAsset &&\n                (JSON.stringify(bitasset_opts) !==\n                    JSON.stringify(original_bitasset_opts) ||\n                    !utils.are_equal_shallow(\n                        feedProducers.toJS(),\n                        originalFeedProducers.toJS()\n                    )))\n        );\n    }\n\n    _updateAsset(e) {\n        e.preventDefault();\n\n        // Close confirm_modal if it's open\n        this.refs.confirm_modal.onClose();\n\n        let {\n            update,\n            issuer,\n            new_issuer_account_id,\n            core_exchange_rate,\n            flagBooleans,\n            permissionBooleans,\n            isBitAsset,\n            bitasset_opts,\n            original_bitasset_opts,\n            feedProducers,\n            originalFeedProducers\n        } = this.state;\n\n        let flags = assetUtils.getFlags(flagBooleans);\n\n        // Handle incorrect flag from genesis\n        if (\n            this.props.asset.getIn([\"options\", \"flags\"]) & 128 &&\n            !(this.props.asset.getIn([\"options\", \"issuer_permissions\"]) & 128)\n        ) {\n            flags += 128;\n        }\n        let permissions = assetUtils.getPermissions(\n            permissionBooleans,\n            isBitAsset\n        );\n\n        if (this.state.marketInput !== update.description.market) {\n            update.description.market = \"\";\n        }\n        let description = JSON.stringify(update.description);\n\n        let auths = {\n            whitelist_authorities: this.state.whitelist_authorities,\n            blacklist_authorities: this.state.blacklist_authorities,\n            whitelist_markets: this.state.whitelist_markets,\n            blacklist_markets: this.state.blacklist_markets\n        };\n\n        let feedProducersJS = isBitAsset ? feedProducers.toJS() : null;\n        let originalFeedProducersJS = isBitAsset\n            ? originalFeedProducers.toJS()\n            : null;\n\n        AssetActions.updateAsset(\n            issuer,\n            new_issuer_account_id,\n            update,\n            core_exchange_rate,\n            this.props.asset,\n            flags,\n            permissions,\n            isBitAsset,\n            bitasset_opts,\n            original_bitasset_opts,\n            description,\n            auths,\n            feedProducersJS,\n            originalFeedProducersJS,\n            this.assetChanged()\n        ).then(() => {\n            console.log(\n                \"... AssetActions.updateAsset(account_id, update)\",\n                issuer,\n                new_issuer_account_id,\n                this.props.asset.get(\"id\"),\n                update\n            );\n            setTimeout(() => {\n                ChainStore.getAsset(this.props.asset.get(\"id\"));\n                this.setState(this.resetState(this.props));\n            }, 3000);\n        });\n    }\n\n    _reset(e) {\n        e.preventDefault();\n\n        this.setState(this.resetState(this.props));\n    }\n\n    _forcePositive(number) {\n        return parseFloat(number) < 0 ? \"0\" : number;\n    }\n\n    _onUpdateDescription(value, e) {\n        let {update} = this.state;\n        let updateState = true;\n\n        switch (value) {\n            case \"condition\":\n                if (e.target.value.length > 60) {\n                    updateState = false;\n                    return;\n                }\n                update.description[value] = e.target.value;\n                break;\n\n            case \"short_name\":\n                if (e.target.value.length > 32) {\n                    updateState = false;\n                    return;\n                }\n                update.description[value] = e.target.value;\n                break;\n\n            case \"market\":\n                update.description[value] = e;\n                break;\n\n            case \"visible\":\n                update.description[value] = !update.description[value];\n                break;\n\n            default:\n                update.description[value] = e.target.value;\n                break;\n        }\n\n        if (updateState) {\n            this.forceUpdate();\n            this._validateEditFields(update);\n        }\n    }\n\n    onChangeBitAssetOpts(value, e) {\n        let {bitasset_opts} = this.state;\n\n        switch (value) {\n            case \"force_settlement_offset_percent\":\n            case \"maximum_force_settlement_volume\":\n                bitasset_opts[value] =\n                    parseFloat(e.target.value) *\n                    assetConstants.GRAPHENE_1_PERCENT;\n                break;\n\n            case \"feed_lifetime_sec\":\n            case \"force_settlement_delay_sec\":\n                console.log(\n                    e.target.value,\n                    parseInt(parseFloat(e.target.value) * 60, 10)\n                );\n                bitasset_opts[value] = parseInt(\n                    parseFloat(e.target.value) * 60,\n                    10\n                );\n                break;\n\n            case \"short_backing_asset\":\n                bitasset_opts[value] = e;\n                break;\n\n            default:\n                bitasset_opts[value] = parseInt(e.target.value, 10);\n                break;\n        }\n\n        this.forceUpdate();\n    }\n\n    _onUpdateInput(value, e) {\n        let {update} = this.state;\n        let updateState = true;\n        let precision = utils.get_asset_precision(\n            this.props.asset.get(\"precision\")\n        );\n\n        switch (value) {\n            case \"market_fee_percent\":\n                update[value] = this._forcePositive(e.target.value);\n                break;\n\n            case \"max_market_fee\":\n                let marketFee = e.amount.replace(/,/g, \"\");\n                if (\n                    new big(marketFee)\n                        .times(precision)\n                        .gt(GRAPHENE_MAX_SHARE_SUPPLY)\n                ) {\n                    updateState = false;\n                    return this.setState({\n                        errors: {\n                            max_market_fee:\n                                \"The number you tried to enter is too large\"\n                        }\n                    });\n                }\n                update[value] = utils.limitByPrecision(\n                    marketFee,\n                    this.props.asset.get(\"precision\")\n                );\n                break;\n\n            case \"max_supply\":\n                let maxSupply = e.amount.replace(/,/g, \"\");\n                // try {\n                //     if ((new big(maxSupply)).times(Math.pow(10, precision)).gt(GRAPHENE_MAX_SHARE_SUPPLY)) {\n                //         updateState = false;\n                //         return this.setState({errors: {max_supply: \"The number you tried to enter is too large\"}});\n                //     }\n                update[value] = utils.limitByPrecision(\n                    maxSupply,\n                    this.props.asset.get(\"precision\")\n                );\n                // } catch(e) {}\n                break;\n\n            default:\n                update[value] = e.target.value;\n                break;\n        }\n\n        if (updateState) {\n            this.setState({update: update});\n            this._validateEditFields(update);\n        }\n    }\n\n    _validateEditFields(new_state) {\n        let cer = new_state.core_exchange_rate;\n        let feedProducers = new_state.feedProducers\n            ? new_state.feedProducers\n            : this.state.feedProducers;\n        let flagBooleans = this.state.flagBooleans;\n        let {asset, core} = this.props;\n\n        let errors = {\n            max_supply: null,\n            quote_asset: null,\n            base_asset: null,\n            max_feed_producer: null,\n            conflict_producer: null,\n            invalid_market_pair: null\n        };\n\n        const p = this.props.asset.get(\"precision\");\n        try {\n            errors.max_supply =\n                new_state.max_supply <= 0\n                    ? counterpart.translate(\n                          \"account.user_issued_assets.max_positive\"\n                      )\n                    : new big(parseInt(new_state.max_supply, 10))\n                          .times(Math.pow(10, p))\n                          .gt(GRAPHENE_MAX_SHARE_SUPPLY)\n                        ? counterpart.translate(\n                              \"account.user_issued_assets.too_large\"\n                          )\n                        : null;\n        } catch (err) {\n            console.log(\"err:\", err);\n            errors.max_supply = counterpart.translate(\n                \"account.user_issued_assets.too_large\"\n            );\n        }\n\n        if (cer) {\n            if (\n                cer.quote.asset_id !== asset.get(\"id\") &&\n                cer.base.asset_id !== asset.get(\"id\")\n            ) {\n                errors.quote_asset = counterpart.translate(\n                    \"account.user_issued_assets.need_asset\",\n                    {name: asset.get(\"symbol\")}\n                );\n            }\n\n            if (\n                cer.quote.asset_id !== core.get(\"id\") &&\n                cer.base.asset_id !== core.get(\"id\")\n            ) {\n                errors.base_asset = counterpart.translate(\n                    \"account.user_issued_assets.need_asset\",\n                    {name: core.get(\"symbol\")}\n                );\n            }\n        }\n        if (feedProducers) {\n            if (feedProducers.size > this.state.maxFeedProducers) {\n                errors.max_feed_producer = counterpart.translate(\n                    \"account.user_issued_assets.too_many_feed\",\n                    {max: this.state.maxFeedProducers}\n                );\n            }\n        }\n        if (\n            flagBooleans.committee_fed_asset &&\n            flagBooleans.witness_fed_asset\n        ) {\n            errors.conflict_producer = counterpart.translate(\n                \"account.user_issued_assets.conflict_feed\"\n            );\n        }\n\n        if (this.state.marketInput == this.props.asset.get(\"symbol\")) {\n            errors.invalid_market_pair = counterpart.translate(\n                \"account.user_issued_assets.invalid_market_pair\"\n            );\n        }\n\n        let isValid =\n            !errors.invalid_market_pair &&\n            !errors.max_supply &&\n            !errors.base_asset &&\n            !errors.quote_asset &&\n            !errors.max_feed_producer &&\n            !errors.conflict_producer;\n\n        this.setState({isValid: isValid, errors: errors});\n    }\n\n    _onCoreRateChange(type, amount) {\n        amount.amount =\n            amount.amount == \"\" ? \"0\" : amount.amount.replace(/,/g, \"\");\n\n        amount.amount = utils.limitByPrecision(\n            amount.amount,\n            amount.asset.get(\"precision\")\n        );\n\n        let {core_exchange_rate} = this.state;\n        core_exchange_rate[type] = {\n            amount: amount.amount,\n            asset_id: amount.asset.get(\"id\")\n        };\n        this.forceUpdate();\n    }\n\n    onAccountChanged(key, account) {\n        this.setState({\n            [key]: account ? account.get(\"id\") : null\n        });\n    }\n\n    onAccountNameChanged(key, name) {\n        this.setState({\n            [key]: name\n        });\n    }\n\n    _onInputCoreAsset(type, asset) {\n        if (type === \"quote\") {\n            this.setState({\n                quoteAssetInput: asset\n            });\n        } else if (type === \"base\") {\n            this.setState({\n                baseAssetInput: asset\n            });\n        }\n    }\n\n    _onFoundCoreAsset(type, asset) {\n        if (asset) {\n            let core_rate = this.state.core_exchange_rate;\n            core_rate[type].asset_id = asset.get(\"id\");\n\n            this.setState({\n                core_exchange_rate: core_rate\n            });\n\n            this._validateEditFields({\n                max_supply: this.state.max_supply,\n                core_exchange_rate: core_rate\n            });\n        }\n    }\n\n    _onInputMarket(asset) {\n        this.setState({\n            marketInput: asset\n        });\n    }\n\n    _onFoundMarketAsset(asset) {\n        if (asset) {\n            this._onUpdateDescription(\"market\", asset.get(\"symbol\"));\n        }\n    }\n\n    _onFlagChange(key) {\n        let booleans = this.state.flagBooleans;\n        booleans[key] = !booleans[key];\n        this.setState({\n            flagBooleans: booleans\n        });\n        this._validateEditFields({});\n    }\n\n    _onPermissionChange(key) {\n        let booleans = this.state.permissionBooleans;\n        booleans[key] = !booleans[key];\n        this.setState({\n            permissionBooleans: booleans\n        });\n    }\n\n    _onClaimInput(asset) {\n        this.setState({\n            claimFeesAmount: asset.amount\n        });\n    }\n\n    _onClaimFees() {\n        AssetActions.claimPoolFees(\n            this.props.account.get(\"id\"),\n            this.props.asset,\n            this.state.claimFeesAmount.replace(/,/g, \"\")\n        );\n    }\n\n    onChangeList(key, action = \"add\", id) {\n        let current = this.state[key];\n        if (action === \"add\" && !current.includes(id)) {\n            current = current.push(id);\n        } else if (action === \"remove\" && current.includes(id)) {\n            current = current.remove(current.indexOf(id));\n        }\n        this.setState({[key]: current});\n    }\n\n    onChangeFeedProducerList(action = \"add\", id) {\n        let current = this.state.feedProducers;\n        if (action === \"add\" && !current.includes(id)) {\n            current = current.push(id);\n        } else if (action === \"remove\" && current.includes(id)) {\n            current = current.remove(current.indexOf(id));\n        }\n        this.setState({feedProducers: current});\n        this._validateEditFields({feedProducers: current});\n    }\n\n    render() {\n        let {account, asset, core} = this.props;\n        let {\n            errors,\n            isValid,\n            update,\n            core_exchange_rate,\n            flagBooleans,\n            permissionBooleans,\n            claimFeesAmount,\n            isBitAsset,\n            bitasset_opts\n        } = this.state;\n\n        // Estimate the asset update fee\n        let symbol = asset.get(\"symbol\");\n        let updateFee = \"N/A\";\n\n        updateFee = <FormattedFee opType=\"asset_update\" />;\n\n        let cr_quote_asset = ChainStore.getAsset(\n            core_exchange_rate.quote.asset_id\n        );\n        let precision = utils.get_asset_precision(\n            cr_quote_asset.get(\"precision\")\n        );\n        let cr_base_asset = ChainStore.getAsset(\n            core_exchange_rate.base.asset_id\n        );\n        let basePrecision = utils.get_asset_precision(\n            cr_base_asset.get(\"precision\")\n        );\n\n        let cr_quote_amount =\n            parseFloat(core_exchange_rate.quote.amount) * precision;\n        let cr_base_amount =\n            parseFloat(core_exchange_rate.base.amount) * basePrecision;\n        let originalPermissions = assetUtils.getFlagBooleans(\n            asset.getIn([\"options\", \"issuer_permissions\"]),\n            asset.get(\"bitasset\") !== undefined\n        );\n        // Loop over flags\n        let flags = [];\n        let getFlag = (key, onClick, isChecked) => {\n            return (\n                <table key={\"table_\" + key} className=\"table\">\n                    <tbody>\n                        <tr>\n                            <td style={{border: \"none\", width: \"80%\"}}>\n                                <Translate\n                                    content={`account.user_issued_assets.${key}`}\n                                />:\n                            </td>\n                            <td style={{border: \"none\"}}>\n                                <div\n                                    className=\"switch\"\n                                    style={{marginBottom: \"10px\"}}\n                                    onClick={onClick}\n                                >\n                                    <input\n                                        type=\"checkbox\"\n                                        checked={isChecked}\n                                    />\n                                    <label />\n                                </div>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            );\n        };\n\n        for (let key in originalPermissions) {\n            if (originalPermissions[key] && key !== \"charge_market_fee\") {\n                flags.push(\n                    getFlag(\n                        key,\n                        this._onFlagChange.bind(this, key),\n                        flagBooleans[key]\n                    )\n                );\n            }\n        }\n\n        flags.push(\n            getFlag(\n                \"visible\",\n                this._onUpdateDescription.bind(this, \"visible\"),\n                update.description.visible\n                    ? false\n                    : update.description.visible === false\n                        ? true\n                        : false\n            )\n        );\n\n        // Loop over permissions\n        let permissions = [];\n        for (let key in originalPermissions) {\n            if (true || originalPermissions[key]) {\n                permissions.push(\n                    <table key={\"table_\" + key} className=\"table\">\n                        <tbody>\n                            <tr>\n                                <td style={{border: \"none\", width: \"80%\"}}>\n                                    <Translate\n                                        content={`account.user_issued_assets.${key}`}\n                                    />:\n                                </td>\n                                <td style={{border: \"none\"}}>\n                                    <div\n                                        className=\"switch\"\n                                        style={{marginBottom: \"10px\"}}\n                                        onClick={this._onPermissionChange.bind(\n                                            this,\n                                            key\n                                        )}\n                                    >\n                                        <input\n                                            type=\"checkbox\"\n                                            checked={permissionBooleans[key]}\n                                            onChange={() => {}}\n                                        />\n                                        <label />\n                                    </div>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                );\n            }\n        }\n\n        let tabsChangedCount = 0;\n        this.tabsChanged().forEach(function() {\n            tabsChangedCount++;\n        });\n\n        let confirmButtons = (\n            <div>\n                <button\n                    className={classnames(\"button\", {\n                        disabled: !isValid || !this.pageChanged()\n                    })}\n                    style={{width: \"9rem\"}}\n                    onClick={\n                        tabsChangedCount > 1\n                            ? this._openConfirm.bind(this)\n                            : this._updateAsset.bind(this)\n                    }\n                >\n                    {tabsChangedCount > 1 ? (\n                        <Translate content=\"account.perm.save_all\" />\n                    ) : (\n                        <Translate content=\"account.perm.save\" />\n                    )}\n                </button>\n                <button\n                    className={classnames(\"button primary hollow\", {\n                        disabled: !this.pageChanged()\n                    })}\n                    onClick={this._reset.bind(this)}\n                >\n                    <Translate content=\"account.perm.reset\" />\n                </button>\n            </div>\n        );\n\n        const dynamicObject = this.props.getDynamicObject(\n            asset.get(\"dynamic_asset_data_id\")\n        );\n        let unclaimedBalance = dynamicObject\n            ? dynamicObject.get(\"accumulated_fees\")\n            : 0;\n        let validClaim =\n            claimFeesAmount > 0 &&\n            utils.get_asset_precision(asset.get(\"precision\")) *\n                claimFeesAmount <=\n                unclaimedBalance;\n\n        let unclaimedBalanceText = (\n            <span>\n                <Translate component=\"span\" content=\"transfer.available\" />:&nbsp;\n                <FormattedAsset\n                    amount={unclaimedBalance}\n                    asset={asset.get(\"id\")}\n                />\n            </span>\n        );\n\n        let cerValid = false;\n\n        if (\n            (cr_quote_asset.get(\"id\") === \"1.3.0\" ||\n                cr_base_asset.get(\"id\") === \"1.3.0\") &&\n            (cr_quote_asset.get(\"id\") === asset.get(\"id\") ||\n                cr_base_asset.get(\"id\") === asset.get(\"id\"))\n        ) {\n            cerValid = true;\n        }\n\n        let isPredictionMarketAsset = asset.getIn([\n            \"bitasset\",\n            \"is_prediction_market\"\n        ]);\n\n        let asset_description = assetUtils.parseDescription(\n            this.props.asset.toJS().options.description\n        );\n\n        return (\n            <div className=\"grid-content app-tables no-padding\" ref=\"appTables\">\n                <div className=\"content-block small-12\">\n                    <div className=\"tabs-container generic-bordered-box\">\n                        <div className=\"tabs-header\">\n                            <h3>\n                                <Translate content=\"header.update_asset\" />:{\" \"}\n                                {symbol}\n                            </h3>\n                        </div>\n                        <Tabs\n                            setting=\"updateAssetTab\"\n                            className=\"account-tabs\"\n                            tabsClass=\"account-overview bordered-header content-block\"\n                            contentClass=\"grid-block padding-top shrink small-vertical medium-horizontal\"\n                            segmented={false}\n                            actionButtons={confirmButtons}\n                            onChangeTab={i => {\n                                this.setState({activeTab: i});\n                            }}\n                        >\n                            <Tab\n                                title=\"account.user_issued_assets.primary\"\n                                updatedTab={this.tabChanged(0)}\n                            >\n                                <div className=\"small-12 large-8 large-offset-2 grid-content\">\n                                    <label>\n                                        <Translate content=\"account.user_issued_assets.precision\" />\n                                        <span>: {asset.get(\"precision\")}</span>\n                                    </label>\n                                    <br />\n\n                                    <label>\n                                        <AmountSelector\n                                            label=\"account.user_issued_assets.max_supply\"\n                                            amount={update.max_supply}\n                                            onChange={this._onUpdateInput.bind(\n                                                this,\n                                                \"max_supply\"\n                                            )}\n                                            asset={asset.get(\"id\")}\n                                            assets={[asset.get(\"id\")]}\n                                            placeholder=\"0.0\"\n                                            tabIndex={1}\n                                        />\n                                    </label>\n                                    {errors.max_supply ? (\n                                        <p className=\"grid-content has-error\">\n                                            {errors.max_supply}\n                                        </p>\n                                    ) : null}\n\n                                    <Translate\n                                        component=\"h3\"\n                                        content=\"account.user_issued_assets.core_exchange_rate\"\n                                    />\n                                    <label>\n                                        <div className=\"grid-block no-margin\">\n                                            {cerValid ? null : (\n                                                <div className=\"grid-block no-margin small-12 medium-6\">\n                                                    <AssetSelector\n                                                        label=\"account.user_issued_assets.quote_name\"\n                                                        onChange={this._onInputCoreAsset.bind(\n                                                            this,\n                                                            \"quote\"\n                                                        )}\n                                                        asset={\n                                                            this.state\n                                                                .quoteAssetInput\n                                                        }\n                                                        assetInput={\n                                                            this.state\n                                                                .quoteAssetInput\n                                                        }\n                                                        tabIndex={1}\n                                                        style={{\n                                                            width: \"100%\",\n                                                            paddingRight: \"10px\"\n                                                        }}\n                                                        onFound={this._onFoundCoreAsset.bind(\n                                                            this,\n                                                            \"quote\"\n                                                        )}\n                                                    />\n                                                </div>\n                                            )}\n                                            {cerValid ? null : (\n                                                <div className=\"grid-block no-margin small-12 medium-6\">\n                                                    <AssetSelector\n                                                        label=\"account.user_issued_assets.base_name\"\n                                                        onChange={this._onInputCoreAsset.bind(\n                                                            this,\n                                                            \"base\"\n                                                        )}\n                                                        asset={\n                                                            this.state\n                                                                .baseAssetInput\n                                                        }\n                                                        assetInput={\n                                                            this.state\n                                                                .baseAssetInput\n                                                        }\n                                                        tabIndex={1}\n                                                        style={{\n                                                            width: \"100%\",\n                                                            paddingLeft: \"10px\"\n                                                        }}\n                                                        onFound={this._onFoundCoreAsset.bind(\n                                                            this,\n                                                            \"base\"\n                                                        )}\n                                                    />\n                                                </div>\n                                            )}\n                                            {errors.quote_asset ? (\n                                                <p className=\"grid-content has-error\">\n                                                    {errors.quote_asset}\n                                                </p>\n                                            ) : null}\n                                            {errors.base_asset ? (\n                                                <p className=\"grid-content has-error\">\n                                                    {errors.base_asset}\n                                                </p>\n                                            ) : null}\n                                            <div className=\"grid-block no-margin small-12 medium-6\">\n                                                <AmountSelector\n                                                    label=\"account.user_issued_assets.quote\"\n                                                    amount={\n                                                        core_exchange_rate.quote\n                                                            .amount\n                                                    }\n                                                    onChange={this._onCoreRateChange.bind(\n                                                        this,\n                                                        \"quote\"\n                                                    )}\n                                                    asset={\n                                                        core_exchange_rate.quote\n                                                            .asset_id\n                                                    }\n                                                    assets={[\n                                                        core_exchange_rate.quote\n                                                            .asset_id\n                                                    ]}\n                                                    placeholder=\"0.0\"\n                                                    tabIndex={1}\n                                                    style={{\n                                                        width: \"100%\",\n                                                        paddingRight: \"10px\"\n                                                    }}\n                                                />\n                                            </div>\n                                            <div className=\"grid-block no-margin small-12 medium-6\">\n                                                <AmountSelector\n                                                    label=\"account.user_issued_assets.base\"\n                                                    amount={\n                                                        core_exchange_rate.base\n                                                            .amount\n                                                    }\n                                                    onChange={this._onCoreRateChange.bind(\n                                                        this,\n                                                        \"base\"\n                                                    )}\n                                                    asset={\n                                                        core_exchange_rate.base\n                                                            .asset_id\n                                                    }\n                                                    assets={[\n                                                        core_exchange_rate.base\n                                                            .asset_id\n                                                    ]}\n                                                    placeholder=\"0.0\"\n                                                    tabIndex={1}\n                                                    style={{\n                                                        width: \"100%\",\n                                                        paddingLeft: \"10px\"\n                                                    }}\n                                                />\n                                            </div>\n                                        </div>\n                                        <div>\n                                            <h5>\n                                                <Translate content=\"exchange.price\" />:{\" \"}\n                                                <FormattedPrice\n                                                    style={{fontWeight: \"bold\"}}\n                                                    quote_amount={\n                                                        cr_quote_amount\n                                                    }\n                                                    quote_asset={\n                                                        core_exchange_rate.quote\n                                                            .asset_id\n                                                    }\n                                                    base_asset={\n                                                        core_exchange_rate.base\n                                                            .asset_id\n                                                    }\n                                                    base_amount={cr_base_amount}\n                                                />\n                                            </h5>\n                                        </div>\n                                    </label>\n                                    <div>\n                                        <Translate\n                                            content=\"account.user_issued_assets.cer_warning_1\"\n                                            component=\"label\"\n                                            className=\"has-error\"\n                                        />\n                                        <Translate\n                                            content=\"account.user_issued_assets.cer_warning_2\"\n                                            component=\"p\"\n                                        />\n                                    </div>\n\n                                    {\n                                        <p>\n                                            <Translate content=\"account.user_issued_assets.approx_fee\" />:{\" \"}\n                                            {updateFee}\n                                        </p>\n                                    }\n                                </div>\n                            </Tab>\n\n                            <Tab\n                                title=\"account.whitelist.title\"\n                                updatedTab={this.tabChanged(1)}\n                            >\n                                <AssetWhitelist\n                                    whiteListEnabled={\n                                        flagBooleans[\"white_list\"]\n                                    }\n                                    whitelist_authorities={\n                                        this.state.whitelist_authorities\n                                    }\n                                    blacklist_authorities={\n                                        this.state.blacklist_authorities\n                                    }\n                                    whitelist_markets={\n                                        this.state.whitelist_markets\n                                    }\n                                    blacklist_markets={\n                                        this.state.blacklist_markets\n                                    }\n                                    new_authority_id={\n                                        this.state.new_authority_id\n                                    }\n                                    authority_name={this.state.authority_name}\n                                    onAccountNameChanged={this.onAccountNameChanged.bind(\n                                        this\n                                    )}\n                                    onAccountChanged={this.onAccountChanged.bind(\n                                        this\n                                    )}\n                                    onChangeList={this.onChangeList.bind(this)}\n                                >\n                                    {\n                                        <p>\n                                            <Translate content=\"account.user_issued_assets.approx_fee\" />:{\" \"}\n                                            {updateFee}\n                                        </p>\n                                    }\n                                </AssetWhitelist>\n                            </Tab>\n\n                            <Tab\n                                title=\"account.user_issued_assets.description\"\n                                updatedTab={this.tabChanged(2)}\n                            >\n                                <div className=\"small-12 large-8 large-offset-2 grid-content\">\n                                    <label>\n                                        <textarea\n                                            style={{height: \"7rem\"}}\n                                            rows=\"1\"\n                                            value={\n                                                update.description.main || \"\"\n                                            }\n                                            onChange={this._onUpdateDescription.bind(\n                                                this,\n                                                \"main\"\n                                            )}\n                                        />\n                                    </label>\n\n                                    <Translate\n                                        component=\"h3\"\n                                        content=\"account.user_issued_assets.short\"\n                                    />\n                                    <label>\n                                        <input\n                                            type=\"text\"\n                                            rows=\"1\"\n                                            value={\n                                                update.description.short_name ||\n                                                \"\"\n                                            }\n                                            onChange={this._onUpdateDescription.bind(\n                                                this,\n                                                \"short_name\"\n                                            )}\n                                        />\n                                    </label>\n\n                                    <Translate\n                                        component=\"h3\"\n                                        content=\"account.user_issued_assets.market\"\n                                    />\n                                    <AssetSelector\n                                        label=\"account.user_issued_assets.name\"\n                                        onChange={this._onInputMarket.bind(\n                                            this\n                                        )}\n                                        placeholder={asset_description.market}\n                                        asset={this.state.marketInput}\n                                        assetInput={this.state.marketInput}\n                                        style={{\n                                            width: \"100%\",\n                                            paddingRight: \"10px\",\n                                            paddingBottom: \"20px\"\n                                        }}\n                                        onFound={this._onFoundMarketAsset.bind(\n                                            this\n                                        )}\n                                    />\n                                    {errors.invalid_market_pair ? (\n                                        <p className=\"grid-content has-error\">\n                                            {errors.invalid_market_pair}\n                                        </p>\n                                    ) : null}\n\n                                    {isPredictionMarketAsset ? (\n                                        <div>\n                                            <Translate\n                                                component=\"h3\"\n                                                content=\"account.user_issued_assets.condition\"\n                                            />\n                                            <label>\n                                                <input\n                                                    type=\"text\"\n                                                    rows=\"1\"\n                                                    value={\n                                                        update.description\n                                                            .condition\n                                                    }\n                                                    onChange={this._onUpdateDescription.bind(\n                                                        this,\n                                                        \"condition\"\n                                                    )}\n                                                />\n                                            </label>\n\n                                            <Translate\n                                                component=\"h3\"\n                                                content=\"account.user_issued_assets.expiry\"\n                                            />\n                                            <label>\n                                                <input\n                                                    type=\"date\"\n                                                    value={\n                                                        update.description\n                                                            .expiry\n                                                    }\n                                                    onChange={this._onUpdateDescription.bind(\n                                                        this,\n                                                        \"expiry\"\n                                                    )}\n                                                />\n                                            </label>\n                                        </div>\n                                    ) : null}\n\n                                    {\n                                        <p>\n                                            <Translate content=\"account.user_issued_assets.approx_fee\" />:{\" \"}\n                                            {updateFee}\n                                        </p>\n                                    }\n                                </div>\n                            </Tab>\n\n                            {isBitAsset ? (\n                                <Tab\n                                    title=\"account.user_issued_assets.bitasset_opts\"\n                                    updatedTab={this.tabChanged(3)}\n                                >\n                                    <div className=\"small-12 large-8 large-offset-2 grid-content\">\n                                        <BitAssetOptions\n                                            bitasset_opts={bitasset_opts}\n                                            onUpdate={this.onChangeBitAssetOpts.bind(\n                                                this\n                                            )}\n                                            backingAsset={\n                                                bitasset_opts.short_backing_asset\n                                            }\n                                            assetPrecision={asset.get(\n                                                \"precision\"\n                                            )}\n                                            assetSymbol={asset.get(\"symbol\")}\n                                        />\n                                        {\n                                            <p>\n                                                <Translate content=\"account.user_issued_assets.approx_fee\" />:{\" \"}\n                                                {updateFee}\n                                            </p>\n                                        }\n                                    </div>\n                                </Tab>\n                            ) : null}\n\n                            <Tab\n                                title=\"account.user_issued_assets.update_owner\"\n                                updatedTab={this.tabChanged(4)}\n                            >\n                                <div className=\"small-12 large-8 large-offset-2 grid-content\">\n                                    <div style={{paddingBottom: \"1rem\"}}>\n                                        <AccountSelector\n                                            label=\"account.user_issued_assets.current_issuer\"\n                                            accountName={account.get(\"name\")}\n                                            account={account.get(\"name\")}\n                                            error={null}\n                                            tabIndex={1}\n                                            disabled={true}\n                                        />\n                                    </div>\n                                    <AccountSelector\n                                        label=\"account.user_issued_assets.new_issuer\"\n                                        accountName={\n                                            this.state.issuer_account_name\n                                        }\n                                        onChange={this.onAccountNameChanged.bind(\n                                            this,\n                                            \"issuer_account_name\"\n                                        )}\n                                        onAccountChanged={this.onAccountChanged.bind(\n                                            this,\n                                            \"new_issuer_account_id\"\n                                        )}\n                                        account={this.state.issuer_account_name}\n                                        error={null}\n                                        tabIndex={1}\n                                        typeahead={true}\n                                    />\n                                    {\n                                        <p>\n                                            <Translate content=\"account.user_issued_assets.approx_fee\" />:{\" \"}\n                                            {updateFee}\n                                        </p>\n                                    }\n                                </div>\n                            </Tab>\n\n                            <Tab\n                                title=\"account.permissions\"\n                                updatedTab={this.tabChanged(5)}\n                            >\n                                <div className=\"small-12 large-8 large-offset-2 grid-content\">\n                                    <HelpContent\n                                        path={\"components/AccountAssetCreate\"}\n                                        section=\"permissions\"\n                                    />\n                                    <p className=\"grid-content has-error\">\n                                        <Translate content=\"account.user_issued_assets.perm_warning\" />\n                                    </p>\n                                    {permissions}\n                                    {\n                                        <p>\n                                            <Translate content=\"account.user_issued_assets.approx_fee\" />:{\" \"}\n                                            {updateFee}\n                                        </p>\n                                    }\n                                </div>\n                            </Tab>\n\n                            <Tab\n                                title=\"account.user_issued_assets.flags\"\n                                updatedTab={this.tabChanged(6)}\n                            >\n                                <div className=\"small-12 large-8 large-offset-2 grid-content\">\n                                    <HelpContent\n                                        path={\"components/AccountAssetCreate\"}\n                                        section=\"flags\"\n                                    />\n                                    {originalPermissions[\n                                        \"charge_market_fee\"\n                                    ] ? (\n                                        <div>\n                                            <Translate\n                                                component=\"h3\"\n                                                content=\"account.user_issued_assets.market_fee\"\n                                            />\n                                            <table className=\"table\">\n                                                <tbody>\n                                                    <tr>\n                                                        <td\n                                                            style={{\n                                                                border: \"none\",\n                                                                width: \"80%\"\n                                                            }}\n                                                        >\n                                                            <Translate content=\"account.user_issued_assets.charge_market_fee\" />:\n                                                        </td>\n                                                        <td\n                                                            style={{\n                                                                border: \"none\"\n                                                            }}\n                                                        >\n                                                            <div\n                                                                className=\"switch\"\n                                                                style={{\n                                                                    marginBottom:\n                                                                        \"10px\"\n                                                                }}\n                                                                onClick={this._onFlagChange.bind(\n                                                                    this,\n                                                                    \"charge_market_fee\"\n                                                                )}\n                                                            >\n                                                                <input\n                                                                    type=\"checkbox\"\n                                                                    onChange={() => {}}\n                                                                    checked={\n                                                                        flagBooleans.charge_market_fee\n                                                                    }\n                                                                />\n                                                                <label />\n                                                            </div>\n                                                        </td>\n                                                    </tr>\n                                                </tbody>\n                                            </table>\n                                            <div\n                                                className={cnames({\n                                                    disabled: !flagBooleans.charge_market_fee\n                                                })}\n                                            >\n                                                <label>\n                                                    <Translate content=\"account.user_issued_assets.market_fee\" />{\" \"}\n                                                    (%)\n                                                    <input\n                                                        type=\"number\"\n                                                        value={\n                                                            update.market_fee_percent\n                                                        }\n                                                        onChange={this._onUpdateInput.bind(\n                                                            this,\n                                                            \"market_fee_percent\"\n                                                        )}\n                                                    />\n                                                </label>\n\n                                                <label>\n                                                    <AmountSelector\n                                                        label=\"account.user_issued_assets.max_market_fee\"\n                                                        amount={\n                                                            update.max_market_fee\n                                                        }\n                                                        onChange={this._onUpdateInput.bind(\n                                                            this,\n                                                            \"max_market_fee\"\n                                                        )}\n                                                        asset={asset.get(\"id\")}\n                                                        assets={[\n                                                            asset.get(\"id\")\n                                                        ]}\n                                                        placeholder=\"0.0\"\n                                                        tabIndex={1}\n                                                    />\n                                                </label>\n                                                {errors.max_market_fee ? (\n                                                    <p className=\"grid-content has-error\">\n                                                        {errors.max_market_fee}\n                                                    </p>\n                                                ) : null}\n                                            </div>\n                                        </div>\n                                    ) : null}\n\n                                    <h3>\n                                        <Translate content=\"account.user_issued_assets.flags\" />\n                                    </h3>\n                                    {flags}\n                                    {\n                                        <p>\n                                            <Translate content=\"account.user_issued_assets.approx_fee\" />:{\" \"}\n                                            {updateFee}\n                                        </p>\n                                    }\n                                    {errors.conflict_producer ? (\n                                        <p className=\"grid-content has-error\">\n                                            {errors.conflict_producer}\n                                        </p>\n                                    ) : null}\n                                </div>\n                            </Tab>\n\n                            <Tab title=\"explorer.asset.fee_pool.title\">\n                                <div className=\"small-12 large-8 large-offset-2 grid-content\">\n                                    <FundFeePool\n                                        asset={asset.get(\"symbol\")}\n                                        funderAccountName={this.props.account.get(\n                                            \"name\"\n                                        )}\n                                    />\n\n                                    {/* Claim fees, disabled until witness node update gets pushed to openledger*/}\n\n                                    <Translate\n                                        component=\"h3\"\n                                        content=\"transaction.trxTypes.asset_claim_fees\"\n                                    />\n                                    <Translate\n                                        component=\"p\"\n                                        content=\"explorer.asset.fee_pool.claim_text\"\n                                        asset={asset.get(\"symbol\")}\n                                    />\n                                    <div style={{paddingBottom: \"1rem\"}}>\n                                        <Translate content=\"explorer.asset.fee_pool.unclaimed_issuer_income\" />:&nbsp;\n                                        {dynamicObject ? (\n                                            <FormattedAsset\n                                                amount={dynamicObject.get(\n                                                    \"accumulated_fees\"\n                                                )}\n                                                asset={asset.get(\"id\")}\n                                            />\n                                        ) : null}\n                                    </div>\n\n                                    <AmountSelector\n                                        label=\"transfer.amount\"\n                                        display_balance={unclaimedBalanceText}\n                                        amount={claimFeesAmount}\n                                        onChange={this._onClaimInput.bind(this)}\n                                        asset={asset.get(\"id\")}\n                                        assets={[asset.get(\"id\")]}\n                                        placeholder=\"0.0\"\n                                        tabIndex={1}\n                                        style={{width: \"100%\", paddingTop: 16}}\n                                    />\n\n                                    <div style={{paddingTop: \"1rem\"}}>\n                                        <button\n                                            className={classnames(\"button\", {\n                                                disabled: !validClaim\n                                            })}\n                                            onClick={this._onClaimFees.bind(\n                                                this\n                                            )}\n                                        >\n                                            <Translate content=\"explorer.asset.fee_pool.claim_fees\" />\n                                        </button>\n                                        <button\n                                            className=\"button outline\"\n                                            onClick={this._reset.bind(this)}\n                                        >\n                                            <Translate content=\"account.perm.reset\" />\n                                        </button>\n                                    </div>\n                                </div>\n                            </Tab>\n\n                            {isBitAsset ? (\n                                <Tab\n                                    title=\"account.user_issued_assets.feed_producers\"\n                                    updatedTab={this.tabChanged(8)}\n                                >\n                                    <AssetFeedProducers\n                                        asset={this.props.asset}\n                                        account={this.props.account}\n                                        witnessFed={\n                                            flagBooleans[\"witness_fed_asset\"]\n                                        }\n                                        committeeFed={\n                                            flagBooleans[\"committee_fed_asset\"]\n                                        }\n                                        producers={this.state.feedProducers}\n                                        onChangeList={this.onChangeFeedProducerList.bind(\n                                            this\n                                        )}\n                                    />\n                                    {errors.max_feed_producer ? (\n                                        <p\n                                            className=\"grid-content has-error large-8 large-offset-2\"\n                                            style={{marginTop: \"20px\"}}\n                                        >\n                                            {errors.max_feed_producer}\n                                        </p>\n                                    ) : null}\n                                </Tab>\n                            ) : null}\n                        </Tabs>\n                    </div>\n                </div>\n                {/* Confirmation Modal on Multiple Changes */}\n                <ConfirmModal\n                    modalId=\"asset_update_modal\"\n                    ref=\"confirm_modal\"\n                    tabsChanged={this.tabsChanged()}\n                    _cancelConfirm={this._cancelConfirm.bind(this)}\n                    _updateAsset={this._updateAsset.bind(this)}\n                    {...this.props}\n                />\n            </div>\n        );\n    }\n}\nAccountAssetUpdate = BindToChainState(AccountAssetUpdate);\nAccountAssetUpdate = AssetWrapper(AccountAssetUpdate, {\n    propNames: [\"asset\", \"core\"],\n    defaultProps: {\n        core: \"1.3.0\"\n    },\n    withDynamic: true\n});\n\nclass ConfirmModal extends React.Component {\n    constructor() {\n        super();\n        this.state = {open: false};\n    }\n\n    show() {\n        this.setState({open: true}, () => {\n            ZfApi.publish(this.props.modalId, \"open\");\n        });\n    }\n\n    onClose() {\n        this.setState({open: false});\n    }\n\n    render() {\n        let {tabsChanged} = this.props;\n\n        return !this.state.open ? null : (\n            <BaseModal\n                id={this.props.modalId}\n                overlay={true}\n                modalHeader=\"account.confirm_asset_modal.header\"\n                noLogo\n            >\n                <Translate\n                    content=\"account.confirm_asset_modal.are_you_sure\"\n                    component=\"div\"\n                    style={{paddingBottom: \"1rem\"}}\n                />\n                <div>\n                    <ul>\n                        {tabsChanged[\"0\"] ? (\n                            <li>\n                                <Translate content=\"account.user_issued_assets.primary\" />\n                            </li>\n                        ) : null}\n                        {tabsChanged[\"1\"] ? (\n                            <li>\n                                <Translate content=\"account.whitelist.title\" />\n                            </li>\n                        ) : null}\n                        {tabsChanged[\"2\"] ? (\n                            <li>\n                                <Translate content=\"account.user_issued_assets.description\" />\n                            </li>\n                        ) : null}\n                        {tabsChanged[\"3\"] ? (\n                            <li>\n                                <Translate content=\"account.user_issued_assets.bitasset_opts\" />\n                            </li>\n                        ) : null}\n                        {tabsChanged[\"4\"] ? (\n                            <li>\n                                <Translate content=\"account.user_issued_assets.update_owner\" />\n                            </li>\n                        ) : null}\n                        {tabsChanged[\"5\"] ? (\n                            <li>\n                                <Translate content=\"account.permissions\" />\n                            </li>\n                        ) : null}\n                        {tabsChanged[\"6\"] ? (\n                            <li>\n                                <Translate content=\"account.user_issued_assets.flags\" />\n                            </li>\n                        ) : null}\n\n                        {/* NEEDS CHECKING */}\n                        {tabsChanged[\"8\"] ? (\n                            <li>\n                                <Translate content=\"account.user_issued_assets.feed_producers\" />\n                            </li>\n                        ) : null}\n                    </ul>\n                </div>\n                <div>\n                    <button\n                        className=\"button primary\"\n                        onClick={this.props._updateAsset.bind(this)}\n                    >\n                        <Translate content=\"global.confirm\" />\n                    </button>\n                    <button\n                        className=\"button primary hollow\"\n                        onClick={this.props._cancelConfirm.bind(this)}\n                    >\n                        <Translate content=\"global.cancel\" />\n                    </button>\n                </div>\n            </BaseModal>\n        );\n    }\n}\n\nclass AssetUpdateWrapper extends React.Component {\n    render() {\n        let asset = this.props.match.params.asset;\n        return <AccountAssetUpdate asset={asset} {...this.props} />;\n    }\n}\n\nexport default withRouter(AssetUpdateWrapper);\n","import React from \"react\";\nimport LinkToAccountById from \"../Utility/LinkToAccountById\";\nimport LinkToAssetById from \"../Utility/LinkToAssetById\";\nimport Icon from \"../Icon/Icon\";\nimport AccountSelector from \"../Account/AccountSelector\";\nimport AssetSelector from \"../Utility/AssetSelector\";\nimport cnames from \"classnames\";\nimport Translate from \"react-translate-component\";\nimport {connect} from \"alt-react\";\nimport SettingsStore from \"stores/SettingsStore\";\nimport SettingsActions from \"actions/SettingsActions\";\n\nclass AssetWhitelist extends React.Component {\n    constructor(props) {\n        super();\n\n        this.state = {\n            listType: props.assetWhiteListType,\n            accountTable: props.assetWhiteListType.indexOf(\"market\") === -1,\n            listTypes: [\n                \"whitelist_authorities\",\n                \"blacklist_authorities\",\n                \"whitelist_markets\",\n                \"blacklist_markets\"\n            ],\n            assetInput: null,\n            asset_id: null\n        };\n    }\n\n    renderAccountTables() {\n        const {listType} = this.state;\n\n        if (!this.props.whiteListEnabled)\n            return (\n                <div>\n                    <Translate\n                        className=\"txtlabel cancel\"\n                        component=\"p\"\n                        content=\"explorer.asset.whitelist.enable_flag\"\n                    />\n                </div>\n            );\n\n        return (\n            <div>\n                <table className=\"table dashboard-table table-hover\">\n                    <thead>\n                        <tr>\n                            <th>\n                                <Translate content=\"explorer.account.title\" />\n                            </th>\n                            <th>\n                                <Translate content=\"account.perm.remove_text\" />\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.props[listType].map(a => {\n                            return (\n                                <tr key={a}>\n                                    <td>\n                                        <LinkToAccountById account={a} />\n                                    </td>\n                                    <td\n                                        className=\"clickable\"\n                                        onClick={this.props.onChangeList.bind(\n                                            this,\n                                            listType,\n                                            \"remove\",\n                                            a\n                                        )}\n                                    >\n                                        <Icon\n                                            name=\"cross-circle\"\n                                            title=\"icons.cross_circle.remove\"\n                                            className=\"icon-14px\"\n                                        />\n                                    </td>\n                                </tr>\n                            );\n                        })}\n                    </tbody>\n                </table>\n                <div style={{paddingTop: \"2rem\"}}>\n                    <AccountSelector\n                        label={`account.whitelist.${listType}`}\n                        accountName={this.props.authority_name}\n                        account={this.props.authority_name}\n                        onChange={this.props.onAccountNameChanged.bind(\n                            this,\n                            \"authority_name\"\n                        )}\n                        onAccountChanged={this.props.onAccountChanged.bind(\n                            this,\n                            \"new_authority_id\"\n                        )}\n                        error={null}\n                        tabIndex={1}\n                        action_label=\"account.perm.confirm_add\"\n                        onAction={this.props.onChangeList.bind(\n                            this,\n                            listType,\n                            \"add\",\n                            this.props.new_authority_id\n                        )}\n                    />\n                </div>\n            </div>\n        );\n    }\n\n    _onAssetChange(asset) {\n        this.setState({\n            assetInput: asset\n        });\n    }\n\n    _onAssetFound(asset) {\n        this.setState({\n            asset_id: asset ? asset.get(\"id\") : null\n        });\n    }\n\n    renderMarketTable() {\n        const {listType} = this.state;\n\n        return (\n            <div>\n                <table className=\"table dashboard-table table-hover\">\n                    <thead>\n                        <tr>\n                            <th>\n                                <Translate content=\"explorer.asset.title\" />\n                            </th>\n                            <th>\n                                <Translate content=\"account.perm.remove_text\" />\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.props[listType].map(a => {\n                            return (\n                                <tr key={a}>\n                                    <td>\n                                        <LinkToAssetById asset={a} />\n                                    </td>\n                                    <td\n                                        className=\"clickable\"\n                                        onClick={this.props.onChangeList.bind(\n                                            this,\n                                            listType,\n                                            \"remove\",\n                                            a\n                                        )}\n                                    >\n                                        <Icon\n                                            name=\"cross-circle\"\n                                            title=\"icons.cross_circle.remove\"\n                                            className=\"icon-14px\"\n                                        />\n                                    </td>\n                                </tr>\n                            );\n                        })}\n                    </tbody>\n                </table>\n                <div style={{paddingTop: \"2rem\"}}>\n                    <AssetSelector\n                        label={`explorer.asset.whitelist.${listType}`}\n                        onChange={this._onAssetChange.bind(this)}\n                        asset={this.state.assetInput}\n                        assetInput={this.state.assetInput}\n                        tabIndex={1}\n                        style={{width: \"100%\"}}\n                        onFound={this._onAssetFound.bind(this)}\n                        action_label=\"account.perm.confirm_add\"\n                        onAction={this.props.onChangeList.bind(\n                            this,\n                            listType,\n                            \"add\",\n                            this.state.asset_id\n                        )}\n                    />\n                </div>\n            </div>\n        );\n    }\n\n    _onSwitchType(type) {\n        this.setState({\n            listType: type,\n            accountTable: type.indexOf(\"market\") === -1\n        });\n        SettingsActions.changeViewSetting({\n            assetWhiteListType: type\n        });\n    }\n\n    render() {\n        const {accountTable} = this.state;\n        const activeIndex = this.state.listTypes.indexOf(this.state.listType);\n\n        return (\n            <div className=\"small-12 large-8 large-offset-2 grid-content\">\n                <div>\n                    <div\n                        className=\"header-selector\"\n                        style={{paddingBottom: \"2rem\"}}\n                    >\n                        <div className=\"selector\">\n                            {this.state.listTypes.map((type, index) => {\n                                return (\n                                    <div\n                                        key={type}\n                                        className={cnames(\"inline-block\", {\n                                            inactive: activeIndex !== index\n                                        })}\n                                        onClick={this._onSwitchType.bind(\n                                            this,\n                                            type\n                                        )}\n                                    >\n                                        <Translate\n                                            content={`explorer.asset.whitelist.${type}`}\n                                        />\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    </div>\n                    {accountTable\n                        ? this.renderAccountTables()\n                        : this.renderMarketTable()}\n                    {this.props.children}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default connect(AssetWhitelist, {\n    listenTo() {\n        return [SettingsStore];\n    },\n    getProps() {\n        return {\n            assetWhiteListType: SettingsStore.getState().viewSettings.get(\n                \"assetWhiteListType\",\n                \"whitelist_authorities\"\n            )\n        };\n    }\n});\n","import React from \"react\";\nimport AssetActions from \"actions/AssetActions\";\nimport AccountSelector from \"../Account/AccountSelector\";\nimport LinkToAccountById from \"../Utility/LinkToAccountById\";\nimport Translate from \"react-translate-component\";\nimport Icon from \"../Icon/Icon\";\n\nexport default class AccountFeedProducers extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            producer_name: null\n        };\n    }\n\n    onAccountChanged(account) {\n        this.setState({\n            new_producer_id: account ? account.get(\"id\") : null\n        });\n    }\n\n    onAccountNameChanged(name) {\n        this.setState({\n            producer_name: name\n        });\n    }\n\n    render() {\n        const {witnessFed, committeeFed} = this.props;\n\n        if (witnessFed || committeeFed) {\n            return (\n                <div className=\"grid-content small-12 large-8 large-offset-2\">\n                    <Translate\n                        component=\"p\"\n                        content=\"account.user_issued_assets.feed_not_allowed_1\"\n                        className=\"has-error\"\n                    />\n                    <Translate\n                        component=\"p\"\n                        content=\"account.user_issued_assets.feed_not_allowed_2\"\n                    />\n                </div>\n            );\n        }\n\n        return (\n            <div className=\"grid-content small-12 large-8 large-offset-2\">\n                <table className=\"table dashboard-table table-hover\">\n                    <thead>\n                        <tr>\n                            <th />\n                            <th style={{textAlign: \"left\"}}>\n                                <Translate content=\"explorer.account.title\" />\n                            </th>\n                            <th>\n                                <Translate content=\"account.perm.remove_text\" />\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.props.producers.map((a, i) => {\n                            return (\n                                <tr key={a}>\n                                    <td style={{textAlign: \"left\"}}>\n                                        #{i + 1}\n                                    </td>\n                                    <td style={{textAlign: \"left\"}}>\n                                        <LinkToAccountById account={a} />\n                                    </td>\n                                    <td\n                                        className=\"clickable\"\n                                        onClick={this.props.onChangeList.bind(\n                                            this,\n                                            \"remove\",\n                                            a\n                                        )}\n                                    >\n                                        <Icon\n                                            name=\"cross-circle\"\n                                            title=\"icons.cross_circle.remove\"\n                                            className=\"icon-14px\"\n                                        />\n                                    </td>\n                                </tr>\n                            );\n                        })}\n                    </tbody>\n                </table>\n                <div style={{paddingTop: \"2rem\"}}>\n                    <AccountSelector\n                        label={\"account.user_issued_assets.add_feed\"}\n                        accountName={this.state.producer_name}\n                        account={this.state.producer_name}\n                        onChange={this.onAccountNameChanged.bind(this)}\n                        onAccountChanged={this.onAccountChanged.bind(this)}\n                        error={null}\n                        tabIndex={1}\n                        action_label=\"account.perm.confirm_add\"\n                        onAction={this.props.onChangeList.bind(\n                            this,\n                            \"add\",\n                            this.state.new_producer_id\n                        )}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n","import React from \"react\";\nimport {Link} from \"react-router-dom\";\nimport Translate from \"react-translate-component\";\nimport {ChainStore} from \"bitsharesjs\";\nimport ChainTypes from \"../Utility/ChainTypes\";\nimport BindToChainState from \"../Utility/BindToChainState\";\nimport Statistics from \"./Statistics\";\nimport AccountActions from \"actions/AccountActions\";\nimport TimeAgo from \"../Utility/TimeAgo\";\nimport HelpContent from \"../Utility/HelpContent\";\nimport accountUtils from \"common/account_utils\";\nimport {Tabs, Tab} from \"../Utility/Tabs\";\nimport {getWalletName} from \"branding\";\nimport {getWalletURL} from \"../../branding\";\n\nclass FeeHelp extends React.Component {\n    static propTypes = {\n        dprops: ChainTypes.ChainObject.isRequired\n    };\n    static defaultProps = {\n        dprops: \"2.1.0\"\n    };\n\n    render() {\n        let {dprops} = this.props;\n\n        return (\n            <HelpContent\n                {...this.props}\n                path=\"components/AccountMembership\"\n                section=\"fee-division\"\n                nextMaintenanceTime={{\n                    time: dprops.get(\"next_maintenance_time\")\n                }}\n            />\n        );\n    }\n}\nFeeHelp = BindToChainState(FeeHelp);\n\nclass AccountMembership extends React.Component {\n    static propTypes = {\n        account: ChainTypes.ChainAccount.isRequired,\n        gprops: ChainTypes.ChainObject.isRequired,\n        core_asset: ChainTypes.ChainAsset.isRequired\n    };\n    static defaultProps = {\n        gprops: \"2.0.0\",\n        core_asset: \"1.3.0\"\n    };\n\n    upgradeAccount(id, lifetime, e) {\n        e.preventDefault();\n        AccountActions.upgradeAccount(id, lifetime);\n    }\n\n    componentWillMount() {\n        accountUtils.getFinalFeeAsset(this.props.account, \"account_upgrade\");\n    }\n\n    render() {\n        let {gprops, core_asset} = this.props;\n\n        let account = this.props.account.toJS();\n\n        let ltr = ChainStore.getAccount(account.lifetime_referrer, false);\n        if (ltr) account.lifetime_referrer_name = ltr.get(\"name\");\n        let ref = ChainStore.getAccount(account.referrer, false);\n        if (ref) account.referrer_name = ref.get(\"name\");\n        let reg = ChainStore.getAccount(account.registrar, false);\n        if (reg) account.registrar_name = reg.get(\"name\");\n\n        let account_name = account.name;\n\n        let network_fee = account.network_fee_percentage / 100;\n        let lifetime_fee = account.lifetime_referrer_fee_percentage / 100;\n        let referrer_total_fee = 100 - network_fee - lifetime_fee;\n        let referrer_fee =\n            (referrer_total_fee * account.referrer_rewards_percentage) / 10000;\n        let registrar_fee = 100 - referrer_fee - lifetime_fee - network_fee;\n\n        let lifetime_cost =\n            (gprops.getIn([\n                \"parameters\",\n                \"current_fees\",\n                \"parameters\",\n                8,\n                1,\n                \"membership_lifetime_fee\"\n            ]) *\n                gprops.getIn([\"parameters\", \"current_fees\", \"scale\"])) /\n            10000;\n\n        let member_status = ChainStore.getAccountMemberStatus(\n            this.props.account\n        );\n        let membership = \"account.member.\" + member_status;\n        let expiration = null;\n        if (member_status === \"annual\")\n            expiration = (\n                <span>\n                    (<Translate content=\"account.member.expires\" />{\" \"}\n                    <TimeAgo time={account.membership_expiration_date} />)\n                </span>\n            );\n        let expiration_date = account.membership_expiration_date;\n        if (expiration_date === \"1969-12-31T23:59:59\")\n            expiration_date = \"Never\";\n        else if (expiration_date === \"1970-01-01T00:00:00\")\n            expiration_date = \"N/A\";\n\n        return (\n            <div className=\"grid-content app-tables no-padding\" ref=\"appTables\">\n                <div className=\"content-block small-12\">\n                    <div className=\"tabs-container generic-bordered-box\">\n                        <Tabs\n                            segmented={false}\n                            setting=\"membershipTab\"\n                            className=\"account-tabs\"\n                            tabsClass=\"account-overview bordered-header content-block\"\n                            contentClass=\"padding\"\n                        >\n                            <Tab title=\"account.member.membership\">\n                                <h3>\n                                    <Translate content={membership} />{\" \"}\n                                    {expiration}\n                                </h3>\n                                {member_status === \"lifetime\" ? null : (\n                                    <div>\n                                        <div className=\"large-6 medium-8\">\n                                            <HelpContent\n                                                path=\"components/AccountMembership\"\n                                                section=\"lifetime\"\n                                                feesCashback={100 - network_fee}\n                                                price={{\n                                                    amount: lifetime_cost,\n                                                    asset: core_asset\n                                                }}\n                                            />\n                                            <div\n                                                className=\"button no-margin\"\n                                                onClick={this.upgradeAccount.bind(\n                                                    this,\n                                                    account.id,\n                                                    true\n                                                )}\n                                            >\n                                                <Translate content=\"account.member.upgrade_lifetime\" />\n                                            </div>{\" \"}\n                                            &nbsp; &nbsp;\n                                            {true ||\n                                            member_status ===\n                                                \"annual\" ? null : (\n                                                <div\n                                                    className=\"button\"\n                                                    onClick={this.upgradeAccount.bind(\n                                                        this,\n                                                        account.id,\n                                                        false\n                                                    )}\n                                                >\n                                                    <Translate content=\"account.member.subscribe\" />\n                                                </div>\n                                            )}\n                                        </div>\n                                        <br />\n                                        <hr />\n                                    </div>\n                                )}\n\n                                <div className=\"content-block no-margin\">\n                                    <div className=\"no-margin grid-block vertical large-horizontal\">\n                                        <div className=\"no-margin grid-block large-5\">\n                                            <div className=\"grid-content\">\n                                                {member_status ===\n                                                \"lifetime\" ? (\n                                                    <div>\n                                                        <h4>\n                                                            <Translate content=\"account.member.referral_link\" />\n                                                        </h4>\n                                                        <Translate\n                                                            content=\"account.member.referral_text\"\n                                                            wallet_name={getWalletName()}\n                                                        />:\n                                                        <h5>\n                                                            {getWalletURL() +\n                                                                `/?r=${\n                                                                    account.name\n                                                                }`}\n                                                        </h5>\n                                                    </div>\n                                                ) : null}\n                                                <h4>\n                                                    <Translate content=\"account.member.fee_allocation\" />\n                                                </h4>\n                                                <table className=\"table key-value-table\">\n                                                    <tbody>\n                                                        <tr>\n                                                            <td>\n                                                                <Translate content=\"account.member.network_percentage\" />\n                                                            </td>\n                                                            <td>\n                                                                {network_fee}%\n                                                            </td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td>\n                                                                <Translate content=\"account.member.lifetime_referrer\" />{\" \"}\n                                                                &nbsp; (<Link\n                                                                    to={`account/${\n                                                                        account.lifetime_referrer_name\n                                                                    }`}\n                                                                >\n                                                                    {\n                                                                        account.lifetime_referrer_name\n                                                                    }\n                                                                </Link>)\n                                                            </td>\n                                                            <td>\n                                                                {lifetime_fee}%\n                                                            </td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td>\n                                                                <Translate content=\"account.member.registrar\" />{\" \"}\n                                                                &nbsp; (<Link\n                                                                    to={`account/${\n                                                                        account.registrar_name\n                                                                    }`}\n                                                                >\n                                                                    {\n                                                                        account.registrar_name\n                                                                    }\n                                                                </Link>)\n                                                            </td>\n                                                            <td>\n                                                                {registrar_fee}%\n                                                            </td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td>\n                                                                <Translate content=\"account.member.referrer\" />{\" \"}\n                                                                &nbsp; (<Link\n                                                                    to={`account/${\n                                                                        account.referrer_name\n                                                                    }`}\n                                                                >\n                                                                    {\n                                                                        account.referrer_name\n                                                                    }\n                                                                </Link>)\n                                                            </td>\n                                                            <td>\n                                                                {referrer_fee}%\n                                                            </td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td>\n                                                                <Translate content=\"account.member.membership_expiration\" />{\" \"}\n                                                            </td>\n                                                            <td>\n                                                                {\n                                                                    expiration_date\n                                                                }\n                                                            </td>\n                                                        </tr>\n                                                    </tbody>\n                                                </table>\n\n                                                <h4\n                                                    style={{paddingTop: \"1rem\"}}\n                                                >\n                                                    <Translate content=\"account.member.fees_cashback\" />\n                                                </h4>\n                                                <table className=\"table key-value-table\">\n                                                    <Statistics\n                                                        stat_object={\n                                                            account.statistics\n                                                        }\n                                                    />\n                                                </table>\n                                            </div>\n                                        </div>\n                                        <div className=\"grid-block large-7\">\n                                            <div className=\"grid-content\">\n                                                <FeeHelp\n                                                    account={account_name}\n                                                    networkFee={network_fee}\n                                                    referrerFee={referrer_fee}\n                                                    registrarFee={registrar_fee}\n                                                    lifetimeFee={lifetime_fee}\n                                                    referrerTotalFee={\n                                                        referrer_total_fee\n                                                    }\n                                                    maintenanceInterval={gprops.getIn(\n                                                        [\n                                                            \"parameters\",\n                                                            \"maintenance_interval\"\n                                                        ]\n                                                    )}\n                                                    vestingThreshold={{\n                                                        amount: gprops.getIn([\n                                                            \"parameters\",\n                                                            \"cashback_vesting_threshold\"\n                                                        ]),\n                                                        asset: core_asset\n                                                    }}\n                                                    vestingPeriod={\n                                                        gprops.getIn([\n                                                            \"parameters\",\n                                                            \"cashback_vesting_period_seconds\"\n                                                        ]) /\n                                                        60 /\n                                                        60 /\n                                                        24\n                                                    }\n                                                />\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </Tab>\n                        </Tabs>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\nAccountMembership = BindToChainState(AccountMembership);\n\nexport default AccountMembership;\n","import React from \"react\";\nimport Translate from \"react-translate-component\";\nimport FormattedAsset from \"../Utility/FormattedAsset\";\nimport ChainTypes from \"../Utility/ChainTypes\";\nimport BindToChainState from \"../Utility/BindToChainState\";\n\nclass Statistics extends React.Component {\n    static propTypes = {\n        stat_object: ChainTypes.ChainObject.isRequired\n    };\n\n    render() {\n        let stat_object = this.props.stat_object.toJS();\n        return (\n            <tbody>\n                <tr>\n                    <td>\n                        <Translate content=\"account.member.fees_paid\" />{\" \"}\n                    </td>\n                    <td>\n                        <FormattedAsset\n                            amount={parseFloat(stat_object.lifetime_fees_paid)}\n                            asset=\"1.3.0\"\n                        />\n                    </td>\n                </tr>\n            </tbody>\n        );\n    }\n}\n\nexport default BindToChainState(Statistics);\n","import React from \"react\";\nimport Translate from \"react-translate-component\";\nimport FormattedAsset from \"../Utility/FormattedAsset\";\nimport {ChainStore} from \"bitsharesjs\";\nimport utils from \"common/utils\";\nimport WalletActions from \"actions/WalletActions\";\nimport {Apis} from \"bitsharesjs-ws\";\nimport {Tabs, Tab} from \"../Utility/Tabs\";\n\nclass VestingBalance extends React.Component {\n    _onClaim(claimAll, e) {\n        e.preventDefault();\n        WalletActions.claimVestingBalance(\n            this.props.account.id,\n            this.props.vb,\n            claimAll\n        ).then(() => {\n            typeof this.props.handleChanged == \"function\" &&\n                this.props.handleChanged();\n        });\n    }\n\n    render() {\n        let {vb} = this.props;\n        if (!this.props.vb) {\n            return null;\n        }\n\n        let cvbAsset,\n            vestingPeriod,\n            earned,\n            secondsPerDay = 60 * 60 * 24,\n            availablePercent,\n            balance;\n        if (vb) {\n            balance = vb.balance.amount;\n            cvbAsset = ChainStore.getAsset(vb.balance.asset_id);\n            earned = vb.policy[1].coin_seconds_earned;\n            vestingPeriod = vb.policy[1].vesting_seconds;\n            availablePercent =\n                vestingPeriod === 0 ? 1 : earned / (vestingPeriod * balance);\n        }\n\n        if (!cvbAsset) {\n            return null;\n        }\n\n        if (!balance) {\n            return null;\n        }\n\n        return (\n            <div>\n                <Translate\n                    component=\"h5\"\n                    content=\"account.vesting.balance_number\"\n                    id={vb.id}\n                />\n\n                <table className=\"table key-value-table\">\n                    <tbody>\n                        <tr>\n                            <td>\n                                <Translate content=\"account.member.cashback\" />\n                            </td>\n                            <td>\n                                <FormattedAsset\n                                    amount={vb.balance.amount}\n                                    asset={vb.balance.asset_id}\n                                />\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <Translate content=\"account.member.earned\" />\n                            </td>\n                            <td>\n                                {utils.format_number(\n                                    utils.get_asset_amount(\n                                        earned / secondsPerDay,\n                                        cvbAsset\n                                    ),\n                                    0\n                                )}\n                                &nbsp;<Translate content=\"account.member.coindays\" />\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <Translate content=\"account.member.required\" />\n                            </td>\n                            <td>\n                                {utils.format_number(\n                                    utils.get_asset_amount(\n                                        (vb.balance.amount * vestingPeriod) /\n                                            secondsPerDay,\n                                        cvbAsset\n                                    ),\n                                    0\n                                )}\n                                &nbsp;<Translate content=\"account.member.coindays\" />\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <Translate content=\"account.member.remaining\" />\n                            </td>\n                            <td>\n                                {utils.format_number(\n                                    (vestingPeriod * (1 - availablePercent)) /\n                                        secondsPerDay || 0,\n                                    2\n                                )}\n                                &nbsp;days\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <Translate content=\"account.member.available\" />\n                            </td>\n                            <td>\n                                {utils.format_number(availablePercent * 100, 2)}%\n                                /{\" \"}\n                                <FormattedAsset\n                                    amount={\n                                        availablePercent * vb.balance.amount\n                                    }\n                                    asset={cvbAsset.get(\"id\")}\n                                />\n                            </td>\n                        </tr>\n                        <tr>\n                            <td colSpan=\"2\" style={{textAlign: \"right\"}}>\n                                <button\n                                    onClick={this._onClaim.bind(this, false)}\n                                    className=\"button\"\n                                >\n                                    <Translate content=\"account.member.claim\" />\n                                </button>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n}\n\nclass AccountVesting extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            vbs: null\n        };\n    }\n\n    componentWillMount() {\n        this.retrieveVestingBalances.call(this, this.props.account.get(\"id\"));\n    }\n\n    componentWillUpdate(nextProps) {\n        let newId = nextProps.account.get(\"id\");\n        let oldId = this.props.account.get(\"id\");\n\n        if (newId !== oldId) {\n            this.retrieveVestingBalances.call(this, newId);\n        }\n    }\n\n    retrieveVestingBalances(accountId) {\n        accountId = accountId || this.props.account.get(\"id\");\n        Apis.instance()\n            .db_api()\n            .exec(\"get_vesting_balances\", [accountId])\n            .then(vbs => {\n                this.setState({vbs});\n            })\n            .catch(err => {\n                console.log(\"error:\", err);\n            });\n    }\n\n    render() {\n        let {vbs} = this.state;\n        if (\n            !vbs ||\n            !this.props.account ||\n            !this.props.account.get(\"vesting_balances\")\n        ) {\n            return null;\n        }\n\n        let account = this.props.account.toJS();\n\n        let balances = vbs\n            .map(vb => {\n                if (vb.balance.amount) {\n                    return (\n                        <VestingBalance\n                            key={vb.id}\n                            vb={vb}\n                            account={account}\n                            handleChanged={this.retrieveVestingBalances.bind(\n                                this\n                            )}\n                        />\n                    );\n                }\n            })\n            .filter(a => {\n                return !!a;\n            });\n\n        return (\n            <div className=\"grid-content app-tables no-padding\" ref=\"appTables\">\n                <div className=\"content-block small-12\">\n                    <div className=\"tabs-container generic-bordered-box\">\n                        <Tabs\n                            segmented={false}\n                            setting=\"vestingTab\"\n                            className=\"account-tabs\"\n                            tabsClass=\"account-overview bordered-header content-block\"\n                            contentClass=\"padding\"\n                        >\n                            <Tab title=\"account.vesting.title\">\n                                <Translate\n                                    content=\"account.vesting.explain\"\n                                    component=\"p\"\n                                />\n\n                                {!balances.length ? (\n                                    <h4 style={{paddingTop: \"1rem\"}}>\n                                        <Translate\n                                            content={\n                                                \"account.vesting.no_balances\"\n                                            }\n                                        />\n                                    </h4>\n                                ) : (\n                                    balances\n                                )}\n                            </Tab>\n                        </Tabs>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nAccountVesting.VestingBalance = VestingBalance;\nexport default AccountVesting;\n","import React from \"react\";\nimport Immutable from \"immutable\";\nimport Translate from \"react-translate-component\";\nimport counterpart from \"counterpart\";\nimport utils from \"common/utils\";\nimport accountUtils from \"common/account_utils\";\nimport ApplicationApi from \"api/ApplicationApi\";\nimport {PublicKey} from \"bitsharesjs\";\nimport AccountPermissionsList from \"./AccountPermissionsList\";\nimport AccountPermissionsMigrate from \"./AccountPermissionsMigrate\";\nimport PubKeyInput from \"../Forms/PubKeyInput\";\nimport {Tabs, Tab} from \"../Utility/Tabs\";\nimport HelpContent from \"../Utility/HelpContent\";\nimport {RecentTransactions} from \"./RecentTransactions\";\nimport notify from \"actions/NotificationActions\";\n\nclass AccountPermissions extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n        this.onPublish = this.onPublish.bind(this);\n        this.onReset = this.onReset.bind(this);\n    }\n\n    componentWillMount() {\n        this.updateAccountData(this.props.account);\n        accountUtils.getFinalFeeAsset(this.props.account, \"account_update\");\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.account !== this.props.account)\n            this.updateAccountData(nextProps.account);\n    }\n\n    permissionsFromImmutableObj(auths) {\n        let threshold = auths.get(\"weight_threshold\");\n        let account_auths = auths.get(\"account_auths\");\n        let key_auths = auths.get(\"key_auths\");\n        let address_auths = auths.get(\"address_auths\");\n\n        let accounts = account_auths.map(a => a.get(0));\n        let keys = key_auths.map(a => a.get(0));\n        let addresses = address_auths.map(a => a.get(0));\n\n        let weights = account_auths.reduce((res, a) => {\n            res[a.get(0)] = a.get(1);\n            return res;\n        }, {});\n        weights = key_auths.reduce((res, a) => {\n            res[a.get(0)] = a.get(1);\n            return res;\n        }, weights);\n        weights = address_auths.reduce((res, a) => {\n            res[a.get(0)] = a.get(1);\n            return res;\n        }, weights);\n\n        return {threshold, accounts, keys, addresses, weights};\n    }\n\n    permissionsToJson(threshold, accounts, keys, addresses, weights) {\n        let res = {weight_threshold: threshold};\n        res[\"account_auths\"] = accounts\n            .sort(utils.sortID)\n            .map(a => [a, weights[a]])\n            .toJS();\n        res[\"key_auths\"] = keys\n            .sort(utils.sortID)\n            .map(a => [a, weights[a]])\n            .toJS();\n        res[\"address_auths\"] = addresses\n            .sort(utils.sortID)\n            .map(a => [a, weights[a]])\n            .toJS();\n        return res;\n    }\n\n    updateAccountData(account) {\n        let active = this.permissionsFromImmutableObj(account.get(\"active\"));\n        let owner = this.permissionsFromImmutableObj(account.get(\"owner\"));\n        let memo_key = account.get(\"options\").get(\"memo_key\");\n        let state = {\n            active_accounts: active.accounts,\n            active_keys: active.keys,\n            active_addresses: active.addresses,\n            owner_accounts: owner.accounts,\n            owner_keys: owner.keys,\n            owner_addresses: owner.addresses,\n            active_weights: active.weights,\n            owner_weights: owner.weights,\n            active_threshold: active.threshold,\n            owner_threshold: owner.threshold,\n            memo_key: memo_key,\n            prev_active_accounts: active.accounts,\n            prev_active_keys: active.keys,\n            prev_active_addresses: active.addresses,\n            prev_owner_accounts: owner.accounts,\n            prev_owner_keys: owner.keys,\n            prev_owner_addresses: owner.addresses,\n            prev_active_weights: active.weights,\n            prev_owner_weights: owner.weights,\n            prev_active_threshold: active.threshold,\n            prev_owner_threshold: owner.threshold,\n            prev_memo_key: memo_key\n        };\n        this.setState(state);\n    }\n\n    isChanged() {\n        let s = this.state;\n        return (\n            s.active_accounts !== s.prev_active_accounts ||\n            s.active_keys !== s.prev_active_keys ||\n            s.active_addresses !== s.prev_active_addresses ||\n            s.owner_accounts !== s.prev_owner_accounts ||\n            s.owner_keys !== s.prev_owner_keys ||\n            s.owner_addresses !== s.prev_owner_addresses ||\n            s.active_threshold !== s.prev_active_threshold ||\n            s.owner_threshold !== s.prev_owner_threshold ||\n            s.memo_key !== s.prev_memo_key\n        );\n    }\n\n    didChange(type, s = this.state) {\n        if (type === \"memo\") {\n            return s.memo_key !== s.prev_memo_key;\n        }\n        let didChange = false;\n        [\"_keys\", \"_active_addresses\", \"_accounts\", \"_threshold\"].forEach(\n            key => {\n                let current = type + key;\n                if (s[current] !== s[\"prev_\" + current]) {\n                    didChange = true;\n                }\n            }\n        );\n        return didChange;\n    }\n\n    onPublish() {\n        let s = this.state;\n        let updated_account = this.props.account.toJS();\n\n        // Set fee asset\n        updated_account.fee = {\n            amount: 0,\n            asset_id: accountUtils.getFinalFeeAsset(\n                updated_account.id,\n                \"account_update\"\n            )\n        };\n\n        let updateObject = {\n            account: updated_account.id\n        };\n\n        if (this.didChange(\"active\")) {\n            updateObject.active = this.permissionsToJson(\n                s.active_threshold,\n                s.active_accounts,\n                s.active_keys,\n                s.active_addresses,\n                s.active_weights\n            );\n        }\n        if (this.didChange(\"owner\")) {\n            updateObject.owner = this.permissionsToJson(\n                s.owner_threshold,\n                s.owner_accounts,\n                s.owner_keys,\n                s.owner_addresses,\n                s.owner_weights\n            );\n        }\n        if (\n            this.didChange(\"owner\") &&\n            s.owner_keys.size === 0 &&\n            s.owner_addresses.size === 0 &&\n            s.owner_accounts.size === 1 &&\n            s.owner_accounts.first() === updated_account.id\n        ) {\n            return notify.addNotification({\n                message:\n                    \"Setting your owner permissions like this will render your account permanently unusable. Please make sure you know what you're doing before modifying account authorities!\",\n                level: \"error\",\n                autoDismiss: 10\n            });\n        }\n        if (\n            s.memo_key &&\n            this.didChange(\"memo\") &&\n            this.isValidPubKey(s.memo_key)\n        ) {\n            updateObject.new_options = this.props.account.get(\"options\").toJS();\n            updateObject.new_options.memo_key = s.memo_key;\n        }\n\n        // console.log(\"-- AccountPermissions.onPublish -->\", updateObject, s.memo_key);\n        ApplicationApi.updateAccount(updateObject);\n    }\n\n    isValidPubKey(value) {\n        return !!PublicKey.fromPublicKeyString(value);\n    }\n\n    onReset() {\n        let s = this.state;\n        this.setState({\n            active_accounts: s.prev_active_accounts,\n            active_keys: s.prev_active_keys,\n            active_addresses: s.prev_active_addresses,\n            owner_accounts: s.prev_owner_accounts,\n            owner_keys: s.prev_owner_keys,\n            owner_addresses: s.prev_owner_addresses,\n            active_weights: s.prev_active_weights,\n            owner_weights: s.prev_owner_weights,\n            active_threshold: s.prev_active_threshold,\n            owner_threshold: s.prev_owner_threshold,\n            memo_key: s.prev_memo_key\n        });\n    }\n\n    onAddItem(collection, item_value, weight) {\n        let state = {};\n        let list =\n            collection +\n            (utils.is_object_id(item_value) ? \"_accounts\" : \"_keys\");\n        state[list] = this.state[list].push(item_value);\n        this.state[collection + \"_weights\"][item_value] = weight;\n        this.setState(state);\n    }\n\n    onRemoveItem(collection, item_value, listSuffix) {\n        console.log(\"onRemoveItem\", collection, item_value, listSuffix);\n        let state = {};\n        let list = collection + listSuffix;\n\n        state[list] = this.state[list].filter(i => i !== item_value);\n        this.setState(state);\n    }\n\n    onThresholdChanged(var_name, event) {\n        let value = parseInt(event.target.value.trim());\n        let state = {};\n        state[var_name] = value;\n        this.setState(state);\n    }\n\n    validateAccount(collection, account) {\n        return null;\n    }\n\n    sumUpWeights(accounts, keys, addresses, weights) {\n        let sum = accounts.reduce((sum, a) => sum + weights[a], 0);\n        sum = keys.reduce((sum, a) => sum + weights[a], sum);\n        return addresses.reduce((sum, a) => sum + weights[a], sum);\n    }\n\n    onMemoKeyChanged(memo_key) {\n        this.setState({memo_key});\n    }\n\n    onSetPasswordKeys(keys, roles = [\"active\", \"owner\", \"memo\"]) {\n        let newState = {};\n\n        roles.forEach(role => {\n            newState[`password_${role}`] = keys[role];\n        });\n\n        this.setState(newState);\n    }\n\n    render() {\n        let error1, error2;\n\n        let {\n            active_accounts,\n            active_keys,\n            active_addresses,\n            active_weights\n        } = this.state;\n        let {\n            owner_accounts,\n            owner_keys,\n            owner_addresses,\n            owner_weights\n        } = this.state;\n\n        let threshold =\n            this.state.active_threshold > 0 ? this.state.active_threshold : 0;\n        let weights_total = this.sumUpWeights(\n            active_accounts,\n            active_keys,\n            active_addresses,\n            active_weights\n        );\n        if (this.didChange(\"active\") && weights_total < threshold)\n            error1 = counterpart.translate(\"account.perm.warning1\", {\n                weights_total,\n                threshold\n            });\n\n        threshold =\n            this.state.owner_threshold > 0 ? this.state.owner_threshold : 0;\n        weights_total = this.sumUpWeights(\n            owner_accounts,\n            owner_keys,\n            owner_addresses,\n            owner_weights\n        );\n        if (this.didChange(\"owner\") && weights_total < threshold)\n            error2 = counterpart.translate(\"account.perm.warning2\", {\n                weights_total,\n                threshold\n            });\n\n        let publish_buttons_class =\n            \"button\" +\n            (!(error1 || error2) &&\n            this.isChanged() &&\n            this.isValidPubKey(this.state.memo_key)\n                ? \"\"\n                : \" disabled\");\n        let reset_buttons_class =\n            \"button\" + (this.isChanged() ? \"\" : \" disabled\");\n\n        let accountsList = Immutable.Set();\n        accountsList = accountsList.add(this.props.account.get(\"id\"));\n\n        return (\n            <div className=\"grid-content app-tables no-padding\" ref=\"appTables\">\n                <div className=\"content-block small-12\">\n                    <div className=\"tabs-container generic-bordered-box\">\n                        <Tabs\n                            defaultActiveTab={1}\n                            segmented={false}\n                            setting=\"permissionsTab\"\n                            className=\"account-tabs\"\n                            tabsClass=\"account-overview bordered-header content-block\"\n                            contentClass=\"padding\"\n                            actionButtons={\n                                <div className=\"action-buttons\">\n                                    <button\n                                        className={reset_buttons_class}\n                                        onClick={this.onReset}\n                                        tabIndex={8}\n                                    >\n                                        <Translate content=\"account.perm.reset\" />\n                                    </button>\n\n                                    <button\n                                        className={publish_buttons_class}\n                                        onClick={this.onPublish}\n                                        tabIndex={9}\n                                    >\n                                        <Translate content=\"account.perm.publish\" />\n                                    </button>\n                                </div>\n                            }\n                        >\n                            <Tab title=\"account.perm.active\">\n                                <HelpContent path=\"components/AccountPermActive\" />\n                                <form className=\"threshold\">\n                                    <label className=\"horizontal\">\n                                        <Translate content=\"account.perm.threshold\" />{\" \"}\n                                        &nbsp; &nbsp;\n                                        <input\n                                            type=\"number\"\n                                            placeholder=\"0\"\n                                            size=\"5\"\n                                            value={this.state.active_threshold}\n                                            onChange={this.onThresholdChanged.bind(\n                                                this,\n                                                \"active_threshold\"\n                                            )}\n                                            autoComplete=\"off\"\n                                            tabIndex={1}\n                                        />\n                                    </label>\n                                </form>\n                                <AccountPermissionsList\n                                    label=\"account.perm.add_permission_label\"\n                                    accounts={active_accounts}\n                                    keys={active_keys}\n                                    weights={active_weights}\n                                    addresses={active_addresses}\n                                    validateAccount={this.validateAccount.bind(\n                                        this,\n                                        \"active\"\n                                    )}\n                                    onAddItem={this.onAddItem.bind(\n                                        this,\n                                        \"active\"\n                                    )}\n                                    onRemoveItem={this.onRemoveItem.bind(\n                                        this,\n                                        \"active\"\n                                    )}\n                                    placeholder={counterpart.translate(\n                                        \"account.perm.account_name_or_key\"\n                                    )}\n                                    tabIndex={2}\n                                />\n                                <br />\n                                {error1 ? (\n                                    <div className=\"content-block has-error\">\n                                        {error1}\n                                    </div>\n                                ) : null}\n                            </Tab>\n\n                            <Tab title=\"account.perm.owner\">\n                                <HelpContent path=\"components/AccountPermOwner\" />\n                                <form className=\"threshold\">\n                                    <label className=\"horizontal\">\n                                        <Translate content=\"account.perm.threshold\" />{\" \"}\n                                        &nbsp; &nbsp;\n                                        <input\n                                            type=\"number\"\n                                            placeholder=\"0\"\n                                            size=\"5\"\n                                            value={this.state.owner_threshold}\n                                            onChange={this.onThresholdChanged.bind(\n                                                this,\n                                                \"owner_threshold\"\n                                            )}\n                                            autoComplete=\"off\"\n                                            tabIndex={4}\n                                        />\n                                    </label>\n                                </form>\n                                <AccountPermissionsList\n                                    label=\"account.perm.add_permission_label\"\n                                    accounts={owner_accounts}\n                                    keys={owner_keys}\n                                    weights={owner_weights}\n                                    addresses={owner_addresses}\n                                    validateAccount={this.validateAccount.bind(\n                                        this,\n                                        \"owner\"\n                                    )}\n                                    onAddItem={this.onAddItem.bind(\n                                        this,\n                                        \"owner\"\n                                    )}\n                                    onRemoveItem={this.onRemoveItem.bind(\n                                        this,\n                                        \"owner\"\n                                    )}\n                                    placeholder={counterpart.translate(\n                                        \"account.perm.account_name_or_key\"\n                                    )}\n                                    tabIndex={5}\n                                />\n                                <br />\n                                {error2 ? (\n                                    <div className=\"content-block has-error\">\n                                        {error2}\n                                    </div>\n                                ) : null}\n                            </Tab>\n\n                            <Tab title=\"account.perm.memo_key\">\n                                <HelpContent\n                                    style={{maxWidth: \"800px\"}}\n                                    path=\"components/AccountPermMemo\"\n                                />\n                                <PubKeyInput\n                                    ref=\"memo_key\"\n                                    value={this.state.memo_key}\n                                    label=\"account.perm.memo_public_key\"\n                                    placeholder=\"Public Key\"\n                                    onChange={this.onMemoKeyChanged.bind(this)}\n                                    tabIndex={7}\n                                />\n                            </Tab>\n\n                            <Tab title=\"account.perm.password_model\">\n                                <AccountPermissionsMigrate\n                                    active={this.state.password_active}\n                                    owner={this.state.password_owner}\n                                    memo={this.state.password_memo}\n                                    onSetPasswordKeys={this.onSetPasswordKeys.bind(\n                                        this\n                                    )}\n                                    account={this.props.account}\n                                    activeKeys={this.state.active_keys}\n                                    ownerKeys={this.state.owner_keys}\n                                    memoKey={this.state.memo_key}\n                                    onAddActive={this.onAddItem.bind(\n                                        this,\n                                        \"active\"\n                                    )}\n                                    onRemoveActive={this.onRemoveItem.bind(\n                                        this,\n                                        \"active\"\n                                    )}\n                                    onAddOwner={this.onAddItem.bind(\n                                        this,\n                                        \"owner\"\n                                    )}\n                                    onRemoveOwner={this.onRemoveItem.bind(\n                                        this,\n                                        \"owner\"\n                                    )}\n                                    onSetMemo={this.onMemoKeyChanged.bind(this)}\n                                />\n                            </Tab>\n                        </Tabs>\n\n                        <div className=\"tab-content\" style={{padding: 10}}>\n                            <div className=\"divider\" />\n\n                            <RecentTransactions\n                                accountsList={accountsList}\n                                limit={25}\n                                compactView={false}\n                                filter=\"account_update\"\n                                style={{paddingBottom: \"2rem\"}}\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default AccountPermissions;\n","import React from \"react\";\nimport {Link} from \"react-router-dom\";\nimport AccountSelector from \"./AccountSelector\";\nimport Translate from \"react-translate-component\";\nimport AccountImage from \"./AccountImage\";\nimport ChainTypes from \"../Utility/ChainTypes\";\nimport BindToChainState from \"../Utility/BindToChainState\";\nimport Icon from \"../Icon/Icon\";\nimport PrivateKeyView from \"components/PrivateKeyView\";\nimport counterpart from \"counterpart\";\nimport utils from \"common/utils\";\nimport AddressIndex from \"stores/AddressIndex\";\nimport PrivateKeyStore from \"stores/PrivateKeyStore\";\nimport PropTypes from \"prop-types\";\n\nclass AccountPermissionRow extends React.Component {\n    static propTypes = {\n        account: PropTypes.object,\n        pubkey: PropTypes.string,\n        address: PropTypes.string,\n        onRemoveItem: PropTypes.func.isRequired,\n        weights: PropTypes.object\n    };\n\n    shouldComponentUpdate(nextProps) {\n        return !utils.are_equal_shallow(nextProps, this.props);\n    }\n\n    _lookUpPubKeyForAddress(address) {\n        var addresses = AddressIndex.getState().addresses;\n        var pubkey = addresses.get(address);\n        return pubkey;\n    }\n\n    render() {\n        let name, item_id, name_or_key;\n        let suffix = \"_accounts\";\n        let pubKey = this.props.pubkey;\n\n        const keys = PrivateKeyStore.getState().keys;\n\n        let has_private = false;\n\n        if (this.props.account) {\n            name = this.props.account.get(\"name\");\n            item_id = this.props.account.get(\"id\");\n            name_or_key = (\n                <Link to={`/account/${name}/permissions`}>{name}</Link>\n            );\n        } else if (pubKey) {\n            name = item_id = pubKey;\n            name_or_key = (\n                <PrivateKeyView pubkey={pubKey}>{pubKey}</PrivateKeyView>\n            );\n            suffix = \"_keys\";\n            has_private = keys.has(pubKey);\n        } else if (this.props.address) {\n            pubKey = this._lookUpPubKeyForAddress(this.props.address);\n            item_id = this.props.address;\n            name_or_key = !pubKey ? (\n                this.props.address\n            ) : (\n                <PrivateKeyView pubkey={pubKey}>{pubKey}</PrivateKeyView>\n            );\n            suffix = \"_addresses\";\n            has_private = keys.has(pubKey);\n        }\n\n        return (\n            <tr key={name}>\n                <td>\n                    {this.props.account ? (\n                        <AccountImage\n                            size={{height: 30, width: 30}}\n                            account={name}\n                        />\n                    ) : pubKey ? (\n                        <div className=\"account-image\">\n                            <PrivateKeyView pubkey={pubKey}>\n                                <Icon name=\"key\" title=\"icons.key\" size=\"4x\" />\n                            </PrivateKeyView>\n                        </div>\n                    ) : null}\n                </td>\n                <td className={(has_private ? \"my-key\" : \"\") + \" pub-key\"}>\n                    {name_or_key}\n                </td>\n                <td>{this.props.weights[item_id]}</td>\n                <td>\n                    <button\n                        className=\"button\"\n                        onClick={this.props.onRemoveItem.bind(\n                            this,\n                            item_id,\n                            suffix\n                        )}\n                    >\n                        <Translate content=\"account.votes.remove_witness\" />\n                    </button>\n                </td>\n            </tr>\n        );\n    }\n}\n\nclass AccountPermissionsList extends React.Component {\n    static propTypes = {\n        accounts: ChainTypes.ChainObjectsList,\n        onAddItem: PropTypes.func.isRequired,\n        onRemoveItem: PropTypes.func.isRequired,\n        validateAccount: PropTypes.func,\n        label: PropTypes.string.isRequired, // a translation key for the label,\n        placeholder: PropTypes.string, // the placeholder text to be displayed when there is no user_input\n        tabIndex: PropTypes.number, // tabindex property to be passed to input tag\n        weights: PropTypes.object // weights: hash of {account id -> weight}\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            selected_item: null,\n            item_name_input: \"\",\n            weight_input: \"\",\n            error: null\n        };\n        this.onItemChange = this.onItemChange.bind(this);\n        this.onItemAccountChange = this.onItemAccountChange.bind(this);\n        this.onAddItem = this.onAddItem.bind(this);\n    }\n\n    onItemChange(item_name_input) {\n        this.setState({item_name_input});\n    }\n\n    onItemAccountChange(selected_item) {\n        this.setState({selected_item, error: null});\n        if (selected_item && this.props.validateAccount) {\n            let res = this.props.validateAccount(selected_item);\n            if (res === null) return;\n            if (typeof res === \"string\") this.setState({error: res});\n            else res.then(error => this.setState({error: error}));\n        }\n    }\n\n    onWeightChanged(event) {\n        let value = event.target.value.trim();\n        this.setState({weight_input: parseInt(value)});\n    }\n\n    onAddItem(item) {\n        if (!item) return;\n        let next_state = {\n            selected_item: null,\n            item_name_input: \"\",\n            weight_input: \"\",\n            error: null\n        };\n        this.setState(next_state);\n        let item_value = typeof item === \"string\" ? item : item.get(\"id\");\n        this.props.onAddItem(item_value, this.state.weight_input);\n    }\n\n    onWeightKeyDown(event) {\n        if (\n            event.keyCode === 13 &&\n            this.state.weight_input &&\n            this.state.selected_item\n        )\n            this.onAddItem(this.state.selected_item);\n    }\n\n    render() {\n        var key = 0;\n        let account_rows = this.props.accounts\n            .filter(i => {\n                if (!i) return false;\n                //if (this.state.item_name_input) return i.get(\"name\").indexOf(this.state.item_name_input) !== -1;\n                return true;\n            })\n            .sort((a, b) => {\n                if (a.get(\"name\") > b.get(\"name\")) return 1;\n                else if (a.get(\"name\") < b.get(\"name\")) return -1;\n                return 0;\n            })\n            .map(i => {\n                return (\n                    <AccountPermissionRow\n                        key={key++}\n                        account={i}\n                        weights={this.props.weights}\n                        onRemoveItem={this.props.onRemoveItem}\n                    />\n                );\n            });\n\n        let key_rows = this.props.keys.map(k => {\n            return (\n                <AccountPermissionRow\n                    key={key++}\n                    pubkey={k}\n                    weights={this.props.weights}\n                    onRemoveItem={this.props.onRemoveItem}\n                />\n            );\n        });\n\n        let address_rows = this.props.addresses.map(k => {\n            return (\n                <AccountPermissionRow\n                    key={key++}\n                    address={k}\n                    weights={this.props.weights}\n                    onRemoveItem={this.props.onRemoveItem}\n                />\n            );\n        });\n\n        let error = this.state.error;\n        if (\n            !error &&\n            this.state.selected_item &&\n            this.props.accounts.indexOf(this.state.selected_item) !== -1\n        )\n            error = counterpart.translate(\"account.perm.warning3\");\n        if (\n            !error &&\n            this.state.item_name_input &&\n            this.props.keys.indexOf(this.state.item_name_input) !== -1\n        )\n            error = counterpart.translate(\"account.perm.warning4\");\n\n        let cw = [\"10%\", \"70%\", \"30%\", \"10%\"];\n\n        return (\n            <div>\n                <AccountSelector\n                    label={this.props.label}\n                    error={error}\n                    placeholder={this.props.placeholder}\n                    account={this.state.item_name_input}\n                    accountName={this.state.item_name_input}\n                    onChange={this.onItemChange}\n                    onAccountChanged={this.onItemAccountChange}\n                    onAction={this.onAddItem}\n                    action_label=\"account.votes.add_witness\"\n                    tabIndex={this.props.tabIndex}\n                    allowPubKey={true}\n                    disableActionButton={!this.state.weight_input}\n                    allowUppercase={true}\n                >\n                    <input\n                        value={this.state.weight_input}\n                        onChange={this.onWeightChanged.bind(this)}\n                        className=\"weight-input\"\n                        type=\"number\"\n                        autoComplete=\"off\"\n                        placeholder={counterpart.translate(\n                            \"account.perm.weight\"\n                        )}\n                        onKeyDown={this.onWeightKeyDown.bind(this)}\n                        tabIndex={this.props.tabIndex + 1}\n                    />\n                </AccountSelector>\n\n                <div style={{paddingTop: \"2rem\"}}>\n                    <table className=\"table\">\n                        <thead>\n                            <tr>\n                                <th style={{width: cw[0]}} />\n                                <th style={{width: cw[1]}}>\n                                    <Translate content=\"account.perm.acct_or_key\" />\n                                </th>\n                                <th style={{width: cw[2]}}>\n                                    <Translate content=\"account.perm.weight\" />\n                                </th>\n                                <th style={{width: cw[3]}}>\n                                    <Translate content=\"account.perm.action\" />\n                                </th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {account_rows}\n                            {key_rows}\n                            {address_rows}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default BindToChainState(AccountPermissionsList, {autosubscribe: false});\n","import React, {Component} from \"react\";\nimport BaseModal from \"./Modal/BaseModal\";\nimport ZfApi from \"react-foundation-apps/src/utils/foundation-api\";\nimport WalletUnlockActions from \"actions/WalletUnlockActions\";\nimport WalletDb from \"stores/WalletDb\";\nimport Translate from \"react-translate-component\";\nimport PrivateKeyStore from \"stores/PrivateKeyStore\";\nimport QrcodeModal from \"./Modal/QrcodeModal\";\nimport PropTypes from \"prop-types\";\n\nexport default class PrivateKeyView extends Component {\n    static propTypes = {\n        pubkey: PropTypes.string.isRequired\n    };\n\n    constructor() {\n        super();\n        this.state = this._getInitialState();\n    }\n\n    _getInitialState() {\n        return {wif: null};\n    }\n\n    reset() {\n        this.setState(this._getInitialState());\n    }\n\n    componentDidMount() {\n        var modalId = \"key_view_modal\" + this.props.pubkey;\n        ZfApi.subscribe(modalId, (name, msg) => {\n            if (name !== modalId) return;\n            if (msg === \"close\") this.reset();\n        });\n    }\n\n    render() {\n        var modalId = \"key_view_modal\" + this.props.pubkey;\n        var keys = PrivateKeyStore.getState().keys;\n\n        var has_private = keys.has(this.props.pubkey);\n        if (!has_private) return <span>{this.props.children}</span>;\n        var key = keys.get(this.props.pubkey);\n        return (\n            <span>\n                <a onClick={this.onOpen.bind(this)}>{this.props.children}</a>\n                <BaseModal\n                    ref={modalId}\n                    id={modalId}\n                    overlay={true}\n                    overlayClose={false}\n                >\n                    <h3>\n                        <Translate content=\"account.perm.key_viewer\" />\n                    </h3>\n                    <div className=\"grid-block vertical\">\n                        <div className=\"content-block\">\n                            <div className=\"grid-content\">\n                                <label>\n                                    <Translate content=\"account.perm.public\" />\n                                </label>\n                                {this.props.pubkey}\n                            </div>\n                            <br />\n\n                            <div className=\"grid-block grid-content\">\n                                <label>\n                                    <Translate content=\"account.perm.private\" />\n                                </label>\n                                <div>\n                                    {this.state.wif ? (\n                                        <span>\n                                            <p style={{fontWeight: 600}}>\n                                                {this.state.wif}\n                                            </p>\n                                            <div className=\"button-group\">\n                                                <div\n                                                    className=\"button\"\n                                                    onClick={this.onHide.bind(\n                                                        this\n                                                    )}\n                                                >\n                                                    hide\n                                                </div>\n                                                <div\n                                                    className=\"clickable\"\n                                                    onClick={this.showQrCode.bind(\n                                                        this\n                                                    )}\n                                                >\n                                                    <img\n                                                        style={{height: 50}}\n                                                        src={require(\"assets/qr.png\")}\n                                                    />\n                                                </div>\n                                            </div>\n                                        </span>\n                                    ) : (\n                                        <span>\n                                            <div\n                                                className=\"button\"\n                                                onClick={this.onShow.bind(this)}\n                                            >\n                                                <Translate content=\"account.perm.show\" />\n                                            </div>\n                                        </span>\n                                    )}\n                                </div>\n                            </div>\n                            <br />\n\n                            <div className=\"grid-block grid-content\">\n                                <label>\n                                    <Translate content=\"account.perm.brain\" />\n                                </label>\n                                {key.brainkey_sequence == null\n                                    ? \"Non-deterministic\"\n                                    : key.brainkey_sequence}\n                            </div>\n                            <br />\n\n                            {key.import_account_names &&\n                            key.import_account_names.length ? (\n                                <div className=\"grid-block grid-content\">\n                                    <label>\n                                        <Translate content=\"account.perm.from\" />\n                                    </label>\n                                    {key.import_account_names.join(\", \")}\n                                    <br />\n                                </div>\n                            ) : null}\n                        </div>\n                    </div>\n                    <div className=\"button-group\">\n                        <div\n                            onClick={this.onClose.bind(this)}\n                            className=\" button\"\n                        >\n                            <Translate content=\"transfer.close\" />\n                        </div>\n                    </div>\n                </BaseModal>\n                <QrcodeModal ref=\"qrmodal\" keyValue={this.state.wif} />\n            </span>\n        );\n    }\n\n    onOpen() {\n        var modalId = \"key_view_modal\" + this.props.pubkey;\n        ZfApi.publish(modalId, \"open\");\n    }\n\n    onClose() {\n        this.reset();\n        var modalId = \"key_view_modal\" + this.props.pubkey;\n        ZfApi.publish(modalId, \"close\");\n    }\n\n    onShow() {\n        WalletUnlockActions.unlock()\n            .then(() => {\n                var private_key = WalletDb.getPrivateKey(this.props.pubkey);\n                this.setState({wif: private_key.toWif()});\n            })\n            .catch(() => {});\n    }\n\n    onHide() {\n        this.setState({wif: null});\n    }\n\n    showQrCode() {\n        this.refs.qrmodal.show();\n    }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ZfApi from \"react-foundation-apps/src/utils/foundation-api\";\nimport BaseModal from \"./BaseModal\";\nimport Translate from \"react-translate-component\";\nimport QRCode from \"qrcode.react\";\nimport {Aes} from \"bitsharesjs\";\n\nclass QrcodeModal extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = this._getInitialState();\n        this.onPasswordEnter = this.onPasswordEnter.bind(this);\n        this.onKeyDown = this.onKeyDown.bind(this);\n        this.onCancel = this.onCancel.bind(this);\n        this.onClose = this.onClose.bind(this);\n    }\n\n    _getInitialState() {\n        return {\n            isShowQrcode: false,\n            keyString: null\n        };\n    }\n\n    show() {\n        ZfApi.publish(this.props.modalId, \"open\");\n    }\n\n    onCancel() {\n        ZfApi.publish(this.props.modalId, \"close\");\n        this.onClose();\n    }\n\n    onClose() {\n        if (this.refs.password_input) this.refs.password_input.value = \"\";\n        this.setState(this._getInitialState());\n    }\n\n    onPasswordEnter(e) {\n        e.preventDefault();\n        let pwd = this.refs.password_input.value;\n        let key = this.props.keyValue;\n        if (pwd != null && pwd != \"\") {\n            if (key !== undefined && key != null && key != \"\") {\n                let pwd_aes = Aes.fromSeed(pwd);\n                let qrkey = pwd_aes.encryptToHex(key);\n                this.setState({isShowQrcode: true, keyString: qrkey});\n            }\n        } else {\n            //notify.error(\"You'd better enter a password to encrypt the qr code\");\n            this.setState({isShowQrcode: true, keyString: key});\n        }\n    }\n\n    onKeyDown(e) {\n        if (e.keyCode === 13) this.onPasswordEnter(e);\n    }\n\n    render() {\n        let pos = null;\n        if (this.state.isShowQrcode) pos = {textAlign: \"center\"};\n        return (\n            <BaseModal\n                onClose={this.onClose}\n                id={this.props.modalId}\n                ref=\"modal\"\n                overlay={true}\n                overlayClose={false}\n            >\n                <div className=\"text-center\">\n                    <div style={{margin: \"1.5rem 0\"}}>\n                        <Translate\n                            component=\"h4\"\n                            content=\"modal.qrcode.title\"\n                        />\n                    </div>\n                    <form\n                        className=\"full-width\"\n                        style={{margin: \"0 3.5rem\"}}\n                        onSubmit={this.onPasswordEnter}\n                        noValidate\n                    >\n                        <div className=\"form-group\">\n                            {this.state.isShowQrcode ? (\n                                <section style={pos}>\n                                    <span\n                                        style={{\n                                            background: \"#fff\",\n                                            padding: \".75rem\",\n                                            display: \"inline-block\"\n                                        }}\n                                    >\n                                        <QRCode\n                                            size={256}\n                                            value={this.state.keyString}\n                                        />\n                                    </span>\n                                </section>\n                            ) : (\n                                <section>\n                                    <label className=\"left-label\">\n                                        <Translate\n                                            unsafe\n                                            content=\"modal.qrcode.input_message\"\n                                        />\n                                    </label>\n                                    <input\n                                        name=\"password\"\n                                        type=\"text\"\n                                        onFocus={() => {\n                                            this.refs.password_input.setAttribute(\n                                                \"type\",\n                                                \"password\"\n                                            );\n                                        }}\n                                        ref=\"password_input\"\n                                        autoComplete=\"off\"\n                                        onKeyDown={this.onKeyDown}\n                                    />\n                                </section>\n                            )}\n                        </div>\n                        <div style={pos}>\n                            <div className=\"button-group\">\n                                {this.state.isShowQrcode == false ? (\n                                    <button\n                                        className=\"button\"\n                                        data-place=\"bottom\"\n                                        data-html\n                                        onClick={this.onPasswordEnter}\n                                    >\n                                        <Translate content=\"modal.ok\" />\n                                    </button>\n                                ) : null}\n                                <button\n                                    className=\"button primary hollow\"\n                                    data-place=\"bottom\"\n                                    data-html\n                                    onClick={this.onCancel}\n                                >\n                                    <Translate content=\"cancel\" />\n                                </button>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </BaseModal>\n        );\n    }\n}\n\nQrcodeModal.propTypes = {\n    modalId: PropTypes.string.isRequired,\n    keyValue: PropTypes.string\n};\nQrcodeModal.defaultProps = {\n    modalId: \"qr_code_password_modal\"\n};\nexport default QrcodeModal;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QoLBzEKr7oFDgAAIABJREFUeNq9fXmYXVWV71p773PuvVUVSAL2o40KmjCEgiSEVFUSAiRR6U9Bwan9tPG1OPLk2bQTaQd89rOfooJD80RBUfTz4RPnVpx9bZuEzIHMAaICraIiZKjpnrP3Xuv9se5dtetU1U1SiveP+m5uztln77XXtH9rOPjWt751y5YtzrkQQpZlIQRjjDGGiOB4PsxsjIkxjoyMbNmyhZkBABHlf4nIGNPX19fT0+O9995v2rQpvRcR5Rr5rrfLP/VKItq7d+/VV19tjAGAPM9DCMyc5/ncuXM//elPy4179ux54xvfWK/XiUjWJU/pPH9rbQgBAJQC8mhmjjEODAy4bdu2rV+/Xn6NMSKizDud4rF8ZHSZ9+joaKPRkAGNMTJUWZbbt2+31nrv0ykKlWUE/V1ukQ2T+cgFiHjo0KFt27Z57+VHWaG1ttlsxhittcw8ODh4zz336MR0qDzP06dPJJbuUIxRZyKTQUSnU0nvkWUfF7F09BBCvV6X7/J4mXGe50RUYVjdGyGZ8pE8XcmnXxDRGNNsNnVVwgsxRiGZ/g4AzjkdWTfsWJZQobLOygh10l2Vx0/jY4yR+SFiCCHGGGMU6lRIL49LJ2etFUKkgsnM3nsdR4aSnRDKKhWMMYcOHdIHOefku0wmxigD6uZN/MjTZUD5yO7qjiKikbHkV6GiPIOP8yO3K6Gdc9Zaa22WZTKPPM9VlFSCAMB7X6vVdELOOUTMsuzss88GgCzLZBxZSQhBuIOIGo1GX1+fEDHGuG/fvnSzRT7yPO/v75cZeu/Lspxq/rorIQQZcGhoSMbUa5xMSNSkiqtz7njFUJlfNbGKmLU2xijKoiKGwtf6Vy8wxsyYMUNuF8WvnJvnuQw4OjqqkiKqUDZG9kDYVigrukz5cdL5V5hOGPbIkSOqsIwxTqiYXic8fLwKPtWFKkcVXSCLnHhL5Ue5RamWqggiKopCZVnkS9aZZZkaKL1ApqG0Vqp1sIk6iOyfEFekzaRaUK47qpXt8CRlHNFBkyopXbyqM/lF1bPcqOJQUXYiLHLlyMiIXiwjqJirdVYpUbJ2mLxogImMYoyx1o55E8LM6YZ3/lRYWr/rbug/RdlX3BGdligXdVxE8RHR5z73uSzLRIUtWLBAx1yxYoWMFkK47777ZObOOSWrem3yFO+9PnfTpk1TLUc0IyL29fWJUkpdxTGd9WR/KhZduS/lLN18nZ+QTHZVLIA6bsqbqon0u4wwUa6Pa7YVsRhTUE82pYSh1PmUL7KZ+stE56uyYDFBYmGFHMIv6iLIIMKGcv00dIgq8qn0tXmyiSXP1s1XaRKFolqywho6b71S6SJKXSRUr1RJ9N6L1P/pM6/ok78EsVQp1Go18R7UysinKAphhJRwHZhU2WdkZOSee+7Rwc8991xx65xzqQE9Xsue0qhy41+Is1Kekm0XfklVe2V++r8VudBxurq61MtBxO7ubvmvoiimYc0nEjT1Qv5yOit1GlSRy+anB2YlxMSjiRybU59DbbeMmVrbPM//FJ3VaeP/AtZQ6aKnqFSFjx1Tk4Oh+Maqs9QRVYMoBqurq0tdBIWV5OxSYcNjF8aUtSscOh3OEke8glV1dvZSRKEyJ/HgJ4rh4sWLVWDVeiLixo0bL7zwQgWFjooaHaOyT7EzdWv/DJyVrqGCQx0LZx0jJ2ZZpkBNyon1el3tpvpcuiXq7oqva4xRZK0zSKfjpMeMytLctGUq3fOjmjD5e1SyKjuo5lY8T72qoihkPQpsioJT5i3LUqFBEWE5Y3c+xumYuhzxQo6JWFORQDlf/JqjqlL1sPTGzqdZuSyEMDw8rFCvc857L6c84ZQU85LP8PCwzFncfbUSWZbJJIWCHbZW2HNwcFDuTV25oxBrKlGfqKo6L16vd86NjIyIgBzVKgHAvn37lIsXLFhw3333idz19vYqgdJTt2xeyshyLBUaiR+7bNmyzuuStYQQJp4ipslZFZC+8+J1wQpadRZbPdwdOXJE/ICyLOv1uopJrVar6GAhop6H1O+VQ1Ke54pVTHXoUz4VwU/PBn8GnSVzOkadVbn3qFYpna5Em1J0xXsvroOqcEVBlNbiOsjBSHScTniqOYjjVoHX/wwefIoWHIvzUkEpjxpkkxkL1i7+p/hZcrsKsnq2qd8r85Fly152dXUp4NFhtxRfVdFzzvX09Iy7aNWqVRUf51j2v4PY1mo1USiKdqrzIu7iRGcvBf51AuJnyTg7duww7U05d+ECHwMzx+jvWb9WWXvhwoXq9G7atCm1/ROduOP9OOdWrlxpFEVVn2UaQcP0uFAURQhBxEcRD3WanHNydlMWSO1UigurBy+IqJDXWtvV1WWNsKrLs7oAEhKMkaiSkr5er6e70gGAPyoTyLBG5D/d2GnDygrIOucErdYQVqpKxLTL3og2ybJMNHSK0lRg28xlFcsrke0KDi6EE93UbDbTcOT0FpXiqO7gwYOpEtGNnUZ0R2ght3vv5QGyAPHuxN9RJkoJquqvBeA6J0sV859lWRliltWIwuGDh2IIzrksy2yWi2ir/hZTIGMKb+oJtHJKOy4FTUQHDx5EsRdijysw5vESS7ZdpViEQiiVenf6T+9jltlEhNl7v2XLNg2JHzlyRDDlPM8HBpYZA0VR1GrCYgxgjhw58sAD+/M8HxkZmT179rx583Q/hFjNZlMMgrLk9EJ83vs8z1E34c8FLaaHNRWZtWvXilopy/Lss8+eMWMGMWaZQ4RI0RobyYsmwraBVn4RP4sBKEZrkSmgMQCGGQGRYgwh1Gq19GAEAAww2hxt1BsMDAAISEyIaACnvTpMcV6Vwc5AwhRjRZFE2duhoaG77rrrK1/5yo9//FOhYJ7nzWZTNtkYc/6S/he84AVXXXXVnDl/TUwx+sxlPvjcTVi2RGuADTBD/MC//Mt3v/tdtBbBRobcZUVRCP+q64uIz7v0+b29vZdffrkGe2KMeZbj8ftJY6Sg9kfPENOI3UsAfLQ5yOx//ZuHXvqyK4wFQDAWJoYPWs9Gi8YBmKXLl+27fz9xHC1GiKOi7OlMZH7eF8z+da/9rwiABowBMGMpLhoebqk/BOMsILzs5X978PAhYg4UI09vaa0pQX9/fyUW3dnVcpD1zj+HmQP5yJL9wUwcikPM5fXvfg8AIIKoUYO5WpM0+IqIFiCzDsCYrAts7Y3//R+bkT1zJCbmZrPJHJkjM4fQoplnH0bpmte8yBpwCHUE42am3tP4g5cxxunfO7/81cDsmYk9M0dPzEzMgWMZCiYW1mPmtWvX6vIlXjmW69DV1aVjKyLRwcmOEJ/ylKeIQjFowAAAMZHN6osXLLpv195arVEUo8ZZFo8HuK+v77nPfa44FkT005/+dOvWrcEXIQZrbfRNNO7WT/7vdT9fu337VrRQFr5eqwFA2Szyes1aJAKG4ME3cnFKoF53ZTNQCJVjnSIctSwrysIAGgNE8MpXvGJ4tPmqv7/SGEYAY0WviQ/sUjdAbhe6a+5U67N69eo07iQOZGcxXr58ufctWaHofTnCsTnv1DkZQmZzAAcGAeHZz7nke9//sdj+iSy9e/ful7/8ZQjQlVsEQLSu1nPK0+cG5sBclG3fMqjoRM+eA1991eUtcUP42C13qrRKBEywmo0bN77rnWsa9byWOxk8r3Wjaxx4+NEg1xPHGCNTYBYeUydGUxKNMcuXLx+XKXTxxRdXDpCdw/fG4cBA39hK2DM3L1x+ngWo2xqCA3A9M078fz/79xDZB05dapmNOCtl8MzxoV/sP23OUxyAFRG3XQMrVgbmIjIJlYmZAlPwvvBccuDXXvl8RMzrNQDz/o/ekaq2siyTjYkc/Esuv6yROVEJYGqrLrnMMweKvmzG6Ik5EkdiVWUhhB07dqjTd84551SJlToUqZqf9AMIS5f2hxA4cvSByb/33W/PDCBA7moA2V8/9dQ/PPZ4SVGmImvQAfWfgTlGT36E/fAFSxZ059aiQ5ODyT904ycCs2+rqhhK0V+jNMKB33L1y1sQALr/8dEvCKumzCsIJ1Ng9hzL8xeeU3c2z3MAB7b26BMj8mhmT8whMkVm4jVr1ogMLlq0SBIpJqp5I7iPeqFCXXUjJkmgMJYIrLFgCDk++utff+ADNwYCBihDnDV79oO/+MXsk2cDBQAyCIq3qFLIsoyIENgYgy6LxOvu2XjKKacAB6ASmNasecfhI8MRUDSnsVZcOIcOAgyPDAmDi24ty1JObEVRiKoVVCsSMQEgfu72z8YQfVkCEMS4cdN2knMikdgFNABI9XpdDkZyxkyTvMZBNJXjzsSI7ngElWtZ3mwOAxNmeO2116I1AIBZDgg/X7eOgYjJWRNjCUBi/iSpTASwZd0BY2QAZ/MGZNnP/uM/LEJN3NJI1113nbMABoghBAJs62PD9Sw3yBQiAGdWWKaFdggs04I6rItEALBg8aIsw66aQyAAuu++vRSF+Gn0hCrhyDQ3cYxYgsaKQVFCdggfGbBEUK/XAPmJxx77+rf+LQRicBzDG6+55oyz5jXqGSISk7Nj2QmyJImzt3wWZmMtAxBgCPTUpz/tmmvewBGAIyDeftttPjAxMIJ1jhlBrAZiCMG0Y9tEAZIkWM2xISIGtM6R9wBw3sJziyI4BAQYGhpBCwRs2qgpM8vpQ1hECDIpu4zL9tYg+5g3NG5EAADKOQwPA3oosls+doOzmQMACGC6P3zTTQbZcHSMljPgVjJuZX9agwNCJARCJrTO2Ox97/ufooktRIT4ma98N+NmACAA5BIRS4hgAZwNDE5svzUa5kmZAhENAHNhsgawa8e7awYoy2xgYITIDAwWAGgMfUfEtWvXimwpviSfgYEBk+Z5p7lbim2l6fNEBD64Wj1yBAvf+Ma3yuAZwLr88he/pOasBQQAppbgdDozoT7RGjQA0N3dGOg7p21q8Gt3fQXQUtsXijE6cHJUtBaNzYCNgr+CzAjPtpL/mAw0KBwBsHv27rSmzraIkC1c0OuEzuLKIqABAGw0GgJMpjCWhiattY1Gw3TOGUwLH9LsfotZeeSJfff/J4DJrI2RX//611oDDGPIkSxzyjMXMBhmljkBANh6dvnllwG0VMnPf/pDQOsQkAkArLEGAAgQDUUoyxLQMKPiPCoHLbgVgSIb2/PQLzY0R2qem4EMYL6s/zxhv/ZSQU7Waapqmgc85gZIHnyadZfmRlWSbzT3sCQGgK2bN4h3xIyA+UUrlqfPOJYjavpQ0ZLPee5qC0RM1uUwOvy7Px7G1iYjAEQKLdgaENEaY9OET0gqMmQTEBGweNd17wcogDOwpndJ/zPmzERg4DaR2uqoLEtNPtdjX5oHD62TaJIKkSauVMJzLeeewToHjLt3b/XRABIRnXzas7rqxjAARTkTHhUIkSsMCpIFzAjMZ83vtQAGTYzBONjzwC8BwLQ4lJxxgC2eyPOcoo+hFEnUmpukIMIgFnd+8Utf/9b32QABQ6x9+MMfRAAD7GxOkcVgyapvuOGGI0eOiL2W+C4R7dmzp+o6TBqkmYqznEUwBhB//9uHIxhAQOBnnXGmITCYhnCOGh0Yz30GmV02Y5YFcJkBRi5H//N3f7TQZl4iHtttKotRAGqM54U0wEMB3v+B66989Zvy7oYnAAyve8ObL1k5EKMHMAAGUBSsEMsIz8oZQ1hMY5fqUTupLKhAo2kIU3V8i6xEzTIA46O/fUigOiSeefJJDICgUU8wRm7sAIABMyGKr2AZLYABcCd2ZwebEYyzBIOj5RiohMjAwGAzY42NFOs1e+D+PRs2bBDtLvF9Y8wDDzywfv36Oz7/mZGRwEhDw7Wsy/3N6hd/4uPvdQwkW8ggVqUSixa4TbPn06CJMcZphcZUWSVCKVV1BiCr5QAwNHwYwIADDnDCzBPboSpqsQwfBUFEAAALEAGIARAtAEbPM2ee8NhvHofMGoJmIcQitA6BI4QMIcYYKRoAX8Q7brv1i5++MVXGCvk7BMQcnOE4/L73fmrNmqstBPCMmSGGGME5YAaDQj3UkK2WmSGiFOGNBQk3bdpUyTHTUGiadaaAHKIJcRTIFUgAkEOtsIBNZGgVaJVlCQiMR1HzRIJ7QaCIgMxABNYZ9l5QHwvQ3d0NzEyi4AwCC4GFKXIECM0xuQMGBEAbAgGYgFnXjJPf8Y63HRp8Ys2aq1sbaBHBGITMtUZsiWSbP2KMa9eubTQaAi4sWLAg9Q1dyodpKYB+EaRYAf/ABMQQY6PelWeuLIYB4fDBx8VyhxD1/IHGMMcpFZcBQAg+uiwPxMaARYLgDw0NGWsgxgDQ090FKA4mMIPFdpCRyVosI4PJiYpWhIVaxX/W2RDC7JNOueVTn3zpS64QkSnKop7XiL2BrAN8rABMxUMQp9epA0VEgmSlxX1iUNWsil9Syyw4+9Snneb9RgCT1+HXDz1EDIjWOIHiRMF3ygFBBCJyWQZgrAEfPLN3GR8ZIXYZoPEMp845JfEzEIABwGUZgwkRnIUVq56zesUCIBZ1s3nzxu/823djCM7CE4899qq/e8mtn/6bH/7ge2iplteCB5dR55wBEUD5m6Y0id/r9u3b9/jjj0sYbuHChYr8CSsJjbZv3y5kbsX+iQHo6afNM0CAObP/5YP7GYEiW4vel3luseWg89ReFgmGaQzECIjsHD70wO4SgMXuYXb6M0+NAA4MACFihOioVaDCjMZlqy953vve8XpisihcjAD0T29/x003fdyY6Ev695/85LLnv+TuH36dCGwGDNzBQpdlaa096aSTFi5cWKvVarWaJj5ba8844wwYGBiQpBxNXVU8q1JqpIGGpQN9HMPPfvLtOkLN1MEAQPejfzwyOFpGJgHORQ16X0wVAgjkiYJAXEVJzDE0H//eN28Xmwim5mb8VWAuSIA5z8yeS/Z8zWuvQLQADkz2z5/4QmQKFFtoH8fm6CCTv/3WWxCh0egGcADuIx/5lA9MXPpYHjU2IV5bBeAVspju7m6tkqnIoFaXpmIMBh0wIPf1r2AGZAQEC/R/7/pavZ5xy3UBHB+Cn0wMbTvVC2wmpSnuhz/4KYJFZGvw/P5llluBDwhtFARbyfFoDDCHEBDQokgQee9r9a4Y6TVveP11b/9vzdHCGAIM7/yndz36+8eK6NFkHUJeGlFPk7xUwROREUqpX5omM8pfyYfSMltgOShxV8/ss8+cE5kBwUC87bO3h7YuTAORU7ukaE1G0QMSAEQmzBqf/9ydLZc9lle++iqITZZjEfIYjYENMHAEpkZeK4tCwZksqwEYBgPgPvi/bjj9WXMyZwAxxKFLL73U2a4OyU7GGFXZac556naZFNZQVJOINm/evGHDhu3bt+/fv3/+/PlLliy54IILLrjgAjDGMABiUfrXv/Yq1zqN8L4dO3bu3BMpapFN56wVjiCQFmLL+H79K18tPAASMhHTi150udBRWFRdWSICJrmrKJridreML4APZJ0LkdE1vvntL3sfgCyg371n1+dvv4v46GkNlRyp9HAOK1eurKTJT5U/1U57dsuXXcTEVI6ODj0uoAxCDpift2TZaGDPXDI3y1Fmz1SkiH4K8HtmHyWUVzI3mctTTp5lAWytDuguu+IlxOwDE7OPgUjUhw+R3/yaKyS2g2Cu//jnp9Q9xMzxTa9+KQJ0AQD0mKzn9yPEHCn6EIKEKUIIzJFjmQY+UsU9DoPvnLFXqaQxxlhniEPwEV1W757xxte92jlAiIh479atH7vpY+JC5Vk9RgY06tBWKgYsgDMIAL4sgfEt//APTzxxkBFiGcCYG264QfgJAZyxiPa4UxMQIDRv/tyXZtVhBFzdlBT4NVe+MpIhcNbaGALqQaV97hcdouJVHbQzZ4kuS2kMCEv6+9pb533zsEMwCNZmYnq+ffcPPHNJHChOzAQQW0NEzLE5Oszkmcsv3XE7ihZDB1h71WveEJgLX5IYuJHRFmMdD2cFZt8cJC6/8KmbAEzNALguQPez9ZuGi0DMRDQyPMgchec1yzCFWyqfKZNnent7TzjhBAAYHh7etWvX4OAgEfX09Cw679zzzjuvLCjLDRDYrHb33d+89NIXxeidyVyeXX7pZV+88/+88hV/K9HqNP1M82iZGZhqeQYAN97w4Xe/+3rB9YBh5sl/ddttt8o2C4xTq4SFj5W1CGs9GIdedfU//uvNt2zb+6scRjy6573gikOP/zYCOMRGVxcwhwiI8PvfPfrII49o0a0IxIwZM/TE04mzlJtE649Fh7iITMQcvMh2ydxc8/Y316zJTSvDwbr6ylXP/ePjh6mt6dJcD2Gu0Bx+cN/uhb1n1Z1FgFqtkde6AbI9+x8OzJ4pchniaKQilL4dBD0OziKOgZmpJOZf7d3mnHFyejeNa697z6gfm5oor+uuu64SrM/zvK+v71h1lmSjaQ5Eq6gFDBBTAOPAOUfMAPaGj3z0yitfGYmNAWOAol+/fu3JJ8164QuvuOOOO/bu3avyX5bltm3bbr755sV9S86Yf87+Bw+UgVxWKwpflsWO3bvnn/mMUAYjRDcO2NjMwXQyHI0FKinDWD79rEVv+PuXm8zmBkxmPvGRDz388MMhsgDbEkA84YQTpGuLwqST9GLpwFlqAdPshxhKJiZiYiaOkUNbyMuP3/ghZzF3rYvzei3FSzUzU8+G2mnGufzU0+bdf+Bhzxxa8WcmotHRUXXNp8FZTMJcftQHLg/Va5mcb11WO7N3gSTtUMv2xfe+970aoNX46bJly46Js9atW7dx48atW7fu2rUrRaZ++eAvt2zeKuSNFBHQOgcMwHzt296ye/fOufOe6YwFgFAWEsJJGyuNtY6QI6Zk70R++OGHvvHNr/sA1kKkVpSlXq8TME2Lr4ACgbEERXR1W3LW/dlb/pXRNDITfHH/vn233voZAAgMzhmg2EZNgkKhk9SwXXTRRWnFiLBJ6tNPzM1dvHhxNdMs+e598cMffv/Zz17lsrGYQBo91EolQepdO+wAprZwyfKDR0Ylkab0LW5q+WLEZTHKXL7uqldiCzzM3vfBj3Vws6g1pUAUIhXM/vzFCwABrRHn8A9/fCxITgbT9ddfr417dMlLly4dZw0llATjuzBV+kRVMt3T+ra0ME6QL+fcRRdddMkllwDAj370o02btuzdu/dXv/qVbECWZX19ffPmzbvkkuc8bc6cvr7z9+y5HwEYyFnYsXXLSSed9PVvfO2Flz7POQmAsLU2xBIYszxnCmvWvPMNV18TyQSwzzj1tCkZi4mIMtuqPkdwAHT33Xf/6pHfGGPKshwDFRA0mT5FDSY5fqxevVrjiJwYL72n0g3GGDMwMDA6OjppcmVZtjJevC/ky/g0oNZR3ntfFEWMPobm2992bWunEa3NrKsDuDddc20rH4hJNl98Lopehm3BFfHoaY9ERBTaU/I+tn13ij4GsezE/J73vKdSjiGZaOM46/TTTy/LsizLQ4cOaaMFa+3555+f6uO0r1xfX1+atq6+Rft03gq3yAPUOAjaoxPK8xyAKPJHbrxx1apVV7zgCmKG6CNEALjlkzd/5zvfXrfhnlNOOcUaEwEsQKDoTAYERIwWECgz1LlWq51G3soMLssyz+ut2ESSuCy/CAKqNZ+T5HxMzMxTVyh1jlImkhiHlJ2k7pj6vul3oZE+Qsdsd7OKMTRjaP7u1w8/8+lPdQAAJs/r7WiVu+NLX24GDsyRA3FszYJa/OLDaAeeknnKE4W52kmqraVpXQIzizWs1D1VdJZJs9W1wEP7e02sDxJmEQw6TWLS4J0mH4zlaCTYhvZTkZBtWQZjMzTuv8x56i8ffvhlL3sxAJVlExGNtYjw6iv/7tkrV40MNSlEBCPujXKEs3nn8pgELLIxcrNZwvgmZzp/TQZJeapaIy0+p1bITkz+rhT0TKzLa38n76Mo+HaHMFspINDKV+ccUEtIGZAgxDJkzt1511fvbKeMSa2A4M4hkHNS6KNWxYUg+MmUcUmKMTLJ1nrvXZbV2qUWmpmkG6k1bFoRqsDWGLH27t176NAh6X2SBlNTcCflrBjjzJkzzzrrrEr9u8Y7tNpEVpi2+xrnkSAyE7bIx1leR5A8Wi91T1LThczAxlkDDKJjrMUQAxA45yjClHgEs7HWoB13OIVxRZ5CR1msODRZlp1wwglz586Vy6SV3thnxYoVlRLKzmH3tO/ZpEV8abOLFJnRDJyJI0xsulkRJfmrmJx+0lsWLVokmiiEsH79eu13IEm0or/Wrl2rK01T8yu52JyAEKkRb0XKFLpKY6udC75Vso5a+at5pGkNvmq09MexfBXTSj4QXFz+aiwvxZG0DHliHwi5sdFoqFEWPZvGBCskU99dvcj0MqOPl3KhSnX1pA3ZpJxQmeio9f/GGNGmaVHOuCBIkjymRiDPc8mZ0h5uabqdaBblYqnVShvhaRfX9GCr9bWpAtWOcJC0VEnT/nRrnWbL5Hm+cOHCPM8nPxYlOksD1/rXGLNu3bpJr1+wYIH0H5LOKJroUunPptO48MILpZPf8PDw3r17hR0ajcb8+fMhaYIiBvcPf/jDAw88UOmgV5bljBkzlixZIlpv3rx5WgIp/qBo7jzPL7zwQlHkRVFIbFRbwAkTSPdNGX/WrFlw8cUXKwnFJ2o7JpN/JtZKaBvaSXVWmlMum59WCFWYJc0L27Fjh2h6AEhP/22glUMIO3fuVEkcGBiooOZSd98+sXpm3rBhg4r5qlWrNEFfa6oBYMmSJfqgLVu2QLuP3sDAgEvL1CZqzUlDIAp4KlMctbMsjG/5WommaN2xyLgQd2hoqFUhNN7mpJMcHBxMu1bD+P47mnKQ9mtRB2h4eFi742nerPpPojFED4gf09XVZVJ9UelEMOlHSVOWpZ5yOseXlLHTnnyqNer1ujKL+ofSE6WS0pkGPmTDFKSW85NSTTZGRpPEhVRWVNgSAAAGi0lEQVS1yZakiQpSWSzcJDXxyg0y51aJHkzR9Xnz5s2TOg3qEBCRSEfnGuGNGzcK73R3d/f29tbrdc2U0y8iHTLU3r17Dx48mOf5gQMHFi1aJC1v58yZs23bNslFkLvEYtx3333aXvXgwYP33nuvKCaxntKjW4UmhLBnzx7t9TM0NLR9+3ahzoEDBxYsWCAe9Zw5c/bv3z8yMkJEBw4cSBMwjyluOJV8pQqis5+lajVt+aDaJC201z07//zzVQdt27atcvKYWJwFEzrJVqrd0hbiFdu6ZMkSndvmzZtTjaR/V65c+aR3ZktFQ/suaIRNjFpqYVVsU+9EEKEErgDtuZyufFyoPTlpac/o1JdMp6fz0RYOk4rLk04sFRwFDlPnKFWRaSWU5mJUWqqkFaQV9VrJG06746V5oROLBaW6P6W4NDefWBvypDdIlP0UG7d79+7BwUEhRH9/vxhBY4xgZ7KSjRs3lmWZZdnhw4d37tzZbDadcw8++OCiRYvErT106ND999+vO5G+EkA3YNasWWeccUZ6NhJH9IknntBO6GkV3GOPPbZz586yLEdGRn7729+ec845YgdGRkZ27dp1rBHpP11nTVQTlWcp6qR8pFVReq+g/vLZs2dPxTvT1Cj5kue5WB61sCJZMcatW7dW/I+Kk2GM6e/vV8fw3nvv/YvqrNSGqkylCLfYbFUx9Xq9LMvKqz4UBdGMfrXo6TlJdFZZllo1m7qBFcgl9QEkRCjgkiLsIQSJJP7ldFbaLjhtJ5civymckEY6lRCNRkOP1uJApOiuSLoM7pyTwkP1wjTRTKDdiWcGOepqtCLtjT6h88CTr7PUIe7r64N208IdO3boOxCWLl1aMfnMPGPGjHPPPVfuFQUkpJk5c+a5557b3d2drk3eYbF//37xRYeHh7dv3y4EmjVr1llnnSUSeuKJJy5evFiUetq7SFOQnXNnn3228mDV5V61alXlKCN71QHYUt83zWaahi5Ta6UnuLTwbPny5fK7nhYrXyr/u23btkoqmvxzYGBgqsSYdD4TowREpGdJa+3FF19slC6VFxp0AB4qR7zOPf86q7NKiV5abyt4gPayVQBW0xP1bKSYn0JMqX+nAYEOQGYlg3Ri6+AWF2uHz/TSChqXeuG686p0p9eaSsOUqcKKMcqCBbQTH0KWKm6X9tiC9ksr5AAg/6Xd7tJWd5U1T7T4+r3SAFqvh3ZHfTdp93RjzJIlS9SOVPpcyv2HDx/WDmHH+64sADjzzDNnzpwpHVd37twpYddZs2bJgrMsO3LkyO7du8W0dXd3L1y4UN9YsmvXrjzPRSbkJOi9P3DggAaZ6vX6GWec0dXVVRTF/PnzhXnT0odJ+asiWIg4e/Zs8QGzLDv99NNh1apVAjNpJ2JFi1KRTk9zFQ1yLH7WpDiXfqnA+SmviaD19/crLrZu3brJOwElH4n3pXwkkXoh/URgLlXWqQKVu8Yw+PSFHCkgN/H1JtWmne3I4DTelZWCpemrwFIUVFEzsffp4UPP3np4qlgefbGUOCLSKgzajfZSEVGhmQhwV5xVKZ7J0hCpJn9PVdOlb4CqFPpMz6uotHytsJvIuD5C27Zqs0AxNbVaTb6oNdBGi5LMJ+GSSY97KXUq3Z+FyzSwhIhOnFcR6fvvv//gwYOaV5MqyIluhEYiBCOfBhqhYTsdSpWr6J1FixYVRYGIc+fO3b59u0z1kUcekdoaY8zQ0NCePXtEzc2ePXvu3LnyEr/TTjtN8C9jTE9PT29vr1BheHh49+7dijHos5xzixYtSskkNB0dHd2+fbsQoaenB1avXj2pppg2xqDsnQKbaRbJRAgfxveOlL9Lly5VGRckMs0Ok3u3bt2qYpXmJQgmJQOed955qnTknRcw4S0olYwzVVvy3j+5bOnSpW7iy7umfaypvJFv0hdPTBVPrUTCK+9tCO0+WaqY5H9Tf3iqF+mJ3ql0R0yNTxpDqQAS6VSzLHOpIKgfMO2mrjLjZrMp8HGqCwTxkP44aRxfGgGmTo22OSmKQpD1sX4S1koSWnp4lKH0eo1Oaj9Z8dfSh6YaXU3ZxFWri9cC4yR7WWHfNCB4XMTSd44NDg6KWpUR+vv7G40GEY2MjKRd4NRLFt0k75xTQF2aTmqudXd394oVK4QEvb296ql3dXUtX75cFLz+Lnj/8uXLRX/19vZqw4aenp5ly5al4ShZsrSrm9g2uVarLVu2TDasv7///wMCmdZm6AM8jAAAAABJRU5ErkJggg==\"","import React from \"react\";\nimport PasswordInput from \"./../Forms/PasswordInput\";\nimport WalletDb from \"stores/WalletDb\";\nimport Translate from \"react-translate-component\";\nimport counterpart from \"counterpart\";\nimport {key} from \"bitsharesjs\";\n\nexport default class AccountPermissionsMigrate extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            validPassword: false,\n            pass: null,\n            generatedPassword:\n                \"P\" +\n                key\n                    .get_random_key()\n                    .toWif()\n                    .toString()\n        };\n    }\n\n    onSubmit() {}\n\n    onPasswordChange(e) {\n        let {valid} = e;\n        let name = this.props.account.get(\"name\");\n\n        const active = !valid\n            ? null\n            : WalletDb.generateKeyFromPassword(name, \"active\", e.value).pubKey;\n        const owner = !valid\n            ? null\n            : WalletDb.generateKeyFromPassword(name, \"owner\", e.value).pubKey;\n        const memo = !valid\n            ? null\n            : WalletDb.generateKeyFromPassword(name, \"memo\", e.value).pubKey;\n        this.setState({validPassword: e.valid, pass: e.value});\n        this.props.onSetPasswordKeys({active, owner, memo});\n    }\n\n    checkKeyUse(key, role) {\n        if (!key) return false;\n        if (role === \"memo\") {\n            return key === this.props.memoKey;\n        } else {\n            return this.props[`${role}Keys`].reduce((a, b) => {\n                return b === key || a;\n            }, false);\n        }\n    }\n\n    _onUseKey(role, remove = false) {\n        if (remove) {\n            this.props[role === \"active\" ? \"onRemoveActive\" : \"onRemoveOwner\"](\n                this.props[role],\n                \"_keys\"\n            );\n        } else if (this.props[role]) {\n            const weights = {\n                active: this.props.account.getIn([\n                    \"active\",\n                    \"weight_threshold\"\n                ]),\n                owner: this.props.account.getIn([\"owner\", \"weight_threshold\"])\n            };\n            console.log(\n                \"key\",\n                this.props[role],\n                \"weights\",\n                weights,\n                \"weight of role:\",\n                weights[role]\n            );\n            this.props[\n                role === \"active\"\n                    ? \"onAddActive\"\n                    : role === \"owner\"\n                        ? \"onAddOwner\"\n                        : \"onSetMemo\"\n            ](this.props[role], weights[role]);\n        }\n    }\n\n    render() {\n        let activeInUse = this.checkKeyUse(\n            this.props.active && this.props.active,\n            \"active\"\n        );\n        let ownerInUse = this.checkKeyUse(\n            this.props.owner && this.props.owner,\n            \"owner\"\n        );\n        let memoInUse = this.checkKeyUse(\n            this.props.memo && this.props.memo,\n            \"memo\"\n        );\n\n        let useText = counterpart.translate(\"account.perm.use_text\");\n        let removeText = counterpart.translate(\"account.perm.remove_text\");\n\n        return (\n            <div>\n                <p style={{maxWidth: \"800px\"}}>\n                    <Translate content=\"account.perm.password_model_1\" />\n                </p>\n\n                <p style={{maxWidth: \"800px\"}}>\n                    <Translate content=\"wallet.password_model_1\" />\n                </p>\n                <p style={{maxWidth: \"800px\"}}>\n                    <Translate unsafe content=\"wallet.password_model_2\" />\n                </p>\n\n                <div className=\"divider\" />\n\n                <form\n                    style={{maxWidth: \"40rem\"}}\n                    onSubmit={this.onSubmit.bind(this)}\n                    noValidate\n                >\n                    <label className=\"left-label\">\n                        <Translate content=\"wallet.generated\" />\n                    </label>\n                    <p>{this.state.generatedPassword}</p>\n\n                    <p style={{fontWeight: \"bold\"}}>\n                        <Translate content=\"account.perm.password_model_2\" />\n                    </p>\n\n                    <PasswordInput\n                        ref=\"password\"\n                        confirmation={true}\n                        onChange={this.onPasswordChange.bind(this)}\n                        noLabel\n                        passwordLength={12}\n                        checkStrength\n                    />\n                </form>\n\n                <table className=\"table\">\n                    <tbody>\n                        <tr className={activeInUse ? \"in-use\" : \"\"}>\n                            <td>\n                                <Translate content=\"account.perm.new_active\" />:\n                            </td>\n                            <td>{this.props.active}</td>\n                            <td className=\"text-right\">\n                                <div\n                                    className=\"button\"\n                                    onClick={this._onUseKey.bind(\n                                        this,\n                                        \"active\",\n                                        activeInUse\n                                    )}\n                                >\n                                    {activeInUse ? removeText : useText}\n                                </div>\n                            </td>\n                        </tr>\n                        <tr className={ownerInUse ? \"in-use\" : \"\"}>\n                            <td>\n                                <Translate content=\"account.perm.new_owner\" />:\n                            </td>\n                            <td>{this.props.owner}</td>\n                            <td className=\"text-right\">\n                                <div\n                                    className=\"button\"\n                                    onClick={this._onUseKey.bind(\n                                        this,\n                                        \"owner\",\n                                        ownerInUse\n                                    )}\n                                >\n                                    {ownerInUse ? removeText : useText}\n                                </div>\n                            </td>\n                        </tr>\n                        <tr className={memoInUse ? \"in-use\" : \"\"}>\n                            <td>\n                                <Translate content=\"account.perm.new_memo\" />:\n                            </td>\n                            <td>{this.props.memo}</td>\n                            <td className=\"text-right\">\n                                <div\n                                    className=\"button\"\n                                    style={{\n                                        visibility: memoInUse ? \"hidden\" : \"\"\n                                    }}\n                                    onClick={this._onUseKey.bind(\n                                        this,\n                                        \"memo\",\n                                        memoInUse\n                                    )}\n                                >\n                                    {useText}\n                                </div>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n\n                {memoInUse ? (\n                    <p\n                        style={{maxWidth: \"800px\", paddingTop: 10}}\n                        className=\"has-error\"\n                    >\n                        <Translate content=\"account.perm.memo_warning\" />\n                    </p>\n                ) : null}\n            </div>\n        );\n    }\n}\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport Translate from \"react-translate-component\";\nimport PrivateKeyView from \"components/PrivateKeyView\";\nimport {PublicKey} from \"bitsharesjs\";\nimport Icon from \"../Icon/Icon\";\nimport PrivateKeyStore from \"stores/PrivateKeyStore\";\nimport PropTypes from \"prop-types\";\n\n/**\n * @brief Allows the user to enter a public key\n */\n\nclass PubKeyInput extends React.Component {\n    static propTypes = {\n        label: PropTypes.string.isRequired, // a translation key for the label\n        value: PropTypes.string, // current value\n        error: PropTypes.string, // the error message override\n        placeholder: PropTypes.string, // the placeholder text to be displayed when there is no user_input\n        onChange: PropTypes.func, // a method to be called any time user input changes\n        onAction: PropTypes.func, // a method called when Add button is clicked\n        tabIndex: PropTypes.number, // tabindex property to be passed to input tag\n        disableActionButton: PropTypes.bool // use it if you need to disable action button\n    };\n\n    constructor(props) {\n        super(props);\n    }\n\n    isValidPubKey(value) {\n        return !!PublicKey.fromPublicKeyString(value);\n    }\n\n    onInputChanged(event) {\n        let value = event.target.value.trim();\n        this.props.onChange(value);\n    }\n\n    onKeyDown(event) {\n        if (event.keyCode === 13) this.onAction(event);\n    }\n\n    onAction(event) {\n        event.preventDefault();\n        if (\n            this.props.onAction &&\n            this.state.valid &&\n            !this.props.disableActionButton\n        ) {\n            this.props.onAction(event);\n        }\n    }\n\n    render() {\n        let error = this.props.error;\n        if (!error && this.props.value && !this.isValidPubKey(this.props.value))\n            error = \"Not a valid public key\";\n        let action_class = classnames(\"button\", {\n            disabled: error || this.props.disableActionButton\n        });\n        const keys = PrivateKeyStore.getState().keys;\n        const has_private =\n            this.isValidPubKey(this.props.value) && keys.has(this.props.value);\n\n        return (\n            <div className=\"pubkey-input no-overflow\">\n                <div className=\"content-area\">\n                    <div className=\"header-area\">\n                        {!error &&\n                        this.props.value &&\n                        this.isValidPubKey(this.props.value) ? (\n                            <label className=\"right-label\">\n                                <Translate content=\"account.perm.valid_pub\" />\n                            </label>\n                        ) : null}\n                        <Translate\n                            className=\"left-label\"\n                            component=\"label\"\n                            content={this.props.label}\n                        />\n                    </div>\n                    <div className=\"input-area\">\n                        <span className=\"inline-label\">\n                            <div className=\"account-image\">\n                                <PrivateKeyView pubkey={this.props.value}>\n                                    <Icon\n                                        name=\"key\"\n                                        title=\"icons.key\"\n                                        size=\"4x\"\n                                    />\n                                </PrivateKeyView>\n                            </div>\n                            <input\n                                type=\"text\"\n                                className={has_private ? \"my-key\" : \"\"}\n                                value={this.props.value}\n                                placeholder={\n                                    this.props.placeholder ||\n                                    counterpart.translate(\"account.public_key\")\n                                }\n                                ref=\"user_input\"\n                                onChange={this.onInputChanged.bind(this)}\n                                onKeyDown={this.onKeyDown.bind(this)}\n                                tabIndex={this.props.tabIndex}\n                            />\n                            {this.props.onAction ? (\n                                <button\n                                    className={action_class}\n                                    onClick={this.onAction.bind(this)}\n                                >\n                                    <Translate\n                                        content={this.props.action_label}\n                                    />\n                                </button>\n                            ) : null}\n                        </span>\n                    </div>\n                    <div className=\"error-area has-error\">\n                        <span>{error}</span>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\nexport default PubKeyInput;\n","import React from \"react\";\nimport Translate from \"react-translate-component\";\nimport PubKeyInput from \"../Forms/PubKeyInput\";\nimport ChainTypes from \"../Utility/ChainTypes\";\nimport BindToChainState from \"../Utility/BindToChainState\";\nimport {Tabs, Tab} from \"../Utility/Tabs\";\nimport counterpart from \"counterpart\";\nimport SignedMessageAction from \"../../actions/SignedMessageAction\";\nimport SignedMessage from \"../Account/SignedMessage\";\n\n/** This component gives a user interface for signing and verifying messages with the bitShares memo key.\n *  It consists of two tabs:\n *    - Sign message tab (code prefix: tabSM)\n *    - Verify message tab (code prefix: tabVM)\n *\n *  See SignedMessageAction for details on message format.\n *\n *    @author Stefan Schiessl <stefan.schiessl@blockchainprojectsbv.com>\n */\nclass AccountSignedMessages extends React.Component {\n    static propTypes = {\n        account: ChainTypes.ChainAccount.isRequired\n    };\n\n    constructor(props) {\n        super(props);\n        // initialize state (do not use setState method!)\n        this.state = {\n            tabsm_memo_key: this.props.account.get(\"options\").get(\"memo_key\"),\n            tabsm_popup: \"\",\n            tabsm_message_text: \"\",\n            tabsm_message_signed: \"\",\n            tabvm_popup: \"\",\n            tabvm_message_signed: \"\",\n            tabvm_verified: null,\n            tabvm_message_signed_and_verified: null,\n            tabvm_flag_verifyonchange: false\n        };\n    }\n\n    /**\n     * Event when user pushes sign button. Memo message and meta will be signed and displayed\n     * in the bottom textarea\n     *\n     * @param event\n     */\n    _tabSMSignAction(event) {\n        event.preventDefault();\n\n        try {\n            // validate keys are still the same. Better: make public memokey field uneditable\n            let storedKey = this.props.account.get(\"options\").get(\"memo_key\");\n            if (this.state.tabsm_memo_key !== storedKey) {\n                throw Error(\n                    counterpart.translate(\"account.signedmessages.keymismatch\")\n                );\n            }\n\n            // there should be a message entered\n            if (this.state.tabsm_message_text) {\n                this._tabSMPopMessage(\n                    counterpart.translate(\"account.signedmessages.signing\"),\n                    0\n                );\n                SignedMessageAction.signMessage(\n                    this.props.account,\n                    this.state.tabsm_message_text\n                )\n                    .then(res => {\n                        this.setState({\n                            tabsm_message_signed: res,\n                            tabsm_popup: \"\" // clear loading message\n                        });\n                    })\n                    .catch(err => {\n                        this._tabSMPopMessage(err.message);\n                        this.setState({\n                            tabsm_message_signed: null\n                        });\n                    });\n            }\n        } catch (err) {\n            this._tabSMPopMessage(err.message);\n            this.setState({\n                tabsm_message_signed: null\n            });\n        }\n    }\n\n    _tabSMHandleChange(event) {\n        // event for textarea\n        this.setState({tabsm_message_text: event.target.value});\n    }\n\n    _tabSMHandleChangeKey(value) {\n        // event for textfield of public key\n        this.setState({tabsm_memo_key: value});\n    }\n\n    _tabSMCopyToClipBoard(event) {\n        // event when user clicks into the signed message textarea\n        if (event.target.value !== \"\") {\n            event.target.focus();\n            event.target.select();\n\n            try {\n                var successful = document.execCommand(\"copy\");\n                this._tabSMPopMessage(\n                    successful\n                        ? counterpart.translate(\n                              \"account.signedmessages.copysuccessful\"\n                          )\n                        : counterpart.translate(\n                              \"account.signedmessages.copyunsuccessful\"\n                          )\n                );\n            } catch (err) {\n                this._tabSMPopMessage(\n                    counterpart.translate(\n                        \"account.signedmessages.copyunsuccessful\"\n                    )\n                );\n            }\n        }\n    }\n\n    /**\n     * Displays an information to the user that disappears over time\n     *\n     * @param message\n     * @param timeout\n     */\n    _tabSMPopMessage(message, timeout = 3000) {\n        this.setState({\n            tabsm_popup: message\n        });\n\n        if (message !== \"\" && timeout > 0) {\n            setTimeout(() => {\n                this.setState({\n                    tabsm_popup: \"\"\n                });\n            }, timeout);\n        }\n    }\n\n    /**\n     * Event when the user tries to verify a message, either manual through the button or onChange of the textarea.\n     * The message is parsed and verified, the user gets the message restated in the bottom part of the site\n     *\n     * @param event\n     */\n    _tabVMAction(event) {\n        event.preventDefault();\n\n        // reset to unverified state\n        this.setState({\n            tabvm_message_signed_and_verified: null,\n            tabvm_verified: false\n        });\n\n        // attempt verifying\n        if (this.state.tabvm_message_signed) {\n            this._tabVMPopMessage(\n                counterpart.translate(\"account.signedmessages.verifying\"),\n                0\n            );\n\n            setTimeout(() => {\n                // do not block gui\n                try {\n                    let message_signed_and_verified = SignedMessageAction.verifyMemo(\n                        this.state.tabvm_message_signed\n                    );\n                    this.setState({\n                        tabvm_message_signed_and_verified: message_signed_and_verified,\n                        tabvm_verified: true,\n                        tabvm_popup: \"\" // clear verifying message\n                    });\n                } catch (err) {\n                    this._tabVMPopMessage(err.message);\n                    this.setState({\n                        tabvm_message_signed_and_verified: null,\n                        tabvm_verified: false\n                    });\n                }\n            }, 0);\n        }\n    }\n\n    _tabVMHandleChange(event) {\n        // onchange event of the input textarea\n        this.setState({\n            tabvm_message_signed: event.target.value,\n            tabvm_verified: false,\n            tabvm_message_signed_and_verified: null\n        });\n        if (this.state.tabvm_flag_verifyonchange) {\n            this._tabVMAction(event);\n        }\n    }\n\n    /**\n     * Displays an information to the user that disappears over time\n     *\n     * @param message\n     * @param timeout\n     */\n    _tabVMPopMessage(message, timeout = 3000) {\n        this.setState({\n            tabvm_popup: message\n        });\n\n        if (message !== \"\" && timeout > 0) {\n            setTimeout(() => {\n                this.setState({\n                    tabvm_popup: \"\"\n                });\n            }, timeout);\n        }\n    }\n\n    _tabVMToggleVerifyOnChange() {\n        // event when the user enables / disables verifying while typing\n        this.setState({\n            tabvm_flag_verifyonchange: !this.state.tabvm_flag_verifyonchange\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"grid-content app-tables no-padding\" ref=\"appTables\">\n                <div className=\"content-block small-12\">\n                    <div className=\"tabs-container generic-bordered-box\">\n                        <Tabs\n                            className=\"account-tabs\"\n                            tabsClass=\"account-overview no-padding bordered-header content-block\"\n                            setting=\"accountSignedMessagesTab\"\n                            contentClass=\"grid-content shrink small-vertical medium-horizontal padding\"\n                            segmented={false}\n                        >\n                            <Tab title=\"account.signedmessages.signmessage\">\n                                <div\n                                    className=\"grid-content\"\n                                    style={{overflowX: \"hidden\"}}\n                                >\n                                    <div className=\"content-block no-margin\">\n                                        <h3>\n                                            <Translate content=\"account.signedmessages.signmessage\" />\n                                        </h3>\n                                    </div>\n                                    <PubKeyInput\n                                        ref=\"memo_key\"\n                                        value={this.state.tabsm_memo_key}\n                                        label=\"account.perm.memo_public_key\"\n                                        placeholder=\"Public Key\"\n                                        tabIndex={7}\n                                        onChange={this._tabSMHandleChangeKey.bind(\n                                            this\n                                        )}\n                                        disableActionButton={true}\n                                    />\n                                    <br />\n                                    <textarea\n                                        rows=\"10\"\n                                        value={this.state.tabsm_message_text}\n                                        onChange={this._tabSMHandleChange.bind(\n                                            this\n                                        )}\n                                        placeholder={counterpart.translate(\n                                            \"account.signedmessages.entermessage\"\n                                        )}\n                                    />\n                                    <span>\n                                        <button\n                                            className=\"button\"\n                                            onClick={this._tabSMSignAction.bind(\n                                                this\n                                            )}\n                                        >\n                                            <Translate content=\"account.signedmessages.sign\" />\n                                        </button>\n                                        <div style={{color: \"gray\"}}>\n                                            {this.state.tabsm_popup}\n                                        </div>\n                                    </span>\n                                    <br />\n                                    <br />\n                                    <textarea\n                                        rows=\"14\"\n                                        value={this.state.tabsm_message_signed}\n                                        style={{editable: false}}\n                                        placeholder={counterpart.translate(\n                                            \"account.signedmessages.automaticcreation\"\n                                        )}\n                                        onClick={this._tabSMCopyToClipBoard.bind(\n                                            this\n                                        )}\n                                    />\n                                </div>\n                            </Tab>\n\n                            <Tab title=\"account.signedmessages.verifymessage\">\n                                <div\n                                    className=\"grid-content\"\n                                    style={{overflowX: \"hidden\"}}\n                                >\n                                    <div className=\"content-block no-margin\">\n                                        <h3>\n                                            <Translate content=\"account.signedmessages.verifymessage\" />\n                                        </h3>\n                                        <div\n                                            style={{\n                                                float: \"right\",\n                                                marginTop: \"0.1em\",\n                                                marginBottom: \"0.5em\"\n                                            }}\n                                        >\n                                            <table>\n                                                <tr>\n                                                    <td>\n                                                        <label>\n                                                            <Translate content=\"account.signedmessages.verifyonchange\" />\n                                                        </label>\n                                                    </td>\n                                                    <td>\n                                                        <div\n                                                            className=\"switch\"\n                                                            onClick={this._tabVMToggleVerifyOnChange.bind(\n                                                                this\n                                                            )}\n                                                        >\n                                                            <input\n                                                                type=\"checkbox\"\n                                                                checked={\n                                                                    this.state\n                                                                        .tabvm_flag_verifyonchange\n                                                                }\n                                                                value={counterpart.translate(\n                                                                    \"account.signedmessages.verifyonchange\"\n                                                                )}\n                                                            />\n                                                            <label />\n                                                        </div>\n                                                    </td>\n                                                </tr>\n                                            </table>\n                                        </div>\n                                    </div>\n                                    <textarea\n                                        rows=\"10\"\n                                        value={this.state.tabvm_message_signed}\n                                        onChange={this._tabVMHandleChange.bind(\n                                            this\n                                        )}\n                                        placeholder={counterpart.translate(\n                                            \"account.signedmessages.entermessage\"\n                                        )}\n                                    />\n                                    <span>\n                                        <button\n                                            className=\"button\"\n                                            onClick={this._tabVMAction.bind(\n                                                this\n                                            )}\n                                        >\n                                            <Translate content=\"account.signedmessages.verify\" />\n                                        </button>\n                                        <text style={{color: \"gray\"}}>\n                                            {this.state.tabvm_popup}\n                                        </text>\n                                        {this.state.tabvm_verified !== null && (\n                                            <div style={{float: \"right\"}}>\n                                                Message is:\n                                                <div\n                                                    style={{\n                                                        backgroundColor: this\n                                                            .state\n                                                            .tabvm_verified\n                                                            ? \"green\"\n                                                            : \"red\"\n                                                    }}\n                                                >\n                                                    <label>\n                                                        {this.state\n                                                            .tabvm_verified\n                                                            ? \"verified\"\n                                                            : \"not verified\"}\n                                                    </label>\n                                                </div>\n                                            </div>\n                                        )}\n                                        {((this.state.tabvm_verified &&\n                                            this.state\n                                                .tabvm_message_signed_and_verified !==\n                                                null) ||\n                                            this.state\n                                                .tabvm_flag_verifyonchange) && (\n                                            <div>\n                                                <br />\n                                                <SignedMessage\n                                                    message={\n                                                        this.state\n                                                            .tabvm_message_signed\n                                                    }\n                                                />\n                                            </div>\n                                        )}\n                                    </span>\n                                </div>\n                            </Tab>\n                        </Tabs>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\nAccountSignedMessages = BindToChainState(AccountSignedMessages);\n\nexport default AccountSignedMessages;\n","import alt from \"alt-instance\";\nimport counterpart from \"counterpart\";\nimport {Signature, ChainStore, PublicKey} from \"bitsharesjs\";\nimport WalletUnlockActions from \"actions/WalletUnlockActions\";\nimport WalletDb from \"stores/WalletDb\";\n\nconst MSG_HEAD = \"-----BEGIN BITSHARES SIGNED MESSAGE-----\";\nconst MSG_META = \"-----BEGIN META-----\";\nconst MSG_SIGNATURE = \"-----BEGIN SIGNATURE-----\";\nconst MSG_FOOT = \"-----END BITSHARES SIGNED MESSAGE-----\";\nconst MSG_SENDER = \"account\";\nconst MSG_PUBLICKEY = \"memokey\";\nconst MSG_BLOCK = \"block\";\nconst MSG_DATE = \"timestamp\";\n\n/** This action provides following functionalities:\n *    - Sign a message\n *    - Verify a given message\n *\n *  The message format that is underlying is as follows:\n *  -----BEGIN BITSHARES SIGNED MESSAGE-----\n *  <message from the account>\n *  -----BEGIN META-----\n *  account=<account name>\n *  memokey=<account memo public key>\n *  block=<last irreversible block>\n *  timestamp=<current time>\n *  -----BEGIN SIGNATURE-----\n *  <signature>\n *  -----END BITSHARES SIGNED MESSAGE-----\n *\n *    @author Stefan Schiessl <stefan.schiessl@blockchainprojectsbv.com>\n */\nclass SignedMessageAction {\n    /**\n     * Parses the given raw string to a processing friendly dictionary\n     *\n     * @param message Message as raw string, properly formatted with head/meta/signature/footer\n     *\n     * @returns {*} parsed message as dictionary with the following fields:\n     *              content : User message of the message\n     *              meta : Dictionary with the meta data\n     *                      account : Account name of the signer\n     *                      key : Memo public key of the signer\n     *                      block : Current last irreversible block of the bitShares blockchain\n     *                      timestamp : Time the message was signed in UTC format\n     *              signed : Seperate string that contains all data that will be signed (content + meta)\n     *              signature : Signature of the signed data\n     */\n    parseMessage(message) {\n        let messageContent, messageMeta, messageSignature, messageSignedContent;\n        try {\n            // cut the sections\n            messageContent = message.split(MSG_HEAD)[1]; // everything before the head is ignored\n            messageMeta = messageContent.split(MSG_META);\n            messageContent = messageMeta[0].replace(/^\\n|\\n$/g, \"\");\n            messageSignature = messageMeta[1].split(MSG_SIGNATURE);\n            messageMeta = messageSignature[0].trim();\n            messageSignature = messageSignature[1].split(MSG_FOOT)[0].trim(); // everything after footer is ignored\n\n            // how the signed content it built is crucial, consider encapsulating\n            messageSignedContent = messageContent + \"\\n\" + messageMeta;\n        } catch (err) {\n            throw new Error(\n                counterpart.translate(\"account.signedmessages.invalidformat\")\n            );\n        }\n\n        let messageMetaAccount,\n            messageMetaKey,\n            messageMetaBlock,\n            messageMetaTimestamp;\n        if (messageMeta) {\n            try {\n                // process meta\n                // ... sender\n                messageMetaAccount = messageMeta.split(MSG_SENDER + \"=\");\n                messageMetaAccount = messageMetaAccount[1]\n                    .split(\"\\n\")[0]\n                    .trim();\n\n                // ... and its public key\n                messageMetaKey = messageMeta.split(MSG_PUBLICKEY + \"=\");\n                messageMetaKey = messageMetaKey[1].split(\"\\n\")[0].trim();\n\n                // ... block number\n                messageMetaBlock = messageMeta.split(MSG_BLOCK + \"=\");\n                messageMetaBlock = messageMetaBlock[1].split(\"\\n\")[0].trim();\n\n                // ... time stamp\n                messageMetaTimestamp = messageMeta.split(MSG_DATE + \"=\");\n                messageMetaTimestamp = messageMetaTimestamp[1]\n                    .split(\"\\n\")[0]\n                    .trim();\n            } catch (err) {\n                throw new Error(\n                    counterpart.translate(\n                        \"account.signedmessages.invalidformat\"\n                    )\n                );\n            }\n        }\n\n        return {\n            content: messageContent,\n            meta: {\n                account: messageMetaAccount,\n                key: messageMetaKey,\n                block: messageMetaBlock,\n                timestamp: messageMetaTimestamp\n            },\n            signed: messageSignedContent,\n            signature: messageSignature\n        };\n    }\n\n    /**\n     * The given string message is parsed and then its signature verified. A positive verification return the parsed\n     * message, anything else throws an exeption.\n     *\n     * @param message Message as raw string, properly formatted with head/meta/signature/footer, or already parsed message\n     *\n     * @returns parsed message, see parseMessage\n     */\n    verifyMemo(message) {\n        let message_signed;\n        if (typeof message === \"string\" || message instanceof String) {\n            message_signed = this.parseMessage(message);\n        } else {\n            // assume its a dictionary\n            message_signed = message;\n        }\n\n        // validate account and key\n        let storedAccount = ChainStore.getAccount(message_signed.meta.account);\n        if (storedAccount == null) {\n            throw new Error(\n                counterpart.translate(\"account.signedmessages.invaliduser\")\n            );\n        }\n\n        // verify message signed\n        let verified = false;\n        try {\n            verified = Signature.fromHex(message_signed.signature).verifyBuffer(\n                message_signed.signed,\n                PublicKey.fromPublicKeyString(message_signed.meta.key)\n            );\n        } catch (err) {\n            // wrap message that could be raised from Signature\n            throw new Error(\n                counterpart.translate(\"account.signedmessages.errorverifying\")\n            );\n        }\n        if (!verified) {\n            throw new Error(\n                counterpart.translate(\"account.signedmessages.invalidsignature\")\n            );\n        }\n        return message_signed;\n    }\n\n    /**\n     * Given an account and the message text\n     * @param account Account that writes the message\n     * @param messageText String text of the message\n     * @returns {Promise}\n     */\n    signMessage(account, messageText) {\n        return new Promise((resolve, reject) => {\n            // make sure wallet is unlocked (we need private key)\n            WalletUnlockActions.unlock()\n                .then(() => {\n                    try {\n                        // obtain all necessary keys\n                        let memo_from_public = account\n                            .get(\"options\")\n                            .get(\"memo_key\");\n                        // The 1s are base58 for all zeros (null)\n                        if (/111111111111111111111/.test(memo_from_public)) {\n                            memo_from_public = null;\n                        }\n                        let memo_from_privkey;\n                        if (messageText && memo_from_public) {\n                            memo_from_privkey = WalletDb.getPrivateKey(\n                                memo_from_public\n                            );\n                            if (!memo_from_privkey) {\n                                throw new Error(\n                                    counterpart.translate(\n                                        \"account.signedmessages.invalidkey\"\n                                    )\n                                );\n                            }\n                        }\n                        // get other meta data\n                        let irr_block = ChainStore.getObject(\"2.1.0\").get(\n                            \"last_irreversible_block_num\"\n                        );\n                        let now = new Date();\n\n                        let meta =\n                            MSG_SENDER +\n                            \"=\" +\n                            account.get(\"name\") +\n                            \"\\n\" +\n                            MSG_PUBLICKEY +\n                            \"=\" +\n                            memo_from_public +\n                            \"\\n\" +\n                            MSG_BLOCK +\n                            \"=\" +\n                            irr_block +\n                            \"\\n\" +\n                            MSG_DATE +\n                            \"=\" +\n                            now.toUTCString();\n\n                        let messageContentToBeSigned =\n                            messageText + \"\\n\" + meta;\n\n                        setTimeout(() => {\n                            // do not block gui\n                            try {\n                                let memo_signature = Signature.signBuffer(\n                                    messageContentToBeSigned,\n                                    memo_from_privkey,\n                                    memo_from_public\n                                );\n                                let memo_formatted =\n                                    MSG_HEAD +\n                                    \"\\n\" +\n                                    messageText +\n                                    \"\\n\" +\n                                    MSG_META +\n                                    \"\\n\" +\n                                    meta +\n                                    \"\\n\" +\n                                    MSG_SIGNATURE +\n                                    \"\\n\" +\n                                    memo_signature.toHex() +\n                                    \"\\n\" +\n                                    MSG_FOOT;\n                                resolve(memo_formatted);\n                            } catch (err) {\n                                reject(err);\n                            }\n                        }, 0);\n                    } catch (err) {\n                        reject(err);\n                    }\n                })\n                .catch(res => {\n                    reject(res);\n                });\n        });\n    }\n}\n\nexport default alt.createActions(SignedMessageAction);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Translate from \"react-translate-component\";\nimport counterpart from \"counterpart\";\nimport SignedMessageAction from \"../../actions/SignedMessageAction\";\n\n/** This component allows to display and verify a signed message\n *\n *  See SignedMessageAction for details on message format.\n *\n *    @author Stefan Schiessl <stefan.schiessl@blockchainprojectsbv.com>\n */\nclass SignedMessage extends React.Component {\n    // static propTypes = {\n    //     signedMessage: PropTypes.string.isRequired\n    //    noVerification\n    // };\n\n    static defaultProps = {\n        noVerification: false\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            message: this.props.message,\n            messageParsed: null,\n            showRawMessage: false,\n            //\n            noVerification: this.props.noVerification,\n            //\n            verified: null,\n            //\n            notification: null\n        };\n    }\n\n    _verifyMessage(signedMessage) {\n        this.setState({\n            message: signedMessage,\n            messageParsed: null,\n            verified: null\n        });\n        let messageParsed = null;\n        try {\n            messageParsed = SignedMessageAction.parseMessage(signedMessage);\n            this.setState({\n                verified: null,\n                messageParsed: messageParsed\n            });\n\n            if (!this.state.noVerification) {\n                this.setState({\n                    verified: null,\n                    notification: counterpart.translate(\n                        \"account.signedmessages.verifying\"\n                    )\n                });\n                setTimeout(() => {\n                    // do not block gui\n                    try {\n                        SignedMessageAction.verifyMemo(messageParsed);\n                        this.setState({\n                            verified: true,\n                            notification: \"\" // clear popup\n                        });\n                    } catch (err) {\n                        this._warning(err.message);\n                        this.setState({\n                            verified: false\n                        });\n                    }\n                }, 0);\n            }\n        } catch (err) {\n            this._warning(err.message);\n        }\n    }\n\n    componentWillMount() {\n        this._verifyMessage(this.state.message);\n    }\n\n    componentWillReceiveProps(nextProps) {\n        let signedMessage = nextProps.message;\n        if (\n            signedMessage != undefined &&\n            signedMessage != null &&\n            signedMessage == this.state.message\n        ) {\n            // already done\n            return;\n        }\n        this._verifyMessage(signedMessage);\n    }\n\n    _warning(message) {\n        this.setState({\n            notification: message\n        });\n    }\n\n    _toggleRawMessage() {\n        this.setState({\n            showRawMessage: !this.state.showRawMessage\n        });\n    }\n\n    render() {\n        let legendMessage;\n        let borderColor;\n        if (this.state.messageParsed != null) {\n            if (this.state.verified == null) {\n                borderColor = \"#FFF\";\n                legendMessage =\n                    \"Unverified message from \" +\n                    this.state.messageParsed.meta.account;\n            } else if (this.state.verified) {\n                borderColor = \"#FFF\";\n                legendMessage =\n                    \"Verified message from \" +\n                    this.state.messageParsed.meta.account;\n            } else {\n                borderColor = \"#F00\";\n                legendMessage =\n                    \"Refuted message, indicated sender \" +\n                    this.state.messageParsed.meta.account;\n            }\n        }\n        let messageGiven =\n            this.props.message != null && this.props.message != \"\";\n        let notificationGiven =\n            this.state.notification && this.state.notification != \"\";\n        return (\n            <div style={{color: \"gray\", margin: \"10px 10px\"}}>\n                {this.state.messageParsed != null && (\n                    <fieldset style={{borderColor: borderColor}}>\n                        <legend style={{color: \"white\", weight: \"bold\"}}>\n                            {legendMessage}\n                        </legend>\n                        <pre\n                            style={{\n                                position: \"relative\",\n                                width: \"100%\",\n                                display: \"table\"\n                            }}\n                        >\n                            {this.state.messageParsed.content}\n                            {notificationGiven && (\n                                <div\n                                    style={{\n                                        textAlign: \"center\",\n                                        display: \"table-cell\",\n                                        verticalAlign: \"middle\",\n                                        position: \"absolute\",\n                                        width: \"calc(100% - 30px)\",\n                                        height: \"calc(100% + 15px)\",\n                                        top: \"0px\",\n                                        right: \"30px\",\n                                        backgroundColor: \"rgba(50,50,50,0.5)\"\n                                    }}\n                                    id=\"overlay\"\n                                >\n                                    {this.state.notification}\n                                </div>\n                            )}\n                        </pre>\n                        <span\n                            style={{\n                                fontSize: \"small\",\n                                float: \"right\"\n                            }}\n                        >\n                            Signed on {this.state.messageParsed.meta.timestamp}{\" \"}\n                            &nbsp;\n                            <button\n                                className=\"button\"\n                                type=\"button\"\n                                style={{\n                                    fontSize: \"small\",\n                                    float: \"right\",\n                                    padding: \"0px 0px\",\n                                    background: \"#777\"\n                                }}\n                                onClick={this._toggleRawMessage.bind(this)}\n                            >\n                                &#x1f50d;\n                            </button>\n                        </span>\n                        {this.state.showRawMessage && <br />}\n                        {this.state.showRawMessage && <br />}\n                        {this.state.showRawMessage && (\n                            <div\n                                style={{\n                                    overflow: \"auto\",\n                                    width: \"calc(100%)\",\n                                    maxWidth: \"1000px\"\n                                }}\n                            >\n                                <pre>{this.state.message}</pre>\n                            </div>\n                        )}\n                    </fieldset>\n                )}\n                {messageGiven &&\n                    this.state.messageParsed == null && (\n                        <fieldset style={{borderColor: \"#F00\"}}>\n                            <legend\n                                style={{color: \"red\", weight: \"bold\"}}\n                                className=\"error\"\n                            >\n                                Error while parsing message, please check syntax\n                                from message below\n                            </legend>\n                            <pre>{this.props.message}</pre>\n                        </fieldset>\n                    )}\n            </div>\n        );\n    }\n}\n\nexport default SignedMessage;\n","import React from \"react\";\nimport {Tabs, Tab} from \"../Utility/Tabs\";\nimport constants from \"chain/account_constants.js\";\nimport AccountSelector from \"../Account/AccountSelector\";\nimport Immutable from \"immutable\";\nimport Translate from \"react-translate-component\";\nimport ChainTypes from \"../Utility/ChainTypes\";\nimport BindToChainState from \"../Utility/BindToChainState\";\nimport LinkToAccountById from \"../Utility/LinkToAccountById\";\nimport WalletApi from \"api/WalletApi\";\nimport WalletDb from \"stores/WalletDb.js\";\n\nclass AccountRow extends React.Component {\n    static propTypes = {\n        account: ChainTypes.ChainAccount.isRequired\n    };\n\n    static defaultProps = {\n        tempComponent: \"tr\"\n    };\n\n    render() {\n        let {account, onRemove} = this.props;\n\n        return (\n            <tr>\n                <td>{this.props.index}</td>\n                <td>{account.get(\"id\")}</td>\n                <td>\n                    <LinkToAccountById account={account.get(\"id\")} />\n                </td>\n                {onRemove ? (\n                    <td>\n                        <button\n                            onClick={onRemove.bind(this, account.get(\"id\"))}\n                            className=\"button outline\"\n                        >\n                            Remove\n                        </button>\n                    </td>\n                ) : null}\n            </tr>\n        );\n    }\n}\nAccountRow = BindToChainState(AccountRow);\n\nclass AccountList extends React.Component {\n    _onRemove(listing, account, e) {\n        if (account) {\n            let currentState = this.props.getCurrentState(account);\n            let tr = WalletApi.new_transaction();\n            tr.add_type_operation(\"account_whitelist\", {\n                fee: {\n                    amount: 0,\n                    asset_id: \"1.3.0\"\n                },\n                authorizing_account: this.props.account.get(\"id\"),\n                account_to_list: account,\n                new_listing: currentState - constants.account_listing[listing]\n            });\n            WalletDb.process_transaction(tr, null, true);\n        }\n    }\n\n    render() {\n        let {removeButton, white, list} = this.props;\n\n        let rows = list\n            .map((account, index) => {\n                return (\n                    <AccountRow\n                        key={account}\n                        onRemove={\n                            removeButton\n                                ? this._onRemove.bind(\n                                      this,\n                                      white ? \"white_listed\" : \"black_listed\"\n                                  )\n                                : null\n                        }\n                        account={account}\n                        index={index + 1}\n                    />\n                );\n            })\n            .toArray();\n\n        let showHeaders = true;\n        if (!rows.length) {\n            showHeaders = false;\n            rows.push(\n                <tr key=\"empty\">\n                    <td\n                        style={{padding: \"1rem 0\"}}\n                        colSpan={removeButton ? 4 : 3}\n                    >\n                        <Translate\n                            content={this.props.emptyText}\n                            account={this.props.account.get(\"name\")}\n                        />\n                    </td>\n                </tr>\n            );\n        }\n\n        return (\n            <table className=\"table compact dashboard-table\">\n                {showHeaders ? (\n                    <thead>\n                        <tr>\n                            <th>#</th>\n                            <th>\n                                <Translate content=\"account.id\" />\n                            </th>\n                            <th>\n                                <Translate content=\"account.name\" />\n                            </th>\n                            {removeButton ? <th /> : null}\n                        </tr>\n                    </thead>\n                ) : null}\n                <tbody>{rows}</tbody>\n            </table>\n        );\n    }\n}\n\nclass AccountWhitelist extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            accountName: \"\",\n            accountToList: null\n        };\n    }\n\n    _getCurrentState(id) {\n        let {account} = this.props;\n        let white = account.get(\"whitelisted_accounts\") || Immutable.List();\n        let black = account.get(\"blacklisted_accounts\") || Immutable.List();\n        let current = constants.account_listing.no_listing;\n\n        if (white.includes(id)) {\n            current += constants.account_listing.white_listed;\n        }\n\n        if (black.includes(id)) {\n            current += constants.account_listing.black_listed;\n        }\n\n        return current;\n    }\n\n    _onAdd(listing, e) {\n        let {accountToList} = this.state;\n        let {account} = this.props;\n\n        let currentState = this._getCurrentState(accountToList);\n\n        if (accountToList) {\n            let tr = WalletApi.new_transaction();\n            tr.add_type_operation(\"account_whitelist\", {\n                fee: {\n                    amount: 0,\n                    asset_id: \"1.3.0\"\n                },\n                authorizing_account: account.get(\"id\"),\n                account_to_list: accountToList,\n                new_listing: currentState + constants.account_listing[listing]\n            });\n            WalletDb.process_transaction(tr, null, true);\n        }\n    }\n\n    _onAccountFound(account) {\n        console.log(\"accountFound:\", account);\n        this.setState({\n            accountName: account ? account.get(\"name\") : null,\n            accountToList: account ? account.get(\"id\") : null\n        });\n    }\n\n    _onAccountChanged(account) {\n        console.log(\"account changed:\", account);\n        this.setState({\n            accountName: account,\n            accountToList: null\n        });\n    }\n\n    render() {\n        let {account} = this.props;\n        let {accountName} = this.state;\n\n        return (\n            <div className=\"grid-content app-tables no-padding\" ref=\"appTables\">\n                <div className=\"content-block small-12\">\n                    <div className=\"tabs-container generic-bordered-box\">\n                        <Tabs\n                            className=\"account-tabs\"\n                            tabsClass=\"account-overview no-padding bordered-header content-block\"\n                            setting=\"whitelistTab\"\n                            contentClass=\"grid-content shrink small-vertical medium-horizontal no-padding\"\n                            segmented={false}\n                        >\n                            <Tab title=\"account.whitelist.title\">\n                                <div\n                                    style={{paddingBottom: \"1rem\"}}\n                                    className=\"small-12\"\n                                >\n                                    <div>\n                                        <AccountList\n                                            emptyText=\"account.whitelist.empty\"\n                                            account={account}\n                                            getCurrentState={this._getCurrentState.bind(\n                                                this\n                                            )}\n                                            list={\n                                                account.get(\n                                                    \"whitelisted_accounts\"\n                                                ) || Immutable.List()\n                                            }\n                                            removeButton\n                                            white={true}\n                                        />\n                                    </div>\n                                    {!account.get(\"whitelisted_accounts\") ? (\n                                        <p className=\"has-error\">\n                                            Please note, whitelisting is not\n                                            working yet due to unresolved\n                                            backend issue.\n                                        </p>\n                                    ) : null}\n                                    <div style={{padding: \"2rem 0\"}}>\n                                        <AccountSelector\n                                            label={\"account.whitelist.add\"}\n                                            accountName={accountName}\n                                            onAccountChanged={this._onAccountFound.bind(\n                                                this\n                                            )}\n                                            onChange={this._onAccountChanged.bind(\n                                                this\n                                            )}\n                                            account={accountName}\n                                            tabIndex={2}\n                                            onAction={this._onAdd.bind(\n                                                this,\n                                                \"white_listed\"\n                                            )}\n                                            action_label=\"account.perm.confirm_add\"\n                                            white={false}\n                                            typeahead={true}\n                                        />\n                                    </div>\n                                </div>\n                            </Tab>\n\n                            <Tab title=\"account.whitelist.black\">\n                                <div\n                                    style={{paddingBottom: \"1rem\"}}\n                                    className=\"small-12\"\n                                >\n                                    <div>\n                                        <AccountList\n                                            emptyText=\"account.whitelist.empty_black\"\n                                            account={account}\n                                            getCurrentState={this._getCurrentState.bind(\n                                                this\n                                            )}\n                                            list={account.get(\n                                                \"blacklisted_accounts\"\n                                            )}\n                                            removeButton\n                                        />\n                                    </div>\n                                    <div style={{padding: \"2rem 1rem\"}}>\n                                        <AccountSelector\n                                            label={\n                                                \"account.whitelist.add_black\"\n                                            }\n                                            accountName={accountName}\n                                            onAccountChanged={this._onAccountFound.bind(\n                                                this\n                                            )}\n                                            onChange={this._onAccountChanged.bind(\n                                                this\n                                            )}\n                                            account={accountName}\n                                            tabIndex={2}\n                                            onAction={this._onAdd.bind(\n                                                this,\n                                                \"black_listed\"\n                                            )}\n                                            action_label=\"account.perm.confirm_add\"\n                                            typeahead={true}\n                                        />\n                                    </div>\n                                </div>\n                            </Tab>\n\n                            <Tab title=\"account.whitelist.white_by\">\n                                <div\n                                    style={{paddingBottom: \"1rem\"}}\n                                    className=\"small-12\"\n                                >\n                                    <div>\n                                        <AccountList\n                                            emptyText=\"account.whitelist.empty_white_by\"\n                                            account={account}\n                                            list={account.get(\n                                                \"whitelisting_accounts\"\n                                            )}\n                                        />\n                                    </div>\n                                </div>\n                            </Tab>\n\n                            <Tab title=\"account.whitelist.black_by\">\n                                <div\n                                    style={{paddingBottom: \"1rem\"}}\n                                    className=\"small-12\"\n                                >\n                                    <div>\n                                        <AccountList\n                                            emptyText=\"account.whitelist.empty_black_by\"\n                                            account={account}\n                                            list={account.get(\n                                                \"blacklisting_accounts\"\n                                            )}\n                                        />\n                                    </div>\n                                </div>\n                            </Tab>\n                        </Tabs>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default AccountWhitelist;\n","import React from \"react\";\nimport Immutable from \"immutable\";\nimport Translate from \"react-translate-component\";\nimport accountUtils from \"common/account_utils\";\nimport {ChainStore, FetchChainObjects} from \"bitsharesjs\";\nimport WorkerApproval from \"./WorkerApproval\";\nimport VotingAccountsList from \"./VotingAccountsList\";\nimport cnames from \"classnames\";\nimport {Tabs, Tab} from \"../Utility/Tabs\";\nimport BindToChainState from \"../Utility/BindToChainState\";\nimport ChainTypes from \"../Utility/ChainTypes\";\nimport {Link} from \"react-router-dom\";\nimport ApplicationApi from \"api/ApplicationApi\";\nimport AccountSelector from \"./AccountSelector\";\nimport Icon from \"../Icon/Icon\";\nimport AssetName from \"../Utility/AssetName\";\nimport counterpart from \"counterpart\";\nimport {EquivalentValueComponent} from \"../Utility/EquivalentValueComponent\";\nimport FormattedAsset from \"../Utility/FormattedAsset\";\nimport SettingsStore from \"stores/SettingsStore\";\n\nclass AccountVoting extends React.Component {\n    static propTypes = {\n        initialBudget: ChainTypes.ChainObject.isRequired,\n        globalObject: ChainTypes.ChainObject.isRequired,\n        proxy: ChainTypes.ChainAccount.isRequired\n    };\n\n    static defaultProps = {\n        globalObject: \"2.0.0\"\n    };\n\n    constructor(props) {\n        super(props);\n        const proxyId = props.proxy.get(\"id\");\n        const proxyName = props.proxy.get(\"name\");\n        this.state = {\n            proxy_account_id: proxyId === \"1.2.5\" ? \"\" : proxyId, //\"1.2.16\",\n            prev_proxy_account_id: proxyId === \"1.2.5\" ? \"\" : proxyId,\n            current_proxy_input: proxyId === \"1.2.5\" ? \"\" : proxyName,\n            witnesses: null,\n            committee: null,\n            vote_ids: Immutable.Set(),\n            proxy_vote_ids: Immutable.Set(),\n            lastBudgetObject: props.initialBudget.get(\"id\"),\n            workerTableIndex: props.viewSettings.get(\"workerTableIndex\", 1),\n            all_witnesses: Immutable.List(),\n            all_committee: Immutable.List()\n        };\n        this.onProxyAccountFound = this.onProxyAccountFound.bind(this);\n        this.onPublish = this.onPublish.bind(this);\n        this.onReset = this.onReset.bind(this);\n        this._getVoteObjects = this._getVoteObjects.bind(this);\n    }\n\n    componentWillMount() {\n        accountUtils.getFinalFeeAsset(this.props.account, \"account_update\");\n        ChainStore.fetchAllWorkers();\n        this.getBudgetObject();\n    }\n\n    componentDidMount() {\n        this.updateAccountData(this.props);\n        this._getVoteObjects();\n        this._getVoteObjects(\"committee\");\n    }\n\n    componentWillReceiveProps(np) {\n        if (np.account !== this.props.account) {\n            const proxyId = np.proxy.get(\"id\");\n            let newState = {\n                proxy_account_id: proxyId === \"1.2.5\" ? \"\" : proxyId\n            };\n            this.setState({prev_proxy_account_id: newState.proxy_account_id});\n            this.updateAccountData(np, newState);\n        }\n        this.getBudgetObject();\n    }\n\n    updateAccountData({account}, state = this.state) {\n        let {proxy_account_id} = state;\n        const proxy = ChainStore.getAccount(proxy_account_id);\n        let options = account.get(\"options\");\n        let proxyOptions = proxy ? proxy.get(\"options\") : null;\n        // let proxy_account_id = proxy ? proxy.get(\"id\") : \"1.2.5\";\n        let current_proxy_input = proxy ? proxy.get(\"name\") : \"\";\n        if (proxy_account_id === \"1.2.5\") {\n            proxy_account_id = \"\";\n            current_proxy_input = \"\";\n        }\n\n        let votes = options.get(\"votes\");\n        let vote_ids = votes.toArray();\n        let vids = Immutable.Set(vote_ids);\n        ChainStore.getObjectsByVoteIds(vote_ids);\n\n        let proxyPromise = null,\n            proxy_vids = Immutable.Set([]);\n        const hasProxy = proxy_account_id !== \"1.2.5\";\n        if (hasProxy && proxyOptions) {\n            let proxy_votes = proxyOptions.get(\"votes\");\n            let proxy_vote_ids = proxy_votes.toArray();\n            proxy_vids = Immutable.Set(proxy_vote_ids);\n            ChainStore.getObjectsByVoteIds(proxy_vote_ids);\n\n            proxyPromise = FetchChainObjects(\n                ChainStore.getObjectByVoteID,\n                proxy_vote_ids,\n                10000\n            );\n        }\n\n        Promise.all([\n            FetchChainObjects(ChainStore.getObjectByVoteID, vote_ids, 10000),\n            proxyPromise\n        ]).then(res => {\n            const [vote_objs, proxy_vote_objs] = res;\n            function sortVoteObjects(objects) {\n                let witnesses = new Immutable.List();\n                let committee = new Immutable.List();\n                let workers = new Immutable.Set();\n                objects.forEach(obj => {\n                    let account_id = obj.get(\"committee_member_account\");\n                    if (account_id) {\n                        committee = committee.push(account_id);\n                    } else if ((account_id = obj.get(\"worker_account\"))) {\n                        // console.log( \"worker: \", obj );\n                        //     workers = workers.add(obj.get(\"id\"));\n                    } else if ((account_id = obj.get(\"witness_account\"))) {\n                        witnesses = witnesses.push(account_id);\n                    }\n                });\n\n                return {witnesses, committee, workers};\n            }\n\n            let {witnesses, committee, workers} = sortVoteObjects(vote_objs);\n            let {\n                witnesses: proxy_witnesses,\n                committee: proxy_committee,\n                workers: proxy_workers\n            } = sortVoteObjects(proxy_vote_objs || []);\n            let state = {\n                proxy_account_id,\n                current_proxy_input,\n                witnesses: witnesses,\n                committee: committee,\n                workers: workers,\n                proxy_witnesses: proxy_witnesses,\n                proxy_committee: proxy_committee,\n                proxy_workers: proxy_workers,\n                vote_ids: vids,\n                proxy_vote_ids: proxy_vids,\n                prev_witnesses: witnesses,\n                prev_committee: committee,\n                prev_workers: workers,\n                prev_vote_ids: vids\n            };\n            this.setState(state);\n        });\n    }\n\n    isChanged(s = this.state) {\n        return (\n            s.proxy_account_id !== s.prev_proxy_account_id ||\n            s.witnesses !== s.prev_witnesses ||\n            s.committee !== s.prev_committee ||\n            !Immutable.is(s.vote_ids, s.prev_vote_ids)\n        );\n    }\n\n    _getVoteObjects(type = \"witnesses\", vote_ids) {\n        let current = this.state[`all_${type}`];\n        const isWitness = type === \"witnesses\";\n        let lastIdx;\n        if (!vote_ids) {\n            vote_ids = [];\n            let active = this.props.globalObject\n                .get(\n                    isWitness ? \"active_witnesses\" : \"active_committee_members\"\n                )\n                .sort((a, b) => {\n                    return (\n                        parseInt(a.split(\".\")[2], 10) -\n                        parseInt(b.split(\".\")[2], 10)\n                    );\n                });\n            const lastActive = active.last() || `1.${isWitness ? \"6\" : \"5\"}.1`;\n            lastIdx = parseInt(lastActive.split(\".\")[2], 10);\n            for (var i = 1; i <= lastIdx + 10; i++) {\n                vote_ids.push(`1.${isWitness ? \"6\" : \"5\"}.${i}`);\n            }\n        } else {\n            lastIdx = parseInt(vote_ids[vote_ids.length - 1].split(\".\")[2], 10);\n        }\n        FetchChainObjects(ChainStore.getObject, vote_ids, 5000, {}).then(\n            vote_objs => {\n                this.state[`all_${type}`] = current.concat(\n                    Immutable.List(\n                        vote_objs\n                            .filter(a => !!a)\n                            .map(a =>\n                                a.get(\n                                    isWitness\n                                        ? \"witness_account\"\n                                        : \"committee_member_account\"\n                                )\n                            )\n                    )\n                );\n                if (!!vote_objs[vote_objs.length - 1]) {\n                    // there are more valid vote objs, fetch 10 more\n                    vote_ids = [];\n                    for (var i = lastIdx + 11; i <= lastIdx + 20; i++) {\n                        vote_ids.push(`1.${isWitness ? \"6\" : \"5\"}.${i}`);\n                    }\n                    return this._getVoteObjects(type, vote_ids);\n                }\n                this.forceUpdate();\n            }\n        );\n    }\n\n    onPublish() {\n        let updated_account = this.props.account.toJS();\n        let updateObject = {account: updated_account.id};\n        let new_options = {memo_key: updated_account.options.memo_key};\n        // updated_account.new_options = updated_account.options;\n        let new_proxy_id = this.state.proxy_account_id;\n        new_options.voting_account = new_proxy_id ? new_proxy_id : \"1.2.5\";\n        new_options.num_witness = this.state.witnesses.size;\n        new_options.num_committee = this.state.committee.size;\n\n        updateObject.new_options = new_options;\n        // Set fee asset\n        updateObject.fee = {\n            amount: 0,\n            asset_id: accountUtils.getFinalFeeAsset(\n                updated_account.id,\n                \"account_update\"\n            )\n        };\n\n        // Remove votes for expired workers\n        let {vote_ids} = this.state;\n        let workers = this._getWorkerArray();\n        let now = new Date();\n\n        function removeVote(list, vote) {\n            if (list.includes(vote)) {\n                list = list.delete(vote);\n            }\n            return list;\n        }\n\n        workers.forEach(worker => {\n            if (worker) {\n                if (new Date(worker.get(\"work_end_date\")) <= now) {\n                    vote_ids = removeVote(vote_ids, worker.get(\"vote_for\"));\n                }\n\n                // TEMP Remove vote_against since they're no longer used\n                vote_ids = removeVote(vote_ids, worker.get(\"vote_against\"));\n            }\n        });\n\n        // Submit votes\n        FetchChainObjects(\n            ChainStore.getWitnessById,\n            this.state.witnesses.toArray(),\n            4000\n        )\n            .then(res => {\n                let witnesses_vote_ids = res.map(o => o.get(\"vote_id\"));\n                return Promise.all([\n                    Promise.resolve(witnesses_vote_ids),\n                    FetchChainObjects(\n                        ChainStore.getCommitteeMemberById,\n                        this.state.committee.toArray(),\n                        4000\n                    )\n                ]);\n            })\n            .then(res => {\n                updateObject.new_options.votes = res[0]\n                    .concat(res[1].map(o => o.get(\"vote_id\")))\n                    .concat(\n                        vote_ids\n                            .filter(id => {\n                                return id.split(\":\")[0] === \"2\";\n                            })\n                            .toArray()\n                    )\n                    .sort((a, b) => {\n                        let a_split = a.split(\":\");\n                        let b_split = b.split(\":\");\n\n                        return (\n                            parseInt(a_split[1], 10) - parseInt(b_split[1], 10)\n                        );\n                    });\n                ApplicationApi.updateAccount(updateObject);\n            });\n    }\n\n    onReset() {\n        let s = this.state;\n        if (\n            this.refs.voting_proxy &&\n            this.refs.voting_proxy.refs.bound_component\n        )\n            this.refs.voting_proxy.refs.bound_component.onResetProxy();\n        this.setState(\n            {\n                proxy_account_id: s.prev_proxy_account_id,\n                current_proxy_input: s.prev_proxy_input,\n                witnesses: s.prev_witnesses,\n                committee: s.prev_committee,\n                workers: s.prev_workers,\n                vote_ids: s.prev_vote_ids\n            },\n            () => {\n                this.updateAccountData(this.props);\n            }\n        );\n    }\n\n    onAddItem(collection, item_id) {\n        let state = {};\n        state[collection] = this.state[collection].push(item_id);\n        this.setState(state);\n    }\n\n    onRemoveItem(collection, item_id) {\n        let state = {};\n        state[collection] = this.state[collection].filter(i => i !== item_id);\n        this.setState(state);\n    }\n\n    onChangeVotes(addVotes, removeVotes) {\n        let state = {};\n        state.vote_ids = this.state.vote_ids;\n        if (addVotes.length) {\n            addVotes.forEach(vote => {\n                state.vote_ids = state.vote_ids.add(vote);\n            });\n        }\n        if (removeVotes) {\n            removeVotes.forEach(vote => {\n                state.vote_ids = state.vote_ids.delete(vote);\n            });\n        }\n\n        this.setState(state);\n    }\n\n    validateAccount(collection, account) {\n        if (!account) return null;\n        if (collection === \"witnesses\") {\n            return FetchChainObjects(\n                ChainStore.getWitnessById,\n                [account.get(\"id\")],\n                3000\n            ).then(res => {\n                return res[0] ? null : \"Not a witness\";\n            });\n        }\n        if (collection === \"committee\") {\n            return FetchChainObjects(\n                ChainStore.getCommitteeMemberById,\n                [account.get(\"id\")],\n                3000\n            ).then(res => {\n                return res[0] ? null : \"Not a committee member\";\n            });\n        }\n        return null;\n    }\n\n    onProxyChange(current_proxy_input) {\n        let proxyAccount = ChainStore.getAccount(current_proxy_input);\n        if (\n            !proxyAccount ||\n            (proxyAccount &&\n                proxyAccount.get(\"id\") !== this.state.proxy_account_id)\n        ) {\n            this.setState({\n                proxy_account_id: \"\",\n                proxy_witnesses: Immutable.Set(),\n                proxy_committee: Immutable.Set(),\n                proxy_workers: Immutable.Set()\n            });\n        }\n        this.setState({current_proxy_input});\n    }\n\n    onProxyAccountFound(proxy_account) {\n        this.setState(\n            {\n                proxy_account_id: proxy_account ? proxy_account.get(\"id\") : \"\"\n            },\n            () => {\n                this.updateAccountData(this.props);\n            }\n        );\n    }\n\n    onClearProxy() {\n        this.setState({\n            proxy_account_id: \"\"\n        });\n    }\n\n    _getTotalVotes(worker) {\n        return (\n            parseInt(worker.get(\"total_votes_for\"), 10) -\n            parseInt(worker.get(\"total_votes_against\"), 10)\n        );\n    }\n\n    getBudgetObject() {\n        let {lastBudgetObject} = this.state;\n        let budgetObject;\n        budgetObject = ChainStore.getObject(lastBudgetObject);\n        let idIndex = parseInt(lastBudgetObject.split(\".\")[2], 10);\n        if (budgetObject) {\n            let timestamp = budgetObject.get(\"time\");\n            if (!/Z$/.test(timestamp)) {\n                timestamp += \"Z\";\n            }\n            let now = new Date();\n\n            /* Use the last valid budget object to estimate the current budget object id.\n            ** Budget objects are created once per hour\n            */\n            let currentID =\n                idIndex +\n                Math.floor(\n                    (now - new Date(timestamp).getTime()) / 1000 / 60 / 60\n                ) -\n                1;\n            if (idIndex >= currentID) return;\n            let newID = \"2.13.\" + Math.max(idIndex, currentID);\n            let newIDInt = parseInt(newID.split(\".\")[2], 10);\n            FetchChainObjects(\n                ChainStore.getObject,\n                [newID],\n                undefined,\n                {}\n            ).then(res => {\n                let [lbo] = res;\n                if (lbo === null) {\n                    // The object does not exist, the id was too high\n                    this.setState(\n                        {lastBudgetObject: `2.13.${newIDInt - 1}`},\n                        this.getBudgetObject\n                    );\n                } else {\n                    SettingsStore.setLastBudgetObject(newID);\n\n                    this.setState({lastBudgetObject: newID});\n                }\n            });\n        } else {\n            // The object does not exist, decrement the ID\n            let newID = `2.13.${idIndex - 1}`;\n            FetchChainObjects(\n                ChainStore.getObject,\n                [newID],\n                undefined,\n                {}\n            ).then(res => {\n                let [lbo] = res;\n                if (lbo === null) {\n                    // The object does not exist, the id was too high\n                    this.setState(\n                        {lastBudgetObject: `2.13.${idIndex - 2}`},\n                        this.getBudgetObject\n                    );\n                } else {\n                    SettingsStore.setLastBudgetObject(newID);\n                    this.setState({lastBudgetObject: newID});\n                }\n            });\n        }\n    }\n\n    _getWorkerArray() {\n        let workerArray = [];\n\n        ChainStore.workers.forEach(workerId => {\n            let worker = ChainStore.getObject(workerId, false, false);\n            if (worker) workerArray.push(worker);\n        });\n\n        return workerArray;\n    }\n\n    _setWorkerTableIndex(index) {\n        this.setState({\n            workerTableIndex: index\n        });\n    }\n\n    render() {\n        let {workerTableIndex} = this.state;\n        let preferredUnit = this.props.settings.get(\"unit\") || \"1.3.0\";\n        let hasProxy = !!this.state.proxy_account_id; // this.props.account.getIn([\"options\", \"voting_account\"]) !== \"1.2.5\";\n        let publish_buttons_class = cnames(\"button\", {\n            disabled: !this.isChanged()\n        });\n        let {globalObject} = this.props;\n        let budgetObject;\n        if (this.state.lastBudgetObject) {\n            budgetObject = ChainStore.getObject(this.state.lastBudgetObject);\n        }\n\n        let totalBudget = 0;\n        // let unusedBudget = 0;\n        let workerBudget = globalObject\n            ? parseInt(\n                  globalObject.getIn([\"parameters\", \"worker_budget_per_day\"]),\n                  10\n              )\n            : 0;\n\n        if (budgetObject) {\n            workerBudget = Math.min(\n                24 * budgetObject.getIn([\"record\", \"worker_budget\"]),\n                workerBudget\n            );\n            totalBudget = Math.min(\n                24 * budgetObject.getIn([\"record\", \"worker_budget\"]),\n                workerBudget\n            );\n        }\n\n        let now = new Date();\n        let workerArray = this._getWorkerArray();\n\n        let voteThreshold = 0;\n        let workers = workerArray\n            .filter(a => {\n                if (!a) {\n                    return false;\n                }\n\n                return (\n                    new Date(a.get(\"work_end_date\") + \"Z\") > now &&\n                    new Date(a.get(\"work_begin_date\") + \"Z\") <= now\n                );\n            })\n            .sort((a, b) => {\n                return this._getTotalVotes(b) - this._getTotalVotes(a);\n            })\n            .map((worker, index) => {\n                let dailyPay = parseInt(worker.get(\"daily_pay\"), 10);\n                workerBudget = workerBudget - dailyPay;\n                let votes =\n                    worker.get(\"total_votes_for\") -\n                    worker.get(\"total_votes_against\");\n                if (workerBudget <= 0 && !voteThreshold) {\n                    voteThreshold = votes;\n                }\n\n                if (voteThreshold && votes < voteThreshold) return null;\n\n                return (\n                    <WorkerApproval\n                        preferredUnit={preferredUnit}\n                        rest={workerBudget + dailyPay}\n                        rank={index + 1}\n                        key={worker.get(\"id\")}\n                        worker={worker.get(\"id\")}\n                        vote_ids={\n                            this.state[hasProxy ? \"proxy_vote_ids\" : \"vote_ids\"]\n                        }\n                        onChangeVotes={this.onChangeVotes.bind(this)}\n                        proxy={hasProxy}\n                        voteThreshold={voteThreshold}\n                    />\n                );\n            })\n            .filter(a => !!a);\n\n        // unusedBudget = Math.max(0, workerBudget);\n\n        let newWorkers = workerArray\n            .filter(a => {\n                if (!a) {\n                    return false;\n                }\n\n                let votes =\n                    a.get(\"total_votes_for\") - a.get(\"total_votes_against\");\n                return (\n                    (new Date(a.get(\"work_end_date\") + \"Z\") > now &&\n                        votes < voteThreshold) ||\n                    new Date(a.get(\"work_begin_date\") + \"Z\") > now\n                );\n            })\n            .sort((a, b) => {\n                return this._getTotalVotes(b) - this._getTotalVotes(a);\n            })\n            .map((worker, index) => {\n                // let dailyPay = parseInt(worker.get(\"daily_pay\"), 10);\n                // workerBudget = workerBudget - dailyPay;\n\n                return (\n                    <WorkerApproval\n                        preferredUnit={preferredUnit}\n                        rest={0}\n                        rank={index + 1}\n                        key={worker.get(\"id\")}\n                        worker={worker.get(\"id\")}\n                        vote_ids={\n                            this.state[hasProxy ? \"proxy_vote_ids\" : \"vote_ids\"]\n                        }\n                        onChangeVotes={this.onChangeVotes.bind(this)}\n                        proxy={hasProxy}\n                        voteThreshold={voteThreshold}\n                    />\n                );\n            });\n\n        let expiredWorkers = workerArray\n            .filter(a => {\n                if (!a) {\n                    return false;\n                }\n\n                return new Date(a.get(\"work_end_date\")) <= now;\n            })\n            .sort((a, b) => {\n                return this._getTotalVotes(b) - this._getTotalVotes(a);\n            })\n            .map((worker, index) => {\n                // let dailyPay = parseInt(worker.get(\"daily_pay\"), 10);\n                // workerBudget = workerBudget - dailyPay;\n\n                return (\n                    <WorkerApproval\n                        preferredUnit={preferredUnit}\n                        rest={0}\n                        rank={index + 1}\n                        key={worker.get(\"id\")}\n                        worker={worker.get(\"id\")}\n                        vote_ids={\n                            this.state[hasProxy ? \"proxy_vote_ids\" : \"vote_ids\"]\n                        }\n                        onChangeVotes={this.onChangeVotes.bind(this)}\n                        proxy={hasProxy}\n                        voteThreshold={voteThreshold}\n                    />\n                );\n            });\n\n        let actionButtons = (\n            <span>\n                <button\n                    className={cnames(publish_buttons_class, {\n                        success: this.isChanged()\n                    })}\n                    onClick={this.onPublish}\n                    tabIndex={4}\n                >\n                    <Translate content=\"account.votes.publish\" />\n                </button>\n                <button\n                    className={\"button \" + publish_buttons_class}\n                    onClick={this.onReset}\n                    tabIndex={8}\n                >\n                    <Translate content=\"account.perm.reset\" />\n                </button>\n            </span>\n        );\n\n        let proxyInput = (\n            <AccountSelector\n                style={{width: \"50%\", maxWidth: 250, marginBottom: 10}}\n                account={this.state.current_proxy_input}\n                accountName={this.state.current_proxy_input}\n                onChange={this.onProxyChange.bind(this)}\n                onAccountChanged={this.onProxyAccountFound}\n                tabIndex={1}\n                placeholder=\"Proxy not set\"\n                hideImage\n            >\n                <span\n                    style={{\n                        paddingLeft: 5,\n                        position: \"relative\",\n                        top: -1,\n                        display: hasProxy ? \"\" : \"none\"\n                    }}\n                >\n                    <Icon name=\"locked\" title=\"icons.locked.action\" size=\"1x\" />\n                </span>\n                <span\n                    style={{\n                        paddingLeft: 5,\n                        position: \"relative\",\n                        top: 9,\n                        display: !hasProxy ? \"\" : \"none\"\n                    }}\n                >\n                    <Link to=\"/help/voting\">\n                        <Icon\n                            name=\"question-circle\"\n                            title=\"icons.question_circle\"\n                            size=\"1x\"\n                        />\n                    </Link>\n                </span>\n            </AccountSelector>\n        );\n\n        const showExpired = workerTableIndex === 2;\n\n        const saveText = (\n            <div\n                className=\"inline-block\"\n                style={{\n                    float: \"right\",\n                    visibility: this.isChanged() ? \"visible\" : \"hidden\",\n                    color: \"red\",\n                    padding: \"0.85rem\",\n                    fontSize: \"0.9rem\"\n                }}\n            >\n                <Translate content=\"account.votes.save_finish\" />\n            </div>\n        );\n\n        return (\n            <div className=\"grid-content app-tables no-padding\" ref=\"appTables\">\n                <div className=\"content-block small-12\">\n                    <div className=\"tabs-container generic-bordered-box\">\n                        <Tabs\n                            setting=\"votingTab\"\n                            className=\"account-tabs\"\n                            defaultActiveTab={1}\n                            segmented={false}\n                            actionButtons={saveText}\n                            tabsClass=\"account-overview no-padding bordered-header content-block\"\n                        >\n                            <Tab title=\"explorer.witnesses.title\">\n                                <div className={cnames(\"content-block\")}>\n                                    <div className=\"header-selector\">\n                                        {/* <Link to=\"/help/voting/witness\"><Icon name=\"question-circle\" title=\"icons.question_cirlce\" /></Link> */}\n                                        {proxyInput}\n                                        <div\n                                            style={{\n                                                float: \"right\",\n                                                marginTop: \"-2.5rem\"\n                                            }}\n                                        >\n                                            {actionButtons}\n                                        </div>\n                                    </div>\n\n                                    <VotingAccountsList\n                                        type=\"witness\"\n                                        label=\"account.votes.add_witness_label\"\n                                        items={this.state.all_witnesses}\n                                        validateAccount={this.validateAccount.bind(\n                                            this,\n                                            \"witnesses\"\n                                        )}\n                                        onAddItem={this.onAddItem.bind(\n                                            this,\n                                            \"witnesses\"\n                                        )}\n                                        onRemoveItem={this.onRemoveItem.bind(\n                                            this,\n                                            \"witnesses\"\n                                        )}\n                                        tabIndex={hasProxy ? -1 : 2}\n                                        supported={\n                                            this.state[\n                                                hasProxy\n                                                    ? \"proxy_witnesses\"\n                                                    : \"witnesses\"\n                                            ]\n                                        }\n                                        withSelector={false}\n                                        active={globalObject.get(\n                                            \"active_witnesses\"\n                                        )}\n                                        proxy={this.state.proxy_account_id}\n                                    />\n                                </div>\n                            </Tab>\n\n                            <Tab title=\"explorer.committee_members.title\">\n                                <div className={cnames(\"content-block\")}>\n                                    <div className=\"header-selector\">\n                                        {/* <Link to=\"/help/voting/committee\"><Icon name=\"question-circle\" title=\"icons.question_cirlce\" /></Link> */}\n                                        {proxyInput}\n                                        <div\n                                            style={{\n                                                float: \"right\",\n                                                marginTop: \"-2.5rem\"\n                                            }}\n                                        >\n                                            {actionButtons}\n                                        </div>\n                                    </div>\n                                    <VotingAccountsList\n                                        type=\"committee\"\n                                        label=\"account.votes.add_committee_label\"\n                                        items={this.state.all_committee}\n                                        validateAccount={this.validateAccount.bind(\n                                            this,\n                                            \"committee\"\n                                        )}\n                                        onAddItem={this.onAddItem.bind(\n                                            this,\n                                            \"committee\"\n                                        )}\n                                        onRemoveItem={this.onRemoveItem.bind(\n                                            this,\n                                            \"committee\"\n                                        )}\n                                        tabIndex={hasProxy ? -1 : 3}\n                                        supported={\n                                            this.state[\n                                                hasProxy\n                                                    ? \"proxy_committee\"\n                                                    : \"committee\"\n                                            ]\n                                        }\n                                        withSelector={false}\n                                        active={globalObject.get(\n                                            \"active_committee_members\"\n                                        )}\n                                        proxy={this.state.proxy_account_id}\n                                    />\n                                </div>\n                            </Tab>\n\n                            <Tab title=\"account.votes.workers_short\">\n                                <div className=\"header-selector\">\n                                    <div style={{float: \"right\"}}>\n                                        <Link to=\"/create-worker\">\n                                            <div className=\"button\">\n                                                <Translate content=\"account.votes.create_worker\" />\n                                            </div>\n                                        </Link>\n                                    </div>\n                                    <div className=\"selector\">\n                                        {/* <Link to=\"/help/voting/worker\"><Icon name=\"question-circle\" title=\"icons.question_cirlce\" /></Link> */}\n                                        <div\n                                            style={{paddingLeft: 10}}\n                                            className={cnames(\"inline-block\", {\n                                                inactive: workerTableIndex !== 0\n                                            })}\n                                            onClick={this._setWorkerTableIndex.bind(\n                                                this,\n                                                0\n                                            )}\n                                        >\n                                            {counterpart.translate(\n                                                \"account.votes.new\",\n                                                {count: newWorkers.length}\n                                            )}\n                                        </div>\n                                        <div\n                                            className={cnames(\"inline-block\", {\n                                                inactive: workerTableIndex !== 1\n                                            })}\n                                            onClick={this._setWorkerTableIndex.bind(\n                                                this,\n                                                1\n                                            )}\n                                        >\n                                            {counterpart.translate(\n                                                \"account.votes.active\",\n                                                {count: workers.length}\n                                            )}\n                                        </div>\n\n                                        {expiredWorkers.length ? (\n                                            <div\n                                                className={cnames(\n                                                    \"inline-block\",\n                                                    {inactive: !showExpired}\n                                                )}\n                                                onClick={\n                                                    !showExpired\n                                                        ? this._setWorkerTableIndex.bind(\n                                                              this,\n                                                              2\n                                                          )\n                                                        : () => {}\n                                                }\n                                            >\n                                                <Translate content=\"account.votes.expired\" />\n                                            </div>\n                                        ) : null}\n                                    </div>\n                                    <div style={{marginTop: \"2rem\"}}>\n                                        {proxyInput}\n                                        <div\n                                            style={{\n                                                float: \"right\",\n                                                marginTop: \"-2.5rem\"\n                                            }}\n                                        >\n                                            {actionButtons}\n                                        </div>\n                                    </div>\n                                </div>\n\n                                {/* {showExpired ? null : (\n                                <div style={{paddingTop: 10, paddingBottom: 20}}>\n                                    <table>\n                                        <tbody>\n                                            <tr>\n                                                <td>\n                                                    <Translate content=\"account.votes.total_budget\" />:</td>\n                                                <td style={{paddingLeft: 20, textAlign: \"right\"}}>\n                                                    &nbsp;{globalObject ? <FormattedAsset amount={totalBudget} asset=\"1.3.0\" decimalOffset={5}/> : null}\n                                                    <span>&nbsp;({globalObject ? <EquivalentValueComponent fromAsset=\"1.3.0\" toAsset={preferredUnit} amount={totalBudget}/> : null})</span>\n                                                </td></tr>\n                                            <tr>\n                                                <td><Translate content=\"account.votes.unused_budget\" />:</td>\n                                                <td style={{paddingLeft: 20, textAlign: \"right\"}}> {globalObject ? <FormattedAsset amount={unusedBudget} asset=\"1.3.0\" decimalOffset={5}/> : null}</td></tr>\n                                        </tbody>\n                                    </table>\n                                </div>)} */}\n\n                                <table className=\"table dashboard-table table-hover\">\n                                    {workerTableIndex ===\n                                    2 ? null : workerTableIndex === 0 ? (\n                                        <thead>\n                                            <tr>\n                                                <th />\n                                                <th\n                                                    colSpan=\"3\"\n                                                    style={{textAlign: \"left\"}}\n                                                >\n                                                    <Translate content=\"account.votes.threshold\" />\n                                                </th>\n                                                <th\n                                                    style={{textAlign: \"right\"}}\n                                                >\n                                                    <FormattedAsset\n                                                        decimalOffset={5}\n                                                        hide_asset\n                                                        amount={voteThreshold}\n                                                        asset=\"1.3.0\"\n                                                    />\n                                                </th>\n                                                <th colSpan=\"3\" />\n                                            </tr>\n                                            <tr>\n                                                <th\n                                                    style={{\n                                                        border: \"none\",\n                                                        backgroundColor:\n                                                            \"transparent\"\n                                                    }}\n                                                />\n                                            </tr>\n                                        </thead>\n                                    ) : (\n                                        <thead>\n                                            <tr>\n                                                <th />\n                                                <th\n                                                    colSpan=\"4\"\n                                                    style={{textAlign: \"left\"}}\n                                                >\n                                                    <Translate content=\"account.votes.total_budget\" />{\" \"}\n                                                    (<AssetName\n                                                        name={preferredUnit}\n                                                    />)\n                                                </th>\n                                                <th\n                                                    colSpan=\"2\"\n                                                    className=\"hide-column-small\"\n                                                />\n                                                <th\n                                                    style={{textAlign: \"right\"}}\n                                                >\n                                                    {globalObject ? (\n                                                        <EquivalentValueComponent\n                                                            hide_asset\n                                                            fromAsset=\"1.3.0\"\n                                                            toAsset={\n                                                                preferredUnit\n                                                            }\n                                                            amount={totalBudget}\n                                                        />\n                                                    ) : null}\n                                                </th>\n                                                <th className=\"hide-column-small\" />\n                                            </tr>\n                                            <tr>\n                                                <th\n                                                    style={{\n                                                        border: \"none\",\n                                                        backgroundColor:\n                                                            \"transparent\"\n                                                    }}\n                                                />\n                                            </tr>\n                                        </thead>\n                                    )}\n                                    <thead>\n                                        <tr>\n                                            {workerTableIndex === 2 ? null : (\n                                                <th\n                                                    style={{textAlign: \"right\"}}\n                                                >\n                                                    <Translate content=\"account.votes.line\" />\n                                                </th>\n                                            )}\n                                            <th style={{textAlign: \"center\"}}>\n                                                <Translate content=\"account.user_issued_assets.id\" />\n                                            </th>\n                                            <th style={{textAlign: \"left\"}}>\n                                                <Translate content=\"account.user_issued_assets.description\" />\n                                            </th>\n                                            <th\n                                                style={{textAlign: \"right\"}}\n                                                className=\"hide-column-small\"\n                                            >\n                                                <Translate content=\"account.votes.total_votes\" />\n                                            </th>\n                                            {workerTableIndex === 0 ? (\n                                                <th\n                                                    style={{textAlign: \"right\"}}\n                                                >\n                                                    <Translate content=\"account.votes.missing\" />\n                                                </th>\n                                            ) : null}\n                                            <th>\n                                                <Translate content=\"explorer.workers.period\" />\n                                            </th>\n                                            {workerTableIndex === 2 ||\n                                            workerTableIndex === 0 ? null : (\n                                                <th\n                                                    style={{textAlign: \"right\"}}\n                                                    className=\"hide-column-small\"\n                                                >\n                                                    <Translate content=\"account.votes.funding\" />\n                                                </th>\n                                            )}\n                                            <th\n                                                style={{textAlign: \"right\"}}\n                                                className=\"hide-column-small\"\n                                            >\n                                                <Translate content=\"account.votes.daily_pay\" />\n                                                <div\n                                                    style={{\n                                                        paddingTop: 5,\n                                                        fontSize: \"0.8rem\"\n                                                    }}\n                                                >\n                                                    (<AssetName\n                                                        name={preferredUnit}\n                                                    />)\n                                                </div>\n                                            </th>\n                                            {workerTableIndex === 2 ||\n                                            workerTableIndex === 0 ? null : (\n                                                <th\n                                                    style={{textAlign: \"right\"}}\n                                                >\n                                                    <Translate content=\"explorer.witnesses.budget\" />\n                                                    <div\n                                                        style={{\n                                                            paddingTop: 5,\n                                                            fontSize: \"0.8rem\"\n                                                        }}\n                                                    >\n                                                        (<AssetName\n                                                            name={preferredUnit}\n                                                        />)\n                                                    </div>\n                                                </th>\n                                            )}\n\n                                            <th>\n                                                <Translate content=\"account.votes.toggle\" />\n                                            </th>\n                                        </tr>\n                                    </thead>\n\n                                    <tbody>\n                                        {workerTableIndex === 0\n                                            ? newWorkers\n                                            : workerTableIndex === 1\n                                                ? workers\n                                                : expiredWorkers}\n                                    </tbody>\n                                </table>\n                            </Tab>\n                        </Tabs>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\nAccountVoting = BindToChainState(AccountVoting);\n\nconst BudgetObjectWrapper = props => {\n    return (\n        <AccountVoting\n            {...props}\n            initialBudget={SettingsStore.getLastBudgetObject()}\n        />\n    );\n};\n\nexport default BudgetObjectWrapper;\n","import React from \"react\";\nimport counterpart from \"counterpart\";\nimport utils from \"common/utils\";\nimport ChainTypes from \"../Utility/ChainTypes\";\nimport FormattedAsset from \"../Utility/FormattedAsset\";\nimport LinkToAccountById from \"../Utility/LinkToAccountById\";\nimport BindToChainState from \"../Utility/BindToChainState\";\nimport {EquivalentValueComponent} from \"../Utility/EquivalentValueComponent\";\nimport Icon from \"components/Icon/Icon\";\nimport PropTypes from \"prop-types\";\n\nclass WorkerApproval extends React.Component {\n    static propTypes = {\n        worker: ChainTypes.ChainObject.isRequired,\n        onAddVote: PropTypes.func, /// called with vote id to add\n        onRemoveVote: PropTypes.func, /// called with vote id to remove\n        vote_ids: PropTypes.object /// Set of items currently being voted for\n    };\n\n    static defaultProps = {\n        tempComponent: \"tr\"\n    };\n\n    constructor(props) {\n        super(props);\n    }\n\n    onApprove() {\n        let addVotes = [],\n            removeVotes = [];\n\n        if (this.props.vote_ids.has(this.props.worker.get(\"vote_against\"))) {\n            removeVotes.push(this.props.worker.get(\"vote_against\"));\n        }\n\n        if (!this.props.vote_ids.has(this.props.worker.get(\"vote_for\"))) {\n            addVotes.push(this.props.worker.get(\"vote_for\"));\n        }\n\n        this.props.onChangeVotes(addVotes, removeVotes);\n    }\n\n    onReject() {\n        let addVotes = [],\n            removeVotes = [];\n\n        if (this.props.vote_ids.has(this.props.worker.get(\"vote_against\"))) {\n            removeVotes.push(this.props.worker.get(\"vote_against\"));\n        }\n\n        if (this.props.vote_ids.has(this.props.worker.get(\"vote_for\"))) {\n            removeVotes.push(this.props.worker.get(\"vote_for\"));\n        }\n\n        this.props.onChangeVotes(addVotes, removeVotes);\n    }\n\n    render() {\n        let {rank} = this.props;\n        let worker = this.props.worker.toJS();\n        let total_votes = worker.total_votes_for - worker.total_votes_against;\n        let approvalState = this.props.vote_ids.has(worker.vote_for)\n            ? true\n            : this.props.vote_ids.has(worker.vote_against)\n                ? false\n                : null;\n\n        let fundedPercent = 0;\n\n        if (worker.daily_pay < this.props.rest) {\n            fundedPercent = 100;\n        } else if (this.props.rest > 0) {\n            fundedPercent = this.props.rest / worker.daily_pay * 100;\n        }\n\n        let startDate = counterpart.localize(\n            new Date(worker.work_begin_date + \"Z\"),\n            {type: \"date\", format: \"short_custom\"}\n        );\n        let endDate = counterpart.localize(\n            new Date(worker.work_end_date + \"Z\"),\n            {type: \"date\", format: \"short_custom\"}\n        );\n\n        let now = new Date();\n        let isExpired = new Date(worker.work_end_date + \"Z\") <= now;\n        let hasStarted = new Date(worker.work_begin_date + \"Z\") <= now;\n        let isProposed =\n            (!isExpired && total_votes < this.props.voteThreshold) ||\n            !hasStarted;\n        return (\n            <tr className={approvalState ? \"\" : \"unsupported\"}>\n                {isExpired ? null : (\n                    <td\n                        style={{\n                            textAlign: \"right\",\n                            paddingRight: 10,\n                            paddingLeft: 0\n                        }}\n                    >\n                        {rank}\n                    </td>\n                )}\n\n                <td className=\"worker-id\" style={{textAlign: \"left\"}}>\n                    {worker.id}\n                </td>\n\n                <td className=\"worker-name\" style={{textAlign: \"left\"}}>\n                    <div\n                        className=\"inline-block\"\n                        style={{paddingRight: 5, position: \"relative\", top: -1}}\n                    >\n                        <a\n                            style={{\n                                visibility:\n                                    worker.url && worker.url.indexOf(\".\") !== -1\n                                        ? \"visible\"\n                                        : \"hidden\"\n                            }}\n                            href={worker.url}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                        >\n                            <Icon name=\"share\" title=\"icons.share\" />\n                        </a>\n                    </div>\n                    <div\n                        data-tip={worker.name}\n                        className=\"inline-block tooltip\"\n                    >\n                        {worker.name}\n                        <br />\n                        <LinkToAccountById account={worker.worker_account} />\n                    </div>\n                </td>\n\n                <td style={{textAlign: \"right\"}} className=\"hide-column-small\">\n                    <FormattedAsset\n                        amount={total_votes}\n                        asset=\"1.3.0\"\n                        decimalOffset={5}\n                        hide_asset\n                    />\n                </td>\n\n                {!isProposed ? null : (\n                    <td style={{textAlign: \"right\"}}>\n                        <FormattedAsset\n                            amount={Math.max(\n                                0,\n                                this.props.voteThreshold - total_votes\n                            )}\n                            asset=\"1.3.0\"\n                            hide_asset\n                            decimalOffset={5}\n                        />\n                    </td>\n                )}\n\n                <td>\n                    {startDate} - {endDate}\n                </td>\n\n                {isExpired || isProposed ? null : (\n                    <td\n                        style={{textAlign: \"right\"}}\n                        className=\"hide-column-small\"\n                    >\n                        {utils.format_number(fundedPercent, 2)}%\n                    </td>\n                )}\n\n                <td style={{textAlign: \"right\"}} className=\"hide-column-small\">\n                    <EquivalentValueComponent\n                        hide_asset\n                        fromAsset=\"1.3.0\"\n                        toAsset={this.props.preferredUnit}\n                        amount={worker.daily_pay}\n                    />\n                </td>\n\n                {isExpired || isProposed ? null : (\n                    <td style={{textAlign: \"right\"}}>\n                        {this.props.rest <= 0 ? (\n                            \"0.00\"\n                        ) : (\n                            <EquivalentValueComponent\n                                hide_asset\n                                fromAsset=\"1.3.0\"\n                                toAsset={this.props.preferredUnit}\n                                amount={this.props.rest}\n                            />\n                        )}\n                    </td>\n                )}\n\n                <td\n                    className=\"clickable\"\n                    onClick={\n                        this.props.proxy\n                            ? () => {}\n                            : this[\n                                  approvalState ? \"onReject\" : \"onApprove\"\n                              ].bind(this)\n                    }\n                >\n                    {!this.props.proxy ? (\n                        <Icon\n                            name={\n                                approvalState\n                                    ? \"checkmark-circle\"\n                                    : \"minus-circle\"\n                            }\n                            title={\n                                approvalState\n                                    ? \"icons.checkmark_circle.approved\"\n                                    : \"icons.minus_circle.disapproved\"\n                            }\n                        />\n                    ) : (\n                        <Icon name=\"locked\" title=\"icons.locked.action\" />\n                    )}\n                </td>\n            </tr>\n        );\n    }\n}\n\nexport default BindToChainState(WorkerApproval);\n","import React from \"react\";\nimport AccountSelector from \"./AccountSelector\";\nimport Translate from \"react-translate-component\";\nimport Icon from \"../Icon/Icon\";\nimport {ChainStore} from \"bitsharesjs\";\nimport ChainTypes from \"../Utility/ChainTypes\";\nimport FormattedAsset from \"../Utility/FormattedAsset\";\nimport BindToChainState from \"../Utility/BindToChainState\";\nimport LinkToAccountById from \"../Utility/LinkToAccountById\";\nimport counterpart from \"counterpart\";\nimport PropTypes from \"prop-types\";\n\nfunction getWitnessOrCommittee(type, acct) {\n    let url = \"\",\n        votes = 0,\n        account;\n    if (type === \"witness\") {\n        account = ChainStore.getWitnessById(acct.get(\"id\"));\n    } else if (type === \"committee\") {\n        account = ChainStore.getCommitteeMemberById(acct.get(\"id\"));\n    }\n\n    url = account ? account.get(\"url\") : url;\n    votes = account ? account.get(\"total_votes\") : votes;\n    return {\n        url,\n        votes,\n        id: account.get(\"id\")\n    };\n}\n\nclass AccountItemRow extends React.Component {\n    static propTypes = {\n        account: PropTypes.object.isRequired,\n        onAction: PropTypes.func.isRequired\n    };\n\n    shouldComponentUpdate(nextProps) {\n        return (\n            nextProps.account !== this.props.account ||\n            nextProps.action !== this.props.action ||\n            nextProps.isActive !== this.props.isActive ||\n            nextProps.idx !== this.props.idx ||\n            nextProps.proxy !== this.props.proxy\n        );\n    }\n\n    onAction(item_id) {\n        this.props.onAction(item_id);\n    }\n\n    render() {\n        let {account, type, action, isActive} = this.props;\n        let item_id = account.get(\"id\");\n\n        let {url, votes} = getWitnessOrCommittee(type, account);\n\n        let link =\n            url && url.length > 0 && url.indexOf(\"http\") === -1\n                ? \"http://\" + url\n                : url;\n        const isSupported = action === \"remove\";\n\n        return (\n            <tr className={isSupported ? \"\" : \"unsupported\"}>\n                <td style={{textAlign: \"right\"}}>{this.props.idx + 1}</td>\n                <td style={{textAlign: \"left\"}}>\n                    <LinkToAccountById account={account.get(\"id\")} />\n                </td>\n                <td>\n                    {link && link.indexOf(\".\") !== -1 ? (\n                        <a\n                            href={link}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                        >\n                            <Icon name=\"share\" title=\"icons.share\" />\n                        </a>\n                    ) : null}\n                </td>\n                <td>\n                    <FormattedAsset\n                        amount={votes}\n                        asset=\"1.3.0\"\n                        decimalOffset={5}\n                        hide_asset\n                    />\n                </td>\n                <td>\n                    <Translate\n                        content={`account.votes.${\n                            isActive ? \"active_short\" : \"inactive\"\n                        }`}\n                    />\n                </td>\n                <td style={{textAlign: \"center\"}}>\n                    <Translate\n                        content={`settings.${isSupported ? \"yes\" : \"no\"}`}\n                    />\n                </td>\n                <td\n                    className={this.props.proxy ? \"\" : \"clickable\"}\n                    onClick={\n                        this.props.proxy\n                            ? () => {}\n                            : this.onAction.bind(this, item_id)\n                    }\n                >\n                    {!this.props.proxy ? (\n                        <Icon\n                            name={\n                                isSupported\n                                    ? \"checkmark-circle\"\n                                    : \"minus-circle\"\n                            }\n                            title={\n                                isSupported\n                                    ? \"icons.checkmark_circle.yes\"\n                                    : \"icons.minus_circle.no\"\n                            }\n                        />\n                    ) : (\n                        <Icon name=\"locked\" title=\"icons.locked.action\" />\n                    )}\n                </td>\n            </tr>\n        );\n    }\n}\n\nclass VotingAccountsList extends React.Component {\n    static propTypes = {\n        items: ChainTypes.ChainObjectsList,\n        onAddItem: PropTypes.func.isRequired,\n        onRemoveItem: PropTypes.func.isRequired,\n        validateAccount: PropTypes.func,\n        label: PropTypes.string.isRequired, // a translation key for the label,\n        placeholder: PropTypes.string, // the placeholder text to be displayed when there is no user_input\n        tabIndex: PropTypes.number, // tabindex property to be passed to input tag\n        action: PropTypes.string,\n        withSelector: PropTypes.bool\n    };\n\n    static defaultProps = {\n        action: \"remove\",\n        withSelector: true,\n        autosubscribe: false\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            selected_item: null,\n            item_name_input: \"\",\n            error: null\n        };\n        this.onItemChange = this.onItemChange.bind(this);\n        this.onItemAccountChange = this.onItemAccountChange.bind(this);\n        this.onAddItem = this.onAddItem.bind(this);\n    }\n\n    onItemChange(item_name_input) {\n        this.setState({item_name_input});\n    }\n\n    onItemAccountChange(selected_item) {\n        this.setState({selected_item, error: null});\n        if (selected_item && this.props.validateAccount) {\n            let res = this.props.validateAccount(selected_item);\n            if (res === null) return;\n            if (typeof res === \"string\") this.setState({error: res});\n            else res.then(error => this.setState({error: error}));\n        }\n    }\n\n    onAddItem(item) {\n        if (!item) return;\n        let next_state = {\n            selected_item: null,\n            item_name_input: \"\",\n            error: null\n        };\n        this.setState(next_state);\n        this.props.onAddItem(item.get(\"id\"));\n    }\n\n    render() {\n        if (!this.props.items) return null;\n\n        let item_rows = this.props.items\n            .filter(i => {\n                if (!i) return false;\n                //if (this.state.item_name_input) return i.get(\"name\").indexOf(this.state.item_name_input) !== -1;\n                return true;\n            })\n            .sort((a, b) => {\n                let {votes: a_votes} = getWitnessOrCommittee(\n                    this.props.type,\n                    a\n                );\n                let {votes: b_votes} = getWitnessOrCommittee(\n                    this.props.type,\n                    b\n                );\n                if (a_votes !== b_votes) {\n                    return parseInt(b_votes, 10) - parseInt(a_votes, 10);\n                } else if (a.get(\"name\") > b.get(\"name\")) {\n                    return 1;\n                } else if (a.get(\"name\") < b.get(\"name\")) {\n                    return -1;\n                } else {\n                    return 0;\n                }\n            })\n            .map((i, idx) => {\n                let action =\n                    this.props.supported &&\n                    this.props.supported.includes(i.get(\"id\"))\n                        ? \"remove\"\n                        : \"add\";\n                let isActive = this.props.active.includes(\n                    getWitnessOrCommittee(this.props.type, i).id\n                );\n                return (\n                    <AccountItemRow\n                        idx={idx}\n                        key={i.get(\"name\")}\n                        account={i}\n                        type={this.props.type}\n                        onAction={\n                            action === \"add\"\n                                ? this.props.onAddItem\n                                : this.props.onRemoveItem\n                        }\n                        isSelected={this.props.items.indexOf(i) !== -1}\n                        action={action}\n                        isActive={isActive}\n                        proxy={this.props.proxy}\n                    />\n                );\n            });\n\n        let error = this.state.error;\n        if (\n            !error &&\n            this.state.selected_item &&\n            this.props.items.indexOf(this.state.selected_item) !== -1\n        ) {\n            error = counterpart.translate(\"account.votes.already\");\n        }\n\n        let cw = [\"10%\", \"20%\", \"40%\", \"20%\", \"10%\"];\n\n        return (\n            <div>\n                {this.props.withSelector ? (\n                    <AccountSelector\n                        style={{maxWidth: \"600px\"}}\n                        label={this.props.label}\n                        error={error}\n                        placeholder={this.props.placeholder}\n                        account={this.state.item_name_input}\n                        accountName={this.state.item_name_input}\n                        onChange={this.onItemChange}\n                        onAccountChanged={this.onItemAccountChange}\n                        onAction={this.onAddItem}\n                        action_label=\"account.votes.add_witness\"\n                        tabIndex={this.props.tabIndex}\n                    />\n                ) : null}\n                {this.props.title && item_rows.length ? (\n                    <h4>{this.props.title}</h4>\n                ) : null}\n                {item_rows.length ? (\n                    <table className=\"table dashboard-table table-hover\">\n                        <thead>\n                            <tr>\n                                <th style={{textAlign: \"right\"}}>#</th>\n                                <th\n                                    style={{textAlign: \"left\", maxWidth: cw[1]}}\n                                >\n                                    <Translate content=\"account.votes.name\" />\n                                </th>\n                                <th style={{maxWidth: cw[2]}}>\n                                    <Translate content=\"account.votes.about\" />\n                                </th>\n                                <th style={{maxWidth: cw[3]}}>\n                                    <Translate content=\"account.votes.votes\" />\n                                </th>\n                                <th style={{maxWidth: cw[4]}}>\n                                    <Translate content=\"account.votes.status.title\" />\n                                </th>\n                                <th style={{maxWidth: cw[0]}}>\n                                    <Translate content=\"account.votes.supported\" />\n                                </th>\n                                <th style={{maxWidth: cw[5]}}>\n                                    <Translate content=\"account.votes.toggle\" />\n                                </th>\n                            </tr>\n                        </thead>\n                        <tbody>{item_rows}</tbody>\n                    </table>\n                ) : null}\n            </div>\n        );\n    }\n}\n\nexport default BindToChainState(VotingAccountsList);\n","import React from \"react\";\nimport Immutable from \"immutable\";\nimport Translate from \"react-translate-component\";\nimport TotalBalanceValue from \"../Utility/TotalBalanceValue\";\nimport AssetName from \"../Utility/AssetName\";\nimport AssetImage from \"../Utility/AssetImage\";\nimport MarginPositions from \"./MarginPositions\";\nimport {RecentTransactions} from \"./RecentTransactions\";\nimport Proposals from \"components/Account/Proposals\";\nimport {ChainStore} from \"bitsharesjs\";\nimport SettingsActions from \"actions/SettingsActions\";\nimport utils from \"common/utils\";\n\nimport {Tabs, Tab} from \"../Utility/Tabs\";\nimport AccountOrders from \"./AccountOrders\";\nimport cnames from \"classnames\";\nimport TranslateWithLinks from \"../Utility/TranslateWithLinks\";\nimport {checkMarginStatus} from \"common/accountHelper\";\nimport BalanceWrapper from \"./BalanceWrapper\";\nimport AccountTreemap from \"./AccountTreemap\";\nimport AssetWrapper from \"../Utility/AssetWrapper\";\nimport AccountPortfolioList from \"./AccountPortfolioList\";\n\nclass AccountOverview extends React.Component {\n    constructor(props) {\n        super();\n        this.state = {\n            sortKey: props.viewSettings.get(\"portfolioSort\", \"totalValue\"),\n            sortDirection: props.viewSettings.get(\n                \"portfolioSortDirection\",\n                true\n            ), // alphabetical A -> B, numbers high to low\n            shownAssets: props.viewSettings.get(\"shownAssets\", \"active\"),\n            alwaysShowAssets: [\n                \"BTS\"\n                // \"USD\",\n                // \"CNY\",\n                // \"OPEN.BTC\",\n                // \"OPEN.USDT\",\n                // \"OPEN.ETH\",\n                // \"OPEN.MAID\",\n                // \"OPEN.STEEM\",\n                // \"OPEN.DASH\"\n            ]\n        };\n\n        this._handleFilterInput = this._handleFilterInput.bind(this);\n    }\n\n    _handleFilterInput(e) {\n        e.preventDefault();\n        this.setState({\n            filterValue: e.target.value\n        });\n    }\n\n    componentWillMount() {\n        this._checkMarginStatus();\n    }\n\n    _checkMarginStatus(props = this.props) {\n        checkMarginStatus(props.account).then(status => {\n            let globalMarginStatus = null;\n            for (let asset in status) {\n                globalMarginStatus =\n                    status[asset].statusClass || globalMarginStatus;\n            }\n            this.setState({globalMarginStatus});\n        });\n    }\n\n    componentWillReceiveProps(np) {\n        if (np.account !== this.props.account) {\n            this._checkMarginStatus(np);\n        }\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        return (\n            !utils.are_equal_shallow(nextProps.balances, this.props.balances) ||\n            nextProps.account !== this.props.account ||\n            nextProps.settings !== this.props.settings ||\n            nextProps.hiddenAssets !== this.props.hiddenAssets ||\n            !utils.are_equal_shallow(nextState, this.state) ||\n            this.state.filterValue !== nextState.filterValue\n        );\n    }\n\n    _changeShownAssets(shownAssets = \"active\") {\n        this.setState({\n            shownAssets\n        });\n        SettingsActions.changeViewSetting({\n            shownAssets\n        });\n    }\n\n    _toggleSortOrder(key) {\n        if (this.state.sortKey === key) {\n            SettingsActions.changeViewSetting({\n                portfolioSortDirection: !this.state.sortDirection\n            });\n            this.setState({\n                sortDirection: !this.state.sortDirection\n            });\n        } else {\n            SettingsActions.changeViewSetting({\n                portfolioSort: key\n            });\n            this.setState({\n                sortDirection: false,\n                sortKey: key\n            });\n        }\n    }\n\n    render() {\n        let {account, hiddenAssets, settings, orders} = this.props;\n        let {shownAssets} = this.state;\n\n        if (!account) {\n            return null;\n        }\n\n        const preferredUnit =\n            settings.get(\"unit\") || this.props.core_asset.get(\"symbol\");\n\n        let call_orders = [],\n            collateral = {},\n            debt = {};\n\n        if (account.toJS && account.has(\"call_orders\"))\n            call_orders = account.get(\"call_orders\").toJS();\n        let includedBalances, hiddenBalances;\n        let account_balances = account.get(\"balances\");\n        let includedBalancesList = Immutable.List(),\n            hiddenBalancesList = Immutable.List();\n        call_orders.forEach(callID => {\n            let position = ChainStore.getObject(callID);\n            if (position) {\n                let collateralAsset = position.getIn([\n                    \"call_price\",\n                    \"base\",\n                    \"asset_id\"\n                ]);\n                if (!collateral[collateralAsset]) {\n                    collateral[collateralAsset] = parseInt(\n                        position.get(\"collateral\"),\n                        10\n                    );\n                } else {\n                    collateral[collateralAsset] += parseInt(\n                        position.get(\"collateral\"),\n                        10\n                    );\n                }\n                let debtAsset = position.getIn([\n                    \"call_price\",\n                    \"quote\",\n                    \"asset_id\"\n                ]);\n                if (!debt[debtAsset]) {\n                    debt[debtAsset] = parseInt(position.get(\"debt\"), 10);\n                } else {\n                    debt[debtAsset] += parseInt(position.get(\"debt\"), 10);\n                }\n            }\n        });\n\n        if (account_balances) {\n            // Filter out balance objects that have 0 balance or are not included in open orders\n            account_balances = account_balances.filter((a, index) => {\n                let balanceObject = ChainStore.getObject(a);\n                if (\n                    balanceObject &&\n                    (!balanceObject.get(\"balance\") && !orders[index])\n                ) {\n                    return false;\n                } else {\n                    return true;\n                }\n            });\n\n            // Separate balances into hidden and included\n            account_balances.forEach((a, asset_type) => {\n                const asset = ChainStore.getAsset(asset_type);\n\n                let assetName = \"\";\n                let filter = \"\";\n\n                if (this.state.filterValue) {\n                    filter = this.state.filterValue\n                        ? String(this.state.filterValue).toLowerCase()\n                        : \"\";\n                    assetName = asset.get(\"symbol\").toLowerCase();\n                    let {isBitAsset} = utils.replaceName(asset);\n                    if (isBitAsset) {\n                        assetName = \"bit\" + assetName;\n                    }\n                }\n\n                if (\n                    hiddenAssets.includes(asset_type) &&\n                    assetName.includes(filter)\n                ) {\n                    hiddenBalancesList = hiddenBalancesList.push(a);\n                } else if (assetName.includes(filter)) {\n                    includedBalancesList = includedBalancesList.push(a);\n                }\n            });\n\n            let included = (\n                <AccountPortfolioList\n                    balanceList={includedBalancesList}\n                    optionalAssets={\n                        !this.state.filterValue\n                            ? this.state.alwaysShowAssets\n                            : null\n                    }\n                    visible={true}\n                    preferredUnit={preferredUnit}\n                    coreSymbol={this.props.core_asset.get(\"symbol\")}\n                    hiddenAssets={hiddenAssets}\n                    orders={orders}\n                    account={this.props.account}\n                    sortKey={this.state.sortKey}\n                    sortDirection={this.state.sortDirection}\n                    isMyAccount={this.props.isMyAccount}\n                    balances={this.props.balances}\n                />\n            );\n\n            includedBalances = included;\n\n            let hidden = (\n                <AccountPortfolioList\n                    balanceList={hiddenBalancesList}\n                    optionalAssets={\n                        !this.state.filterValue\n                            ? this.state.alwaysShowAsset\n                            : null\n                    }\n                    visible={false}\n                    preferredUnit={preferredUnit}\n                    coreSymbol={this.props.core_asset.get(\"symbol\")}\n                    settings={settings}\n                    hiddenAssets={hiddenAssets}\n                    orders={orders}\n                    account={this.props.account}\n                    sortKey={this.state.sortKey}\n                    sortDirection={this.state.sortDirection}\n                    isMyAccount={this.props.isMyAccount}\n                    balances={this.props.balances}\n                />\n            );\n\n            hiddenBalances = hidden;\n        }\n\n        let portfolioHiddenAssetsBalance = (\n            <TotalBalanceValue noTip balances={hiddenBalancesList} hide_asset />\n        );\n\n        let portfolioActiveAssetsBalance = (\n            <TotalBalanceValue\n                noTip\n                balances={includedBalancesList}\n                hide_asset\n            />\n        );\n        let ordersValue = (\n            <TotalBalanceValue\n                noTip\n                balances={Immutable.List()}\n                openOrders={orders}\n                hide_asset\n            />\n        );\n        let marginValue = (\n            <TotalBalanceValue\n                noTip\n                balances={Immutable.List()}\n                debt={debt}\n                collateral={collateral}\n                hide_asset\n            />\n        );\n        let debtValue = (\n            <TotalBalanceValue\n                noTip\n                balances={Immutable.List()}\n                debt={debt}\n                hide_asset\n            />\n        );\n        let collateralValue = (\n            <TotalBalanceValue\n                noTip\n                balances={Immutable.List()}\n                collateral={collateral}\n                hide_asset\n            />\n        );\n\n        const totalValueText = (\n            <TranslateWithLinks\n                noLink\n                string=\"account.total\"\n                keys={[{type: \"asset\", value: preferredUnit, arg: \"asset\"}]}\n            />\n        );\n\n        const includedPortfolioBalance = (\n            <tr key=\"portfolio\" className=\"total-value\">\n                <td colSpan=\"2\" style={{textAlign: \"left\"}}>\n                    {totalValueText}\n                </td>\n                <td className=\"column-hide-small\" />\n                <td className=\"column-hide-small\" />\n                <td style={{textAlign: \"right\"}}>\n                    {portfolioActiveAssetsBalance}\n                </td>\n                <td colSpan=\"9\" />\n            </tr>\n        );\n\n        const hiddenPortfolioBalance = (\n            <tr key=\"portfolio\" className=\"total-value\">\n                <td colSpan=\"2\" style={{textAlign: \"left\"}}>\n                    {totalValueText}\n                </td>\n                <td className=\"column-hide-small\" />\n                <td className=\"column-hide-small\" />\n                <td style={{textAlign: \"right\"}}>\n                    {portfolioHiddenAssetsBalance}\n                </td>\n                <td colSpan=\"9\" />\n            </tr>\n        );\n\n        let showAssetPercent = settings.get(\"showAssetPercent\", false);\n\n        // add unicode non-breaking space as subtext to Activity Tab to ensure that all titles are aligned\n        // horizontally\n        const hiddenSubText = \"\\u00a0\";\n\n        return (\n            <div className=\"grid-content app-tables no-padding\" ref=\"appTables\">\n                <div className=\"content-block small-12\">\n                    <div className=\"tabs-container generic-bordered-box\">\n                        <Tabs\n                            defaultActiveTab={0}\n                            segmented={false}\n                            setting=\"overviewTab\"\n                            className=\"account-tabs\"\n                            tabsClass=\"account-overview no-padding bordered-header content-block\"\n                        >\n                            <Tab\n                                title=\"account.portfolio\"\n                                subText={portfolioActiveAssetsBalance}\n                            >\n                                <div className=\"header-selector\">\n                                    <div className=\"filter inline-block\">\n                                        <input\n                                            type=\"text\"\n                                            placeholder=\"Filter\"\n                                            onChange={this._handleFilterInput}\n                                        />\n                                    </div>\n                                    <div className=\"selector inline-block\">\n                                        <div\n                                            className={cnames(\"inline-block\", {\n                                                inactive:\n                                                    shownAssets != \"active\"\n                                            })}\n                                            onClick={\n                                                shownAssets != \"active\"\n                                                    ? this._changeShownAssets.bind(\n                                                          this,\n                                                          \"active\"\n                                                      )\n                                                    : () => {}\n                                            }\n                                        >\n                                            <Translate content=\"account.hide_hidden\" />\n                                        </div>\n                                        {hiddenBalancesList.size ? (\n                                            <div\n                                                className={cnames(\n                                                    \"inline-block\",\n                                                    {\n                                                        inactive:\n                                                            shownAssets !=\n                                                            \"hidden\"\n                                                    }\n                                                )}\n                                                onClick={\n                                                    shownAssets != \"hidden\"\n                                                        ? this._changeShownAssets.bind(\n                                                              this,\n                                                              \"hidden\"\n                                                          )\n                                                        : () => {}\n                                                }\n                                            >\n                                                <Translate content=\"account.show_hidden\" />\n                                            </div>\n                                        ) : null}\n                                        <div\n                                            className={cnames(\"inline-block\", {\n                                                inactive:\n                                                    shownAssets != \"visual\"\n                                            })}\n                                            onClick={\n                                                shownAssets != \"visual\"\n                                                    ? this._changeShownAssets.bind(\n                                                          this,\n                                                          \"visual\"\n                                                      )\n                                                    : () => {}\n                                            }\n                                        >\n                                            <Translate content=\"account.show_visual\" />\n                                        </div>\n                                    </div>\n                                </div>\n\n                                {shownAssets != \"visual\" ? (\n                                    <table className=\"table dashboard-table table-hover\">\n                                        <thead>\n                                            <tr>\n                                                <th\n                                                    style={{textAlign: \"left\"}}\n                                                    className=\"clickable\"\n                                                    onClick={this._toggleSortOrder.bind(\n                                                        this,\n                                                        \"alphabetic\"\n                                                    )}\n                                                >\n                                                    <Translate\n                                                        component=\"span\"\n                                                        content=\"account.asset\"\n                                                    />\n                                                </th>\n                                                <th\n                                                    onClick={this._toggleSortOrder.bind(\n                                                        this,\n                                                        \"qty\"\n                                                    )}\n                                                    className=\"clickable\"\n                                                    style={{textAlign: \"right\"}}\n                                                >\n                                                    <Translate content=\"account.qty\" />\n                                                </th>\n                                                <th\n                                                    onClick={this._toggleSortOrder.bind(\n                                                        this,\n                                                        \"priceValue\"\n                                                    )}\n                                                    className=\"column-hide-small clickable\"\n                                                    style={{textAlign: \"right\"}}\n                                                >\n                                                    <Translate content=\"exchange.price\" />{\" \"}\n                                                    (<AssetName\n                                                        name={preferredUnit}\n                                                        noTip\n                                                    />)\n                                                </th>\n                                                <th\n                                                    onClick={this._toggleSortOrder.bind(\n                                                        this,\n                                                        \"changeValue\"\n                                                    )}\n                                                    className=\"column-hide-small clickable\"\n                                                    style={{textAlign: \"right\"}}\n                                                >\n                                                    <Translate content=\"account.hour_24_short\" />\n                                                </th>\n                                                <th\n                                                    onClick={this._toggleSortOrder.bind(\n                                                        this,\n                                                        \"totalValue\"\n                                                    )}\n                                                    style={{textAlign: \"right\"}}\n                                                    className=\"column-hide-small clickable\"\n                                                >\n                                                    <TranslateWithLinks\n                                                        noLink\n                                                        string=\"account.eq_value_header\"\n                                                        keys={[\n                                                            {\n                                                                type: \"asset\",\n                                                                value: preferredUnit,\n                                                                arg: \"asset\"\n                                                            }\n                                                        ]}\n                                                        noTip\n                                                    />\n                                                </th>\n                                                {showAssetPercent ? (\n                                                    <th\n                                                        style={{\n                                                            textAlign: \"right\"\n                                                        }}\n                                                    >\n                                                        <Translate\n                                                            component=\"span\"\n                                                            content=\"account.percent\"\n                                                        />\n                                                    </th>\n                                                ) : null}\n                                                <th>\n                                                    <Translate content=\"header.payments\" />\n                                                </th>\n                                                <th>\n                                                    <Translate content=\"exchange.buy\" />\n                                                </th>\n                                                <th>\n                                                    <Translate content=\"modal.deposit.submit\" />\n                                                </th>\n                                                <th>\n                                                    <Translate content=\"modal.withdraw.submit\" />\n                                                </th>\n                                                <th>\n                                                    <Translate content=\"account.trade\" />\n                                                </th>\n                                                <th>\n                                                    <Translate content=\"exchange.borrow_short\" />\n                                                </th>\n                                                <th>\n                                                    <Translate content=\"account.settle\" />\n                                                </th>\n                                                <th className=\"column-hide-small\">\n                                                    <Translate\n                                                        content={\n                                                            shownAssets ==\n                                                            \"active\"\n                                                                ? \"exchange.hide\"\n                                                                : \"account.perm.show\"\n                                                        }\n                                                    />\n                                                </th>\n                                            </tr>\n                                        </thead>\n                                        {shownAssets == \"hidden\" &&\n                                        hiddenBalancesList.size\n                                            ? hiddenBalances\n                                            : includedBalances}\n\n                                        <tbody>\n                                            {shownAssets == \"hidden\" &&\n                                            hiddenBalancesList.size\n                                                ? hiddenPortfolioBalance\n                                                : includedPortfolioBalance}\n                                        </tbody>\n                                    </table>\n                                ) : (\n                                    <AccountTreemap\n                                        balanceObjects={includedBalancesList}\n                                    />\n                                )}\n                            </Tab>\n\n                            <Tab\n                                title=\"account.open_orders\"\n                                subText={ordersValue}\n                            >\n                                <AccountOrders {...this.props}>\n                                    <tbody>\n                                        <tr className=\"total-value\">\n                                            <td\n                                                colSpan=\"7\"\n                                                style={{textAlign: \"right\"}}\n                                            >\n                                                {totalValueText}\n                                            </td>\n                                            <td\n                                                colSpan=\"2\"\n                                                style={{textAlign: \"left\"}}\n                                            >\n                                                {ordersValue}\n                                            </td>\n                                            {this.props.isMyAccount ? (\n                                                <td />\n                                            ) : null}\n                                        </tr>\n                                    </tbody>\n                                </AccountOrders>\n                            </Tab>\n\n                            <Tab\n                                title=\"account.collaterals\"\n                                subText={\n                                    <span\n                                        className={\n                                            this.state.globalMarginStatus\n                                        }\n                                    >\n                                        {marginValue}\n                                    </span>\n                                }\n                            >\n                                <div className=\"content-block\">\n                                    <div className=\"generic-bordered-box\">\n                                        <MarginPositions\n                                            preferredUnit={preferredUnit}\n                                            className=\"dashboard-table\"\n                                            callOrders={call_orders}\n                                            account={account}\n                                        >\n                                            <tr className=\"total-value\">\n                                                <td>{totalValueText}</td>\n                                                <td />\n                                                <td>{debtValue}</td>\n                                                <td className=\"column-hide-medium\">\n                                                    {collateralValue}\n                                                </td>\n                                                <td />\n                                                <td>{marginValue}</td>\n                                                <td className=\"column-hide-small\" />\n                                                <td className=\"column-hide-small\" />\n                                                <td colSpan=\"3\" />\n                                            </tr>\n                                        </MarginPositions>\n                                    </div>\n                                </div>\n                            </Tab>\n\n                            <Tab\n                                title=\"account.activity\"\n                                subText={hiddenSubText}\n                            >\n                                <RecentTransactions\n                                    accountsList={Immutable.fromJS([\n                                        account.get(\"id\")\n                                    ])}\n                                    compactView={false}\n                                    showMore={true}\n                                    fullHeight={true}\n                                    limit={15}\n                                    showFilters={true}\n                                    dashboard\n                                />\n                            </Tab>\n\n                            {account.get(\"proposals\") &&\n                            account.get(\"proposals\").size ? (\n                                <Tab\n                                    title=\"explorer.proposals.title\"\n                                    subText={String(\n                                        account.get(\"proposals\")\n                                            ? account.get(\"proposals\").size\n                                            : 0\n                                    )}\n                                >\n                                    <Proposals\n                                        className=\"dashboard-table\"\n                                        account={account.get(\"id\")}\n                                    />\n                                </Tab>\n                            ) : null}\n                        </Tabs>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nAccountOverview = AssetWrapper(AccountOverview, {propNames: [\"core_asset\"]});\n\nexport default class AccountOverviewWrapper extends React.Component {\n    render() {\n        return <BalanceWrapper {...this.props} wrap={AccountOverview} />;\n    }\n}\n","import React from \"react\";\nimport FormattedAsset from \"../Utility/FormattedAsset\";\nimport FormattedPrice from \"../Utility/FormattedPrice\";\nimport ChainTypes from \"../Utility/ChainTypes\";\nimport BindToChainState from \"../Utility/BindToChainState\";\nimport AssetWrapper from \"../Utility/AssetWrapper\";\nimport AssetImage from \"../Utility/AssetImage\";\nimport AssetName from \"../Utility/AssetName\";\nimport BorrowModal from \"../Modal/BorrowModal\";\nimport WalletApi from \"api/WalletApi\";\nimport {ChainStore} from \"bitsharesjs\";\nimport WalletDb from \"stores/WalletDb\";\nimport Translate from \"react-translate-component\";\nimport utils from \"common/utils\";\nimport counterpart from \"counterpart\";\nimport Icon from \"../Icon/Icon\";\nimport TotalBalanceValue from \"../Utility/TotalBalanceValue\";\nimport {List} from \"immutable\";\nimport {Link} from \"react-router-dom\";\nimport TranslateWithLinks from \"../Utility/TranslateWithLinks\";\nimport Immutable from \"immutable\";\n\nconst alignRight = {textAlign: \"right\"};\nconst alignLeft = {textAlign: \"left\"};\n/**\n *  Given a collateral position object (call order) and account,\n *  display it in a pretty way\n *\n *  Expects property, 'object' which should be a call order id\n *  and another property called 'account' which should be an\n *  account.\n */\n\nclass MarginPosition extends React.Component {\n    static propTypes = {\n        debtAsset: ChainTypes.ChainAsset.isRequired,\n        collateralAsset: ChainTypes.ChainAsset.isRequired\n    };\n\n    static defaultProps = {\n        tempComponent: \"tr\"\n    };\n\n    _onUpdatePosition(e) {\n        e.preventDefault();\n        let ref =\n            \"cp_modal_\" +\n            this.props.object.getIn([\"call_price\", \"quote\", \"asset_id\"]);\n        this.refs[ref].show();\n    }\n\n    _onClosePosition(e) {\n        e.preventDefault();\n        let tr = WalletApi.new_transaction();\n\n        tr.add_type_operation(\"call_order_update\", {\n            fee: {\n                amount: 0,\n                asset_id: 0\n            },\n            funding_account: this.props.object.get(\"borrower\"),\n            delta_collateral: {\n                amount: -this.props.object.get(\"collateral\"),\n                asset_id: this.props.object.getIn([\n                    \"call_price\",\n                    \"base\",\n                    \"asset_id\"\n                ])\n            },\n            delta_debt: {\n                amount: -this.props.object.get(\"debt\"),\n                asset_id: this.props.object.getIn([\n                    \"call_price\",\n                    \"quote\",\n                    \"asset_id\"\n                ])\n            }\n        });\n\n        WalletDb.process_transaction(tr, null, true);\n    }\n\n    // how many units of the debt asset the borrower has\n    // in his/her wallet. This has nothing to do with\n    // how many of the asset the borrower has borrowed.\n    _getBalance() {\n        let account = this.props.account;\n        // the debt asset id which we want to display\n        let row_asset_id = this.props.object.getIn([\n            \"call_price\",\n            \"quote\",\n            \"asset_id\"\n        ]);\n\n        let account_balances = account.get(\"balances\");\n\n        let balance = 0;\n\n        // really this iteration should be called once, and\n        // each asset_id matched once with its balance\n\n        // for every debt the account has, we iterate\n        // through every balance the user has\n        if (account_balances) {\n            account_balances.forEach((a, asset_type) => {\n                if (asset_type == row_asset_id) {\n                    let balanceObject = ChainStore.getObject(a);\n\n                    // get the balance\n                    balance = balanceObject.get(\"balance\");\n                }\n            });\n        }\n\n        // it's possible that the account doesn't hold\n        // any of the asset here\n        return balance;\n    }\n\n    _getFeedPrice() {\n        if (!this.props) {\n            return 1;\n        }\n\n        return (\n            1 /\n            utils.get_asset_price(\n                this.props.debtAsset.getIn([\n                    \"bitasset\",\n                    \"current_feed\",\n                    \"settlement_price\",\n                    \"quote\",\n                    \"amount\"\n                ]),\n                this.props.collateralAsset,\n                this.props.debtAsset.getIn([\n                    \"bitasset\",\n                    \"current_feed\",\n                    \"settlement_price\",\n                    \"base\",\n                    \"amount\"\n                ]),\n                this.props.debtAsset\n            )\n        );\n    }\n\n    _getCollateralRatio() {\n        const co = this.props.object.toJS();\n        const c = utils.get_asset_amount(\n            co.collateral,\n            this.props.collateralAsset\n        );\n        const d = utils.get_asset_amount(co.debt, this.props.debtAsset);\n        return c / (d / this._getFeedPrice());\n    }\n\n    _getMR() {\n        return (\n            this.props.debtAsset.getIn([\n                \"bitasset\",\n                \"current_feed\",\n                \"maintenance_collateral_ratio\"\n            ]) / 1000\n        );\n    }\n\n    _getStatusClass() {\n        let cr = this._getCollateralRatio();\n        const mr = this._getMR();\n\n        if (isNaN(cr)) return null;\n        if (cr < mr) {\n            return \"danger\";\n        } else if (cr < mr + 0.5) {\n            return \"warning\";\n        } else {\n            return \"\";\n        }\n    }\n\n    _getCRTip() {\n        const statusClass = this._getStatusClass();\n        const mr = this._getMR();\n        if (!statusClass || statusClass === \"\") return null;\n\n        if (statusClass === \"danger\") {\n            return counterpart.translate(\"tooltip.cr_danger\", {mr});\n        } else if (statusClass === \"warning\") {\n            return counterpart.translate(\"tooltip.cr_warning\", {mr});\n        } else {\n            return null;\n        }\n    }\n\n    render() {\n        let {debtAsset, collateralAsset, object} = this.props;\n        const co = object.toJS();\n        const cr = this._getCollateralRatio();\n        const d = utils.get_asset_amount(co.debt, this.props.debtAsset);\n        const balance = this._getBalance();\n\n        const statusClass = this._getStatusClass();\n\n        return (\n            <tr className=\"margin-row\">\n                <td style={alignLeft}>\n                    <AssetImage\n                        replaceNoneToBts={false}\n                        maxWidth={30}\n                        name={debtAsset.get(\"symbol\")}\n                    />\n                    <Link to={`/asset/${debtAsset.get(\"symbol\")}`}>\n                        <AssetName noTip name={debtAsset.get(\"symbol\")} />\n                    </Link>\n                </td>\n                <td style={alignRight}>\n                    <FormattedAsset\n                        amount={balance}\n                        asset={co.call_price.quote.asset_id}\n                        hide_asset\n                    />\n                </td>\n                <td style={alignRight}>\n                    <FormattedAsset\n                        amount={co.debt}\n                        asset={co.call_price.quote.asset_id}\n                        hide_asset\n                    />\n                </td>\n                <td style={alignRight} className=\"column-hide-medium\">\n                    <FormattedAsset\n                        decimalOffset={5}\n                        amount={co.collateral}\n                        asset={co.call_price.base.asset_id}\n                    />\n                </td>\n                <td\n                    data-place=\"bottom\"\n                    data-tip={this._getCRTip()}\n                    className={\"center-content \" + statusClass}\n                >\n                    {utils.format_number(cr, 2)}\n                </td>\n                <td style={alignRight}>\n                    <TotalBalanceValue\n                        noTip\n                        balances={List()}\n                        debt={{[debtAsset.get(\"id\")]: co.debt}}\n                        collateral={{\n                            [collateralAsset.get(\"id\")]: parseInt(\n                                co.collateral,\n                                10\n                            )\n                        }}\n                        hide_asset\n                    />\n                </td>\n                <td style={alignRight} className={\"column-hide-small\"}>\n                    <FormattedPrice\n                        base_amount={co.call_price.base.amount}\n                        base_asset={co.call_price.base.asset_id}\n                        quote_amount={co.call_price.quote.amount}\n                        quote_asset={co.call_price.quote.asset_id}\n                        hide_symbols\n                    />\n                </td>\n                <td style={alignRight} className={\"column-hide-small\"}>\n                    <FormattedPrice\n                        base_amount={debtAsset.getIn([\n                            \"bitasset\",\n                            \"current_feed\",\n                            \"settlement_price\",\n                            \"base\",\n                            \"amount\"\n                        ])}\n                        base_asset={co.call_price.quote.asset_id}\n                        quote_amount={debtAsset.getIn([\n                            \"bitasset\",\n                            \"current_feed\",\n                            \"settlement_price\",\n                            \"quote\",\n                            \"amount\"\n                        ])}\n                        quote_asset={co.call_price.base.asset_id}\n                        hide_symbols\n                    />\n                </td>\n                <td\n                    className={\"center-content column-hide-small\"}\n                    style={alignLeft}\n                >\n                    <FormattedPrice\n                        base_amount={co.call_price.base.amount}\n                        base_asset={co.call_price.base.asset_id}\n                        quote_amount={co.call_price.quote.amount}\n                        quote_asset={co.call_price.quote.asset_id}\n                        hide_value\n                    />\n                </td>\n                {/* <td><AssetName name={debtAsset.get(\"symbol\")} />/<AssetName name={collateralAsset.get(\"symbol\")} /></td> */}\n\n                <td>\n                    <div\n                        data-place=\"left\"\n                        data-tip={counterpart.translate(\n                            \"tooltip.update_position\"\n                        )}\n                        style={{paddingBottom: 5}}\n                    >\n                        <a onClick={this._onUpdatePosition.bind(this)}>\n                            <Icon\n                                name=\"adjust\"\n                                title=\"icons.adjust\"\n                                className=\"icon-14px rotate90\"\n                            />\n                        </a>\n                    </div>\n                </td>\n                <td>\n                    <div\n                        data-place=\"left\"\n                        data-tip={counterpart.translate(\n                            \"tooltip.close_position\",\n                            {amount: d, asset: debtAsset.get(\"symbol\")}\n                        )}\n                        style={{paddingBottom: 5}}\n                    >\n                        <a onClick={this._onClosePosition.bind(this)}>\n                            <Icon\n                                name=\"cross-circle\"\n                                title=\"icons.cross_circle.close_position\"\n                                className=\"icon-14px\"\n                            />\n                        </a>\n                    </div>\n                    {debtAsset ? (\n                        <BorrowModal\n                            ref={\"cp_modal_\" + co.call_price.quote.asset_id}\n                            modalId={\"cp_modal_\" + co.call_price.quote.asset_id}\n                            quote_asset={co.call_price.quote.asset_id}\n                            backing_asset={debtAsset.getIn([\n                                \"bitasset\",\n                                \"options\",\n                                \"short_backing_asset\"\n                            ])}\n                            account={this.props.account}\n                        />\n                    ) : null}\n                </td>\n            </tr>\n        );\n    }\n}\nMarginPosition = BindToChainState(MarginPosition);\n\nclass MarginPositionWrapper extends React.Component {\n    static propTypes = {\n        object: ChainTypes.ChainObject.isRequired\n    };\n\n    render() {\n        let {object, account} = this.props;\n        let debtAsset = object.getIn([\"call_price\", \"quote\", \"asset_id\"]);\n        let collateralAsset = object.getIn([\"call_price\", \"base\", \"asset_id\"]);\n\n        return (\n            <MarginPosition\n                debtAsset={debtAsset}\n                collateralAsset={collateralAsset}\n                account={account}\n                {...this.props}\n            />\n        );\n    }\n}\n\nMarginPositionWrapper = BindToChainState(MarginPositionWrapper);\n\nclass MarginPositionPlaceHolder extends React.Component {\n    static propTypes = {\n        debtAsset: ChainTypes.ChainAsset.isRequired,\n        collateralAsset: ChainTypes.ChainAsset.isRequired\n    };\n\n    static defaultProps = {\n        tempComponent: \"tr\"\n    };\n\n    _onUpdatePosition(e) {\n        e.preventDefault();\n        let ref = \"cp_modal_\" + this.props.debtAsset.get(\"id\");\n        this.refs[ref].show();\n    }\n\n    _getFeedPrice() {\n        if (!this.props) {\n            return 1;\n        }\n\n        return (\n            1 /\n            utils.get_asset_price(\n                this.props.debtAsset.getIn([\n                    \"bitasset\",\n                    \"current_feed\",\n                    \"settlement_price\",\n                    \"quote\",\n                    \"amount\"\n                ]),\n                this.props.collateralAsset,\n                this.props.debtAsset.getIn([\n                    \"bitasset\",\n                    \"current_feed\",\n                    \"settlement_price\",\n                    \"base\",\n                    \"amount\"\n                ]),\n                this.props.debtAsset\n            )\n        );\n    }\n\n    render() {\n        let {debtAsset, collateralAsset, account} = this.props;\n\n        // get the balance\n\n        // the debt asset id which we want to display\n        let row_asset_id = debtAsset.get(\"id\");\n\n        let account_balances = account.get(\"balances\");\n\n        let balance = 0;\n\n        // really this iteration should be called once, and\n        // each asset_id matched once with its balance\n\n        // for every debt the account has, we iterate\n        // through every balance the user has\n        if (account_balances) {\n            account_balances.forEach((a, asset_type) => {\n                if (asset_type == row_asset_id) {\n                    let balanceObject = ChainStore.getObject(a);\n\n                    // get the balance\n                    balance = balanceObject.get(\"balance\");\n                }\n            });\n        }\n\n        return (\n            <tr className=\"margin-row\">\n                <td style={alignLeft}>\n                    <AssetImage\n                        replaceNoneToBts={false}\n                        maxWidth={30}\n                        name={debtAsset.get(\"symbol\")}\n                    />\n                    <Link to={`/asset/${debtAsset.get(\"symbol\")}`}>\n                        <AssetName noTip name={debtAsset.get(\"symbol\")} />\n                    </Link>\n                </td>\n                <td style={alignRight}>\n                    <FormattedAsset\n                        amount={balance}\n                        asset={debtAsset.get(\"id\")}\n                        hide_asset\n                    />\n                </td>\n                <td style={alignRight}>\n                    <FormattedAsset\n                        amount={0}\n                        asset={debtAsset.get(\"id\")}\n                        hide_asset\n                    />\n                </td>\n                <td style={alignRight} className=\"column-hide-medium\">\n                    <FormattedAsset\n                        decimalOffset={5}\n                        amount={0}\n                        asset={collateralAsset.get(\"id\")}\n                    />\n                </td>\n                <td />\n                <td style={alignRight} />\n                <td style={alignRight} className={\"column-hide-small\"} />\n                <td style={alignRight} className={\"column-hide-small\"} />\n                <td\n                    className={\"center-content column-hide-small\"}\n                    style={alignLeft}\n                />\n                {/* <td><AssetName name={debtAsset.get(\"symbol\")} />/<AssetName name={collateralAsset.get(\"symbol\")} /></td> */}\n\n                <td>\n                    <div\n                        data-place=\"left\"\n                        data-tip={counterpart.translate(\n                            \"tooltip.update_position\"\n                        )}\n                        style={{paddingBottom: 5}}\n                    >\n                        <a onClick={this._onUpdatePosition.bind(this)}>\n                            <Icon\n                                name=\"adjust\"\n                                title=\"icons.adjust\"\n                                className=\"icon-14px rotate90\"\n                            />\n                        </a>\n                    </div>\n                </td>\n                <td>\n                    {debtAsset ? (\n                        <BorrowModal\n                            ref={\"cp_modal_\" + debtAsset.get(\"id\")}\n                            modalId={\"cp_modal_\" + debtAsset.get(\"id\")}\n                            quote_asset={debtAsset.get(\"id\")}\n                            backing_asset={debtAsset.getIn([\n                                \"bitasset\",\n                                \"options\",\n                                \"short_backing_asset\"\n                            ])}\n                            account={this.props.account}\n                        />\n                    ) : null}\n                </td>\n            </tr>\n        );\n    }\n}\n\nMarginPositionPlaceHolder = BindToChainState(MarginPositionPlaceHolder);\n\nclass PlaceHolderWrapper extends React.Component {\n    static propTypes = {\n        callOrders: ChainTypes.ChainObjectsList\n    };\n\n    render() {\n        let {account, callOrders, bitAssets} = this.props;\n        callOrders = callOrders.filter(o => !!o);\n        bitAssets = bitAssets.filter(o => !!o);\n        if (!bitAssets.length) return null;\n        callOrders.forEach(object => {\n            /*\n            * Existing call orders are already rendered elsewhere, so we filter\n            * out assets from the bitAssets list for which the account already\n            * has a position\n            */\n            if (object) {\n                let index = bitAssets.findIndex(o => {\n                    return (\n                        o &&\n                        o.get(\"id\") ===\n                            object.getIn([\"call_price\", \"quote\", \"asset_id\"])\n                    );\n                });\n                if (index !== -1) {\n                    bitAssets.splice(index, 1);\n                }\n            }\n        });\n\n        if (!bitAssets.length) return null;\n        let rows = bitAssets.map(a => {\n            return (\n                <MarginPositionPlaceHolder\n                    key={a.get(\"id\")}\n                    debtAsset={a.get(\"id\")}\n                    collateralAsset={a.getIn([\n                        \"bitasset\",\n                        \"options\",\n                        \"short_backing_asset\"\n                    ])}\n                    account={account}\n                    {...this.props}\n                />\n            );\n        });\n\n        return <tbody>{rows}</tbody>;\n    }\n}\n\nPlaceHolderWrapper = BindToChainState(PlaceHolderWrapper);\nPlaceHolderWrapper = AssetWrapper(PlaceHolderWrapper, {\n    propNames: [\"bitAssets\"],\n    defaultProps: {\n        bitAssets: [\n            \"1.3.103\",\n            \"1.3.113\",\n            \"1.3.120\",\n            \"1.3.121\",\n            \"1.3.958\",\n            \"1.3.1325\",\n            \"1.3.1362\",\n            \"1.3.105\",\n            \"1.3.106\"\n        ]\n    },\n    asList: true\n});\n\nconst CollateralTable = ({\n    callOrders,\n    account,\n    className,\n    children,\n    preferredUnit\n}) => {\n    return (\n        <table className={\"table table-hover \" + className}>\n            <thead>\n                <tr>\n                    <th style={alignLeft}>\n                        <Translate content=\"explorer.asset.title\" />\n                    </th>\n                    <th style={alignRight}>\n                        <Translate content=\"exchange.balance\" />\n                    </th>\n                    <th style={alignRight}>\n                        <Translate content=\"transaction.borrow_amount\" />\n                    </th>\n                    <th style={alignRight} className=\"column-hide-medium\">\n                        <Translate content=\"transaction.collateral\" />\n                    </th>\n                    <th>\n                        <div\n                            className=\"tooltip inline-block\"\n                            data-place=\"top\"\n                            data-tip={counterpart.translate(\n                                \"tooltip.coll_ratio\"\n                            )}\n                        >\n                            <Translate content=\"borrow.coll_ratio\" />\n                        </div>\n                    </th>\n                    <th>\n                        <TranslateWithLinks\n                            noLink\n                            string=\"account.total\"\n                            keys={[\n                                {\n                                    type: \"asset\",\n                                    value: preferredUnit,\n                                    arg: \"asset\"\n                                }\n                            ]}\n                        />\n                    </th>\n                    <th style={alignRight} className=\"column-hide-small\">\n                        <div\n                            className=\"tooltip inline-block\"\n                            data-place=\"top\"\n                            data-tip={counterpart.translate(\n                                \"tooltip.call_price\"\n                            )}\n                        >\n                            <Translate content=\"exchange.call\" />\n                        </div>\n                    </th>\n                    <th style={alignRight} className=\"column-hide-small\">\n                        <Translate content=\"exchange.price\" />\n                    </th>\n                    <th className=\"column-hide-small\" style={alignLeft}>\n                        <Translate content=\"explorer.assets.units\" />\n                    </th>\n                    <th>\n                        <Translate content=\"borrow.adjust_short\" />\n                    </th>\n                    <th>\n                        <Translate content=\"transfer.close\" />\n                    </th>\n                </tr>\n            </thead>\n            <tbody>\n                {callOrders\n                    .sort((a, b) => a.split(\".\")[2] - b.split(\".\")[2])\n                    .map(id => (\n                        <MarginPositionWrapper\n                            key={id}\n                            object={id}\n                            account={account}\n                        />\n                    ))}\n            </tbody>\n            <PlaceHolderWrapper\n                account={account}\n                callOrders={Immutable.List(callOrders)}\n            />\n            <tbody>{children}</tbody>\n        </table>\n    );\n};\n\nexport default CollateralTable;\n","import React from \"react\";\nimport {Component} from \"react\";\nimport Translate from \"react-translate-component\";\nimport ProposedOperation, {\n    TransactionIDAndExpiry\n} from \"components/Blockchain/ProposedOperation\";\nimport BindToChainState from \"components/Utility/BindToChainState\";\nimport ChainTypes from \"components/Utility/ChainTypes\";\nimport utils from \"common/utils\";\nimport ProposalApproveModal, {\n    finalRequiredPerms\n} from \"../Modal/ProposalApproveModal\";\nimport NestedApprovalState from \"../Account/NestedApprovalState\";\nimport {ChainStore} from \"bitsharesjs\";\nimport counterpart from \"counterpart\";\nimport pu from \"common/permission_utils\";\nimport LinkToAccountById from \"../Utility/LinkToAccountById\";\nimport AccountStore from \"stores/AccountStore\";\n\nclass Proposals extends Component {\n    static propTypes = {\n        account: ChainTypes.ChainAccount.isRequired\n    };\n\n    constructor() {\n        super();\n\n        this.forceUpdate = this.forceUpdate.bind(this);\n    }\n\n    componentDidMount() {\n        /*\n        * Account objects don't get updated by underlying proposal changes, but\n        * the ChainStore does, so in order to update this component when a proposal\n        * changes, we need to update it whenever the ChainStore itself updates\n        */\n        ChainStore.subscribe(this.forceUpdate);\n    }\n\n    componentWillUnmount() {\n        ChainStore.unsubscribe(this.forceUpdate);\n    }\n\n    _onApproveModal(id, action) {\n        if (this.refs[id + \"_\" + action]) {\n            this.refs[id + \"_\" + action].show();\n        }\n    }\n\n    _canReject(proposal) {\n        return (\n            proposal.available_active_approvals.length ||\n            proposal.available_owner_approvals.length ||\n            proposal.available_key_approvals.length\n        );\n    }\n\n    render() {\n        let {account} = this.props;\n        if (!account) return null;\n\n        let proposals = [];\n\n        if (account.get(\"proposals\").size) {\n            account.get(\"proposals\").forEach(proposal_id => {\n                var proposal = ChainStore.getObject(proposal_id);\n                if (proposal) {\n                    var proposed_transaction = proposal.get(\n                        \"proposed_transaction\"\n                    );\n                    var operations = proposed_transaction.get(\"operations\");\n                    proposals.push({operations, account, proposal});\n                }\n            });\n        }\n\n        let proposalRows = proposals\n            .sort((a, b) => {\n                return utils.sortID(\n                    a.proposal.get(\"id\"),\n                    b.proposal.get(\"id\"),\n                    true\n                );\n            })\n            .reduce((result, proposal, index) => {\n                let isScam = false;\n                const id = proposal.proposal.get(\"id\");\n                const proposer = proposal.proposal.get(\"proposer\");\n                const expiration = proposal.proposal.get(\"expiration_time\");\n                let text = proposal.operations\n                    .map((o, index) => {\n                        if (o.getIn([1, \"to\"]) === \"1.2.153124\") isScam = true;\n                        return (\n                            <ProposedOperation\n                                key={\n                                    proposal.proposal.get(\"id\") +\n                                    \"_operation_\" +\n                                    index\n                                }\n                                expiration={expiration}\n                                index={index}\n                                op={o.toJS()}\n                                inverted={false}\n                                hideFee={true}\n                                hideOpLabel={true}\n                                hideExpiration\n                                hideDate={true}\n                                proposal={true}\n                                id={id}\n                                proposer={proposer}\n                            />\n                        );\n                    })\n                    .toArray();\n\n                let canReject = this._canReject(proposal.proposal.toJS());\n                let proposalId = proposal.proposal.get(\"id\");\n\n                let type = proposal.proposal.get(\"required_active_approvals\")\n                    .size\n                    ? \"active\"\n                    : \"owner\";\n                result.push(\n                    <tr key={`${proposalId}_id`}>\n                        <td\n                            colSpan=\"4\"\n                            className={\n                                \"proposal\" + (index === 0 ? \" first\" : \"\")\n                            }\n                        >\n                            <TransactionIDAndExpiry\n                                id={id}\n                                expiration={expiration}\n                            />\n                        </td>\n                    </tr>\n                );\n\n                const available = pu.listToIDs(\n                    proposal.proposal.get(`available_${type}_approvals`)\n                );\n                const availableKeys = pu.listToIDs(\n                    proposal.proposal.get(\"available_key_approvals\")\n                );\n\n                const required = pu.listToIDs(\n                    proposal.proposal.get(`required_${type}_approvals`)\n                );\n                const requiredPermissions = pu.unnest(required, type);\n\n                const [accounts, keys] = finalRequiredPerms(\n                    requiredPermissions,\n                    available,\n                    availableKeys\n                );\n\n                const accountNames = [];\n\n                if (accounts.length) {\n                    accounts.forEach(account => {\n                        if (\n                            account &&\n                            !proposal.proposal\n                                .get(`available_${type}_approvals`)\n                                .includes(account)\n                        ) {\n                            accountNames.push(account);\n                        }\n                    });\n                }\n\n                const keyNames = [];\n                if (keys.length) {\n                    keys.forEach(key => {\n                        let isMine = AccountStore.isMyKey(key);\n                        if (\n                            isMine &&\n                            !proposal.proposal\n                                .get(\"available_key_approvals\")\n                                .includes(key)\n                        ) {\n                            keyNames.push(key);\n                        }\n                    });\n                }\n\n                const canApprove = accountNames.length + keyNames.length > 0;\n\n                result.push(\n                    <tr\n                        className=\"top-left-align\"\n                        key={`${proposalId}_content`}\n                    >\n                        <td>{text}</td>\n                        <td>\n                            {requiredPermissions.map((account, index) => (\n                                <div\n                                    className=\"list-item\"\n                                    key={`${proposalId}_approver_${index}`}\n                                >\n                                    <LinkToAccountById\n                                        subpage=\"permissions\"\n                                        account={account.id}\n                                    />\n                                </div>\n                            ))}\n                        </td>\n                        <td>\n                            <NestedApprovalState\n                                proposal={proposal.proposal.get(\"id\")}\n                                type={type}\n                            />\n                        </td>\n                        <td className=\"approval-buttons\">\n                            {isScam ? (\n                                <div\n                                    data-tip={counterpart.translate(\n                                        \"tooltip.propose_scam\"\n                                    )}\n                                    className=\"tooltip has-error scam-error\"\n                                >\n                                    SCAM\n                                </div>\n                            ) : (\n                                <button\n                                    onClick={\n                                        canApprove\n                                            ? this._onApproveModal.bind(\n                                                  this,\n                                                  proposalId,\n                                                  \"approve\"\n                                              )\n                                            : () => {}\n                                    }\n                                    className={\n                                        \"button primary hollow\" +\n                                        (canApprove ? \"\" : \" hidden\")\n                                    }\n                                >\n                                    <span>\n                                        <Translate content=\"proposal.approve\" />\n                                    </span>\n                                </button>\n                            )}\n                            <ProposalApproveModal\n                                ref={proposalId + \"_\" + \"approve\"}\n                                modalId={proposalId + \"_\" + \"approve\"}\n                                account={proposal.account.get(\"id\")}\n                                proposal={proposalId}\n                                action=\"approve\"\n                            />\n                            {canReject ? (\n                                <button\n                                    onClick={this._onApproveModal.bind(\n                                        this,\n                                        proposalId,\n                                        \"reject\"\n                                    )}\n                                    className=\"button primary hollow\"\n                                >\n                                    <Translate content=\"proposal.reject\" />\n                                </button>\n                            ) : null}\n                            <ProposalApproveModal\n                                ref={proposalId + \"_\" + \"reject\"}\n                                modalId={proposalId + \"_\" + \"reject\"}\n                                account={proposal.account.get(\"id\")}\n                                proposal={proposalId}\n                                action=\"reject\"\n                            />\n                        </td>\n                    </tr>\n                );\n                result.push(\n                    <tr key={`${proposalId}_separator`}>\n                        <td colSpan=\"4\">\n                            <hr />\n                        </td>\n                    </tr>\n                );\n                return result;\n            }, []);\n\n        return (\n            <table\n                className={\"table proposals compact \" + this.props.className}\n            >\n                <thead>\n                    <tr>\n                        <th>\n                            <Translate content=\"proposal.proposals\" />\n                        </th>\n                        <th>\n                            <Translate content=\"proposal.approvers\" />\n                        </th>\n                        <th>\n                            <Translate content=\"proposal.status\" />\n                        </th>\n                        <th>\n                            <Translate content=\"proposal.action\" />\n                        </th>\n                    </tr>\n                </thead>\n                <tbody>{proposalRows}</tbody>\n            </table>\n        );\n    }\n}\n\nexport default BindToChainState(Proposals);\n","import React from \"react\";\nimport ZfApi from \"react-foundation-apps/src/utils/foundation-api\";\nimport BaseModal from \"./BaseModal\";\nimport Translate from \"react-translate-component\";\nimport ChainTypes from \"../Utility/ChainTypes\";\nimport BindToChainState from \"../Utility/BindToChainState\";\nimport AccountSelect from \"components/Forms/AccountSelect\";\nimport AccountStore from \"stores/AccountStore\";\nimport WalletDb from \"stores/WalletDb\";\nimport WalletApi from \"api/WalletApi\";\nimport NestedApprovalState from \"../Account/NestedApprovalState\";\nimport pu from \"common/permission_utils\";\nimport {ChainStore} from \"bitsharesjs\";\n\nexport const finalRequiredPerms = (\n    requiredPermissions,\n    available,\n    availableKeys\n) => {\n    let finalRequired = [];\n\n    requiredPermissions.forEach(account => {\n        finalRequired = finalRequired.concat(account.getMissingSigs(available));\n    });\n\n    let finalRequiredKeys = [];\n\n    requiredPermissions.forEach(account => {\n        finalRequiredKeys = finalRequiredKeys.concat(\n            account.getMissingKeys(availableKeys)\n        );\n    });\n\n    return [finalRequired, finalRequiredKeys];\n};\n\nclass ProposalApproveModal extends React.Component {\n    static propTypes = {\n        accounts: ChainTypes.ChainAccountsList\n    };\n\n    constructor(props) {\n        super();\n        this.state = {\n            active: null,\n            key: null,\n            owner: null,\n            payee: null\n        };\n    }\n\n    onActiveAccount(accountMap, keyMap, type, account) {\n        let newState = {};\n\n        if (keyMap[account]) {\n            newState[\"key\"] = account;\n            newState[type] = null;\n        } else if (account) {\n            newState[type] = accountMap[account];\n            newState[\"key\"] = null;\n        } else {\n            newState[type] = null;\n            newState[\"key\"] = null;\n        }\n        this.setState(newState);\n    }\n\n    _onProposalAction(oldProposal) {\n        let proposalObject = oldProposal.toJS();\n        let {active, key, owner, payee} = this.state;\n\n        let proposal = {\n            fee_paying_account: payee || active,\n            proposal: proposalObject.id,\n            active_approvals_to_add: [],\n            active_approvals_to_remove: [],\n            owner_approvals_to_add: [],\n            owner_approvals_to_remove: [],\n            key_approvals_to_add: [],\n            key_approvals_to_remove: []\n        };\n\n        let isAdd = this.props.action === \"approve\";\n\n        let neededKeys = [];\n\n        [\"active\", \"owner\", \"key\"].forEach(auth_type => {\n            let value = this.state[auth_type];\n            if (value) {\n                let hasValue =\n                    proposalObject[`available_${auth_type}_approvals`].indexOf(\n                        value\n                    ) !== -1;\n                if ((isAdd && !hasValue) || (!isAdd && hasValue)) {\n                    if (this.props.action === \"approve\") {\n                        proposal[`${auth_type}_approvals_to_add`] = [value];\n                        if (auth_type === \"key\") neededKeys.push(value);\n                    } else if (this.props.action === \"reject\") {\n                        proposal[`${auth_type}_approvals_to_remove`] = [value];\n                        if (auth_type === \"key\") neededKeys.push(value);\n                    }\n                }\n            }\n        });\n\n        var tr = WalletApi.new_transaction();\n        tr.add_type_operation(\"proposal_update\", proposal);\n        WalletDb.process_transaction(tr, null, true, neededKeys);\n\n        ZfApi.publish(this.props.modalId, \"close\");\n    }\n\n    onChangePayee(account) {\n        let fullAccount = ChainStore.getAccount(account);\n\n        if (fullAccount) {\n            this.setState({\n                payee: fullAccount.get(\"id\")\n            });\n        }\n    }\n\n    onCancel() {\n        ZfApi.publish(this.props.modalId, \"close\");\n    }\n\n    render() {\n        let {proposal, type} = this.props;\n\n        let accountNames = [];\n        let accountMap = {};\n        let isAdd = this.props.action === \"approve\";\n\n        if (this.props.accounts.length) {\n            this.props.accounts.forEach(account => {\n                let accountCheck = isAdd\n                    ? account &&\n                      !proposal\n                          .get(`available_${type}_approvals`)\n                          .includes(account.get(\"id\"))\n                    : account &&\n                      proposal\n                          .get(`available_${type}_approvals`)\n                          .includes(account.get(\"id\"));\n                if (accountCheck) {\n                    accountMap[account.get(\"name\")] = account.get(\"id\");\n                    accountNames.push(account.get(\"name\"));\n                }\n            });\n        }\n\n        let keyNames = [];\n        let keyMap = {};\n        if (this.props.keys.length) {\n            this.props.keys.forEach(key => {\n                let isMine = AccountStore.isMyKey(key);\n                let hasValue = proposal\n                    .get(\"available_key_approvals\")\n                    .includes(key);\n                if (\n                    (isMine && isAdd && !hasValue) ||\n                    (isMine && !isAdd && hasValue)\n                ) {\n                    keyMap[key] = true;\n                    keyNames.push(key);\n                }\n            });\n        }\n\n        let myAccounts = AccountStore.getMyAccounts();\n\n        return (\n            <form className=\"grid-block vertical full-width-content\">\n                <div className=\"grid-container\">\n                    <div className=\"content-block\">\n                        <h4>{isAdd ? \"Add approval\" : \"Remove approval\"}</h4>\n                    </div>\n                    <div\n                        className=\"content-block\"\n                        style={{paddingRight: \"20%\"}}\n                    >\n                        <NestedApprovalState\n                            expanded\n                            proposal={proposal.get(\"id\")}\n                            type={type}\n                            added={\n                                isAdd\n                                    ? this.state.key\n                                        ? this.state.key\n                                        : this.state[type] || null\n                                    : null\n                            }\n                            removed={\n                                !isAdd\n                                    ? this.state.key\n                                        ? this.state.key\n                                        : this.state[type] || null\n                                    : null\n                            }\n                            noFail\n                        />\n                    </div>\n\n                    <div className=\"content-block full-width-content\">\n                        <div className=\"full-width-content form-group\">\n                            <Translate\n                                content=\"modal.proposals.pay_with\"\n                                component=\"label\"\n                            />\n                            <AccountSelect\n                                account_names={myAccounts}\n                                onChange={this.onChangePayee.bind(this)}\n                            />\n                        </div>\n\n                        {accountNames.length || keyNames.length ? (\n                            <div className=\"full-width-content form-group\">\n                                <Translate\n                                    content={`modal.proposals.approval_${\n                                        isAdd ? \"add\" : \"remove\"\n                                    }`}\n                                    component=\"label\"\n                                />\n                                <AccountSelect\n                                    account_names={accountNames.concat(\n                                        keyNames\n                                    )}\n                                    onChange={this.onActiveAccount.bind(\n                                        this,\n                                        accountMap,\n                                        keyMap,\n                                        type\n                                    )}\n                                />\n                            </div>\n                        ) : null}\n\n                        {false && keyNames.length ? (\n                            <div className=\"full-width-content form-group\">\n                                <Translate\n                                    content={`modal.proposals.key_approval_${\n                                        isAdd ? \"add\" : \"remove\"\n                                    }`}\n                                    component=\"label\"\n                                />\n                                <AccountSelect\n                                    account_names={keyNames}\n                                    onChange={this.onActiveAccount.bind(\n                                        this,\n                                        keyMap,\n                                        \"key\"\n                                    )}\n                                />\n                            </div>\n                        ) : null}\n                    </div>\n\n                    <div className=\"content-block\">\n                        <input\n                            type=\"submit\"\n                            className=\"button\"\n                            onClick={this._onProposalAction.bind(\n                                this,\n                                proposal\n                            )}\n                            value={isAdd ? \"Approve\" : \"Remove\"}\n                        />\n                        <div\n                            onClick={this.onCancel.bind(this)}\n                            className=\" button\"\n                        >\n                            <Translate content=\"account.perm.cancel\" />\n                        </div>\n                    </div>\n                </div>\n            </form>\n        );\n    }\n}\nProposalApproveModal = BindToChainState(ProposalApproveModal);\n\nclass FirstLevel extends React.Component {\n    static propTypes = {\n        account: ChainTypes.ChainAccount.isRequired,\n        proposal: ChainTypes.ChainObject.isRequired\n    };\n\n    constructor() {\n        super();\n\n        this._updateState = this._updateState.bind(this);\n    }\n\n    componentWillMount() {\n        this._updateState();\n\n        ChainStore.subscribe(this._updateState);\n    }\n\n    componentWillUnmount() {\n        ChainStore.unsubscribe(this._updateState);\n    }\n\n    _updateState() {\n        let {proposal, account} = this.props;\n        let type = proposal.get(\"required_active_approvals\").size\n            ? \"active\"\n            : \"owner\";\n\n        let required = pu.listToIDs(proposal.get(`required_${type}_approvals`));\n        let available = pu.listToIDs(\n            proposal.get(`available_${type}_approvals`)\n        );\n        let availableKeys = pu.listToIDs(\n            proposal.get(\"available_key_approvals\")\n        );\n\n        this.setState({\n            requiredPermissions: pu.unnest(required, type),\n            available,\n            availableKeys,\n            type\n        });\n    }\n\n    render() {\n        let {action} = this.props;\n        let {requiredPermissions, available, availableKeys, type} = this.state;\n\n        const [finalRequired, finalRequiredKeys] = finalRequiredPerms(\n            requiredPermissions,\n            available,\n            availableKeys\n        );\n\n        return (\n            <ProposalApproveModal\n                {...this.props}\n                type={type}\n                accounts={action === \"approve\" ? finalRequired : available}\n                keys={action === \"approve\" ? finalRequiredKeys : availableKeys}\n            />\n        );\n    }\n}\nFirstLevel = BindToChainState(FirstLevel);\n\nexport default class ModalWrapper extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            open: false\n        };\n    }\n\n    componentDidMount() {\n        ZfApi.subscribe(this.props.modalId, (msg, data) => {\n            this.setState({\n                open: data === \"open\"\n            });\n        });\n    }\n\n    show() {\n        ZfApi.publish(this.props.modalId, \"open\");\n    }\n\n    render() {\n        let {modalId, proposal} = this.props;\n\n        return (\n            <BaseModal id={modalId} overlay={true} ref={modalId}>\n                {this.state.open ? (\n                    <div className=\"grid-block vertical\">\n                        <FirstLevel {...this.props} />\n                    </div>\n                ) : null}\n            </BaseModal>\n        );\n    }\n}\n","import React from \"react\";\nimport ChainTypes from \"../Utility/ChainTypes\";\nimport BindToChainState from \"../Utility/BindToChainState\";\nimport LinkToAccountById from \"../Utility/LinkToAccountById\";\nimport pu from \"common/permission_utils\";\nimport {cloneDeep} from \"lodash-es\";\nimport {ChainStore} from \"bitsharesjs\";\nimport {\n    AuthorityDepthOverflowWarning,\n    ChildAuthorityDepthOverflowWarning,\n    Pending,\n    Review,\n    Failed,\n    ExpandButton,\n    ApprovedIcon,\n    KeyPermissionBranch,\n    hasAuthorityDepthProblem,\n    isApproved,\n    statusText,\n    notNestdWeight\n} from \"./NestedApprovalStateLib\";\nimport PropTypes from \"prop-types\";\n\nclass AccountPermissionTree extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {expanded: !!props.expanded};\n    }\n    static propTypes = {\n        account: ChainTypes.ChainAccount.isRequired,\n        accounts: ChainTypes.ChainAccountsList,\n        level: PropTypes.number.isRequired\n    };\n\n    static defaultProps = {\n        level: 0\n    };\n\n    handleExpandToggle = () => {\n        this.setState({expanded: !this.state.expanded});\n    };\n\n    render() {\n        const {\n            account,\n            available,\n            availableKeys,\n            permission,\n            threshold,\n            level,\n            maxAuthorityDepth,\n            hideRoot\n        } = this.props;\n        const {expanded} = this.state;\n\n        const isOK = isApproved(permission, available, availableKeys);\n        const isNested = permission.isNested();\n        const isMultiSig = permission.isMultiSig();\n\n        const notNestedWeight =\n            notNestdWeight(permission.weight, threshold) || 1;\n\n        const nestedWeight = statusText(permission, available, availableKeys);\n\n        const authorityDepthOverflow = level >= maxAuthorityDepth;\n\n        const rootPerm =\n            !isNested && !isMultiSig ? (\n                <tr>\n                    <td colSpan=\"2\">\n                        <ApprovedIcon approved={isOK} />\n                        <LinkToAccountById\n                            subpage=\"permissions\"\n                            account={account.get(\"id\")}\n                        />\n                    </td>\n                    <td>\n                        {!isNested && notNestedWeight\n                            ? `${\n                                  notNestedWeight &&\n                                  notNestedWeight.length === 2\n                                      ? \"\\u00A0\\u00A0\"\n                                      : \"\"\n                              }${notNestedWeight} `\n                            : null}\n                    </td>\n                </tr>\n            ) : (\n                <tr>\n                    <td colSpan=\"2\">\n                        <ApprovedIcon approved={isOK} />\n                        <LinkToAccountById\n                            subpage=\"permissions\"\n                            account={account.get(\"id\")}\n                        />\n                    </td>\n                    <td>\n                        {expanded ? (\n                            <span className={isOK ? \"success-text\" : \"\"}>\n                                {notNestedWeight}\n                            </span>\n                        ) : (\n                            notNestedWeight &&\n                            `${\n                                notNestedWeight && notNestedWeight.length === 2\n                                    ? \"\\u00A0\\u00A0\"\n                                    : \"\"\n                            }${notNestedWeight} `\n                        )}\n                        <ExpandButton\n                            onToggle={this.handleExpandToggle}\n                            expanded={expanded}\n                        />\n                        {expanded && (\n                            <span className=\"appended\">({nestedWeight})</span>\n                        )}\n                        {authorityDepthOverflow ? (\n                            <AuthorityDepthOverflowWarning />\n                        ) : (\n                            hasAuthorityDepthProblem(\n                                maxAuthorityDepth,\n                                permission,\n                                level\n                            ) &&\n                            !expanded && <ChildAuthorityDepthOverflowWarning />\n                        )}\n                    </td>\n                </tr>\n            );\n\n        const status = [];\n\n        if ((isNested || isMultiSig) && expanded) {\n            permission.accounts.forEach(subAccount => {\n                status.push(\n                    <BoundAccountPermissionTree\n                        key={subAccount.id}\n                        account={subAccount.id}\n                        accounts={subAccount.accounts}\n                        permission={subAccount}\n                        available={available}\n                        availableKeys={availableKeys}\n                        threshold={permission.threshold}\n                        level={level + 1}\n                        maxAuthorityDepth={maxAuthorityDepth}\n                    />\n                );\n            });\n\n            if (permission.keys.length) {\n                permission.keys.forEach(key =>\n                    status.push(\n                        <KeyPermissionBranch\n                            key={key.id}\n                            permission={key}\n                            available={availableKeys}\n                            level={level + (hideRoot ? 0 : 1)}\n                            weight={notNestdWeight(key.weight, threshold)}\n                        />\n                    )\n                );\n            }\n        }\n\n        return status.length > 0 ? (\n            <tbody>\n                {hideRoot || rootPerm}\n                <tr>\n                    <td colSpan=\"3\" className=\"heading-perm\">\n                        <div className={hideRoot ? \"\" : \"table-container\"}>\n                            <table>{status}</table>\n                        </div>\n                        {expanded && level === 0 && <div className=\"spacer\" />}\n                    </td>\n                </tr>\n            </tbody>\n        ) : (\n            <tbody>{rootPerm}</tbody>\n        );\n    }\n}\nconst BoundAccountPermissionTree = BindToChainState(AccountPermissionTree);\n\nclass FirstLevel extends React.Component {\n    static propTypes = {\n        required: ChainTypes.ChainAccountsList,\n        available: ChainTypes.ChainAccountsList\n    };\n\n    static defaultProps = {\n        type: \"active\",\n        added: null,\n        removed: null\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            requiredPermissions: [],\n            expanded: props.expanded\n        };\n\n        this._updateState = this._updateState.bind(this);\n    }\n\n    componentWillMount() {\n        this._updateState();\n\n        ChainStore.subscribe(this._updateState);\n    }\n\n    componentWillUnmount() {\n        ChainStore.unsubscribe(this._updateState);\n    }\n\n    _updateState() {\n        let required = pu.listToIDs(this.props.required);\n        let available = pu.listToIDs(this.props.available);\n\n        this.setState({\n            requiredPermissions: pu.unnest(required, this.props.type),\n            required,\n            available\n        });\n    }\n\n    handleExpandToggle = () => this.setState({expanded: !this.state.expanded});\n\n    render() {\n        let {\n            type,\n            added,\n            removed,\n            availableKeys,\n            globalObject,\n            reviewPeriodTime,\n            noFail\n        } = this.props;\n        let {requiredPermissions, required, available, expanded} = this.state;\n\n        available = cloneDeep(available);\n        availableKeys = availableKeys.toJS();\n\n        if (added) {\n            available.push(added);\n            availableKeys.push(added);\n        }\n\n        if (removed) {\n            if (available.indexOf(removed) !== -1) {\n                available.splice(available.indexOf(removed), 1);\n            }\n            if (availableKeys.indexOf(removed) !== -1) {\n                availableKeys.splice(availableKeys.indexOf(removed), 1);\n            }\n        }\n\n        const approvedCount = requiredPermissions.reduce(\n            (total, perm) =>\n                total + (isApproved(perm, available, availableKeys) ? 1 : 0),\n            0\n        );\n        const approversCount = requiredPermissions.length;\n        const isOK = approvedCount === approversCount;\n\n        const failed = isOK && !reviewPeriodTime && !noFail;\n        const pendingReview = isOK && reviewPeriodTime;\n\n        const maxAuthorityDepth = globalObject\n            .get(\"parameters\")\n            .get(\"max_authority_depth\");\n\n        const onePerm = requiredPermissions.length === 1;\n        const oPermission = onePerm ? requiredPermissions[0] : null;\n\n        const nestedWeight = !onePerm && `${approvedCount} / ${approversCount}`;\n\n        const rows = requiredPermissions.map(account => (\n            <BoundAccountPermissionTree\n                key={account.id}\n                account={account.id}\n                accounts={account.accounts}\n                permission={account}\n                available={available}\n                availableKeys={availableKeys}\n                expanded={this.props.expanded || onePerm}\n                level={0}\n                maxAuthorityDepth={maxAuthorityDepth}\n                hideRoot={onePerm}\n            />\n        ));\n\n        return (\n            <div className=\"nested-approval-state\">\n                <div className=\"root-status\">\n                    {failed ? (\n                        <Failed />\n                    ) : pendingReview ? (\n                        <Review />\n                    ) : (\n                        <Pending />\n                    )}{\" \"}\n                    {!oPermission ? (\n                        <span>({nestedWeight})</span>\n                    ) : (\n                        oPermission.threshold > 1 &&\n                        statusText(oPermission, available, availableKeys)\n                    )}\n                    {(!oPermission ||\n                        oPermission.isMultiSig() ||\n                        oPermission.isNested()) && (\n                        <ExpandButton\n                            onToggle={this.handleExpandToggle}\n                            expanded={expanded}\n                        />\n                    )}\n                    {!expanded &&\n                        requiredPermissions.some(permission =>\n                            hasAuthorityDepthProblem(\n                                maxAuthorityDepth,\n                                permission,\n                                0\n                            )\n                        ) && <ChildAuthorityDepthOverflowWarning />}\n                </div>\n                {expanded && <table>{rows}</table>}\n            </div>\n        );\n    }\n}\nFirstLevel = BindToChainState(FirstLevel);\n\nclass ProposalWrapper extends React.Component {\n    static propTypes = {\n        proposal: ChainTypes.ChainObject.isRequired,\n        type: PropTypes.string.isRequired,\n        globalObject: ChainTypes.ChainObject.isRequired\n    };\n\n    static defaultProps = {\n        type: \"active\",\n        added: null,\n        globalObject: \"2.0.0\"\n    };\n\n    render() {\n        let {proposal, type} = this.props;\n        let available = proposal.get(`available_${type}_approvals`);\n        let availableKeys = proposal.get(\"available_key_approvals\");\n        let required = proposal.get(`required_${type}_approvals`);\n\n        return (\n            <FirstLevel\n                {...this.props}\n                required={required}\n                available={available}\n                availableKeys={availableKeys}\n                reviewPeriodTime={proposal.get(\"review_period_time\")}\n            />\n        );\n    }\n}\n\nexport default BindToChainState(ProposalWrapper);\n","import {ChainStore} from \"bitsharesjs\";\nimport Immutable from \"immutable\";\n\nlet KeyAuth = function(auth) {\n    this.id = auth.toJS ? auth.get(0) : auth[0];\n    this.weight = auth.toJS ? auth.get(1) : auth[1];\n\n    this.isAvailable = auths => {\n        return auths.includes\n            ? auths.includes(this.id)\n            : auths.indexOf(this) !== -1;\n    };\n};\n\nlet permissionUtils = {\n    AccountPermission: function(account, weight, type) {\n        this.id = account.get(\"id\");\n        this.weight = weight;\n        this.threshold = account.getIn([type, \"weight_threshold\"]);\n        this.accounts = [];\n        this.keys = account\n            .getIn([type, \"key_auths\"])\n            .map(auth => {\n                return new KeyAuth(auth);\n            })\n            .toArray();\n\n        this.isAvailable = auths => {\n            return auths.includes\n                ? auths.includes(this.id)\n                : auths.indexOf(this) !== -1;\n        };\n\n        this._sumWeights = auths => {\n            if (!this.isNested() && !this.isMultiSig()) {\n                return this.isAvailable(auths) ? this.weight : 0;\n            } else {\n                let sum = this.accounts.reduce((status, account) => {\n                    return (\n                        status +\n                        (account._sumWeights(auths) ? account.weight : 0)\n                    );\n                }, 0);\n\n                return Math.floor(sum / this.threshold);\n            }\n        };\n\n        this.getStatus = (auths, keyAuths) => {\n            if (!this.isNested()) {\n                let sum = this._sumWeights(auths);\n                if (this.isMultiSig()) {\n                    sum += this.sumKeys(keyAuths);\n                }\n                return sum;\n            } else {\n                let sum = this.accounts.reduce((status, account) => {\n                    return status + account._sumWeights(auths);\n                }, 0);\n\n                if (this.keys.length) {\n                    sum += this.sumKeys(keyAuths);\n                }\n\n                return sum;\n            }\n        };\n\n        this.sumKeys = keyAuths => {\n            let keySum = this.keys.reduce((s, key) => {\n                return s + (key.isAvailable(keyAuths) ? key.weight : 0);\n            }, 0);\n            return keySum;\n        };\n\n        this.isNested = () => {\n            return this.accounts.length > 0;\n        };\n\n        this.isMultiSig = () => {\n            return this.keys.reduce((final, key) => {\n                return final || key.weight < this.threshold;\n            }, false);\n        };\n\n        this.getMissingSigs = auths => {\n            let missing = [];\n            let nested = [];\n            if (this.isNested()) {\n                nested = this.accounts.reduce((a, account) => {\n                    return a.concat(account.getMissingSigs(auths));\n                }, []);\n            } else if (!this.isAvailable(auths)) {\n                missing.push(this.id);\n            }\n\n            return missing.concat(nested);\n        };\n\n        this.getMissingKeys = auths => {\n            let missing = [];\n            let nested = [];\n            if (this.keys.length && (this.isNested() || this.isMultiSig())) {\n                this.keys.forEach(key => {\n                    if (!key.isAvailable(auths)) {\n                        missing.push(key.id);\n                    }\n                });\n            }\n\n            if (this.isNested()) {\n                nested = this.accounts.reduce((a, account) => {\n                    return a.concat(account.getMissingKeys(auths));\n                }, []);\n            }\n\n            return missing.concat(nested);\n        };\n    },\n\n    listToIDs: function(accountList) {\n        let allAccounts = [];\n\n        accountList.forEach(account => {\n            if (account) {\n                allAccounts.push(account.get ? account.get(\"id\") : account);\n            }\n        });\n\n        return allAccounts;\n    },\n\n    unravel: function(accountPermission, type, recursive_count = 0) {\n        if (recursive_count < 3) {\n            let account = ChainStore.getAccount(accountPermission.id);\n            if (account && account.getIn([type, \"account_auths\"]).size) {\n                account.getIn([type, \"account_auths\"]).forEach(auth => {\n                    let nestedAccount = ChainStore.getAccount(auth.get(0));\n                    if (nestedAccount) {\n                        accountPermission.accounts.push(\n                            this.unravel(\n                                new this.AccountPermission(\n                                    nestedAccount,\n                                    auth.get(1),\n                                    type\n                                ),\n                                type,\n                                recursive_count + 1\n                            )\n                        );\n                    }\n                });\n            }\n        }\n\n        return accountPermission;\n    },\n\n    unnest: function(accounts, type) {\n        let map = [];\n        accounts.forEach(id => {\n            let fullAccount = ChainStore.getAccount(id);\n            let currentPermission = this.unravel(\n                new this.AccountPermission(fullAccount, null, type),\n                type\n            );\n            map.push(currentPermission);\n        });\n\n        return map;\n    },\n\n    flatten_auths(auths, existingAuths = Immutable.List()) {\n        if (!auths.size) {\n            return existingAuths;\n        }\n\n        auths.forEach(owner => {\n            if (!existingAuths.includes(owner.get(0))) {\n                existingAuths = existingAuths.push(owner.get(0));\n            }\n        });\n        return existingAuths;\n    }\n};\n\nexport default permissionUtils;\n","import React from \"react\";\nimport Icon from \"../Icon/Icon\";\nimport ReactTooltip from \"react-tooltip\";\nimport utils from \"common/utils\";\nimport counterpart from \"counterpart\";\nimport Translate from \"react-translate-component\";\n\nexport class Tooltip extends React.Component {\n    componentDidMount() {\n        ReactTooltip.rebuild();\n    }\n    render() {\n        const {className, children, dataTip, content} = this.props;\n        return (\n            <span\n                className={\"tooltip \" + className}\n                data-html={true}\n                data-tip={dataTip || counterpart.translate(content)}\n            >\n                {children}\n            </span>\n        );\n    }\n}\n\nexport const AuthorityDepthOverflowWarning = () => (\n    <Tooltip\n        className=\"error appended\"\n        content=\"explorer.proposals.authority_depth_warning\"\n    >\n        /!\\\n    </Tooltip>\n);\n\nexport const ChildAuthorityDepthOverflowWarning = () => (\n    <Tooltip\n        className=\"error appended\"\n        content=\"explorer.proposals.children_authority_depth_warning\"\n    >\n        /!\\\n    </Tooltip>\n);\n\nexport const Pending = () => (\n    <Tooltip className=\"warning\" content=\"explorer.proposals.pending_approval\">\n        <Translate content=\"explorer.proposals.pending\" />\n    </Tooltip>\n);\n\nexport const Review = () => (\n    <Tooltip className=\"warning\" content=\"explorer.proposals.pending_review\">\n        <Translate content=\"explorer.proposals.review\" />\n    </Tooltip>\n);\n\nexport const Failed = () => (\n    <Tooltip className=\"error\" content=\"explorer.proposals.failed_execute\">\n        <Translate content=\"explorer.proposals.failed\" />\n    </Tooltip>\n);\n\nexport const ExpandButton = ({onToggle, expanded}) => (\n    <a className=\"expand-button\" onClick={onToggle}>\n        [{expanded ? \"-\" : \"+\"}]\n    </a>\n);\n\nexport const ApprovedIcon = ({approved}) =>\n    approved ? (\n        <Icon\n            name=\"checkmark-circle\"\n            size=\"1x\"\n            className=\"success\"\n            title=\"icons.checkmark_circle.operation_succeed\"\n        />\n    ) : (\n        <Icon\n            name=\"cross-circle\"\n            size=\"1x\"\n            className=\"error\"\n            title=\"icons.cross_circle.operation_failed\"\n        />\n    );\n\nexport const KeyPermissionBranch = ({available, permission, weight, level}) => (\n    <tbody>\n        <tr>\n            <td colSpan=\"2\">\n                <ApprovedIcon approved={permission.isAvailable(available)} />\n                {permission.id.substr(0, 20 - 4 * level)}...\n            </td>\n            <td>{weight}</td>\n        </tr>\n    </tbody>\n);\n\nexport const hasAuthorityDepthProblem = (\n    maxAuthorityDepth,\n    permission,\n    level = 0\n) => {\n    if (level > maxAuthorityDepth) {\n        return true;\n    } else if (!permission.isNested() && !permission.isMultiSig()) {\n        return false;\n    } else {\n        return permission.accounts.some(subAccount =>\n            hasAuthorityDepthProblem(maxAuthorityDepth, subAccount, level + 1)\n        );\n    }\n};\n\nexport const getStatus = (permission, available, availableKeys) =>\n    permission.accounts.reduce(\n        (amount, subPermission) =>\n            amount +\n            (isApproved(subPermission, available, availableKeys)\n                ? subPermission.weight\n                : 0),\n\n        0\n    ) +\n    permission.keys.reduce(\n        (amount, key) =>\n            amount + (key.isAvailable(availableKeys) ? key.weight : 0),\n        0\n    );\n\nexport const isApproved = (permission, available, availableKeys) =>\n    permission.isNested() || permission.isMultiSig()\n        ? getStatus(permission, available, availableKeys) >=\n          permission.threshold\n        : permission.isAvailable(available);\n\nexport const statusText = (permission, available, availableKeys) =>\n    permission && permission.threshold > 10\n        ? `${utils.get_percentage(\n              permission.getStatus(available, availableKeys),\n              permission.threshold\n          )} / 100%`\n        : `${permission.getStatus(available, availableKeys)} / ${\n              permission.threshold\n          }`;\n\nexport const notNestdWeight = (weight, threshold) =>\n    threshold && threshold > 10\n        ? utils.get_percentage(weight, threshold)\n        : weight;\n","import React from \"react\";\nimport {OrderRow, TableHeader} from \"../Exchange/MyOpenOrders\";\nimport counterpart from \"counterpart\";\nimport MarketsActions from \"actions/MarketsActions\";\nimport {ChainStore} from \"bitsharesjs\";\nimport {LimitOrder} from \"common/MarketClasses\";\nimport {connect} from \"alt-react\";\nimport SettingsStore from \"stores/SettingsStore\";\nimport SettingsActions from \"actions/SettingsActions\";\nimport marketUtils from \"common/market_utils\";\nimport Translate from \"react-translate-component\";\n\nclass AccountOrders extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            selectedOrders: [],\n            filterValue: \"\"\n        };\n    }\n\n    componentDidMount() {\n        let cancelHeader = document.getElementById(\"cancelAllOrders\");\n\n        if (cancelHeader) {\n            cancelHeader.addEventListener(\n                \"click\",\n                function() {\n                    let orders = this._getFilteredOrders.call(this);\n                    orders = orders.toJS ? orders.toJS() : orders;\n\n                    this.setState({selectedOrders: orders});\n\n                    let checkboxes = document.querySelectorAll(\".orderCancel\");\n\n                    checkboxes.forEach(item => {\n                        if (!item.checked) item.checked = true;\n                    });\n                }.bind(this)\n            );\n        }\n    }\n\n    _getFilteredOrders() {\n        let {filterValue} = this.state;\n\n        let orders = this.props.account.get(\"orders\") || [];\n\n        return orders.filter(item => {\n            let order = ChainStore.getObject(item).toJS();\n            let base = ChainStore.getAsset(order.sell_price.base.asset_id);\n            let quote = ChainStore.getAsset(order.sell_price.quote.asset_id);\n\n            let baseSymbol = base.get(\"symbol\").toLowerCase();\n            let quoteSymbol = quote.get(\"symbol\").toLowerCase();\n\n            return (\n                baseSymbol.indexOf(filterValue) > -1 ||\n                quoteSymbol.indexOf(filterValue) > -1\n            );\n        });\n    }\n\n    _cancelLimitOrder(orderID, e) {\n        e.preventDefault();\n\n        MarketsActions.cancelLimitOrder(\n            this.props.account.get(\"id\"),\n            orderID, // order id to cancel\n            false // Don't show normal confirms\n        ).catch(err => {\n            console.log(\"cancel order error:\", err);\n        });\n    }\n\n    _cancelLimitOrders(orderId) {\n        MarketsActions.cancelLimitOrders(\n            this.props.account.get(\"id\"),\n            this.state.selectedOrders\n        )\n            .then(() => {\n                this.resetSelected();\n            })\n            .catch(err => {\n                console.log(\"cancel orders error:\", err);\n            });\n    }\n\n    onFlip(marketId) {\n        let setting = {};\n        setting[marketId] = !this.props.marketDirections.get(marketId);\n        SettingsActions.changeMarketDirection(setting);\n    }\n\n    onCheckCancel(orderId, evt) {\n        let {selectedOrders} = this.state;\n        let checked = evt.target.checked;\n\n        if (checked) {\n            this.setState({selectedOrders: selectedOrders.concat([orderId])});\n        } else {\n            let index = selectedOrders.indexOf(orderId);\n\n            if (index > -1) {\n                this.setState({\n                    selectedOrders: selectedOrders\n                        .slice(0, index)\n                        .concat(selectedOrders.slice(index + 1))\n                });\n            }\n        }\n    }\n\n    setFilterValue(evt) {\n        this.setState({filterValue: evt.target.value.toLowerCase()});\n    }\n\n    resetSelected() {\n        this.setState({selectedOrders: []});\n\n        let checkboxes = document.querySelectorAll(\".orderCancel\");\n\n        checkboxes.forEach(item => {\n            if (item.checked) item.checked = false;\n        });\n    }\n\n    cancelSelected() {\n        this._cancelLimitOrders.call(this);\n    }\n\n    render() {\n        let {account, marketDirections} = this.props;\n        let {filterValue, selectedOrders} = this.state;\n        let cancel = counterpart.translate(\"account.perm.cancel\");\n        let markets = {};\n\n        let marketOrders = {};\n\n        if (!account.get(\"orders\")) {\n            return null;\n        }\n\n        let orders = account.get(\"orders\");\n        const ordersCount = orders.size;\n        if (filterValue) {\n            orders = this._getFilteredOrders.call(this);\n        }\n\n        orders.forEach(orderID => {\n            let order = ChainStore.getObject(orderID).toJS();\n            let base = ChainStore.getAsset(order.sell_price.base.asset_id);\n            let quote = ChainStore.getAsset(order.sell_price.quote.asset_id);\n\n            if (base && quote) {\n                let assets = {\n                    [base.get(\"id\")]: {precision: base.get(\"precision\")},\n                    [quote.get(\"id\")]: {precision: quote.get(\"precision\")}\n                };\n                // let baseID = parseInt(order.sell_price.base.asset_id.split(\".\")[2], 10);\n                // let quoteID = parseInt(order.sell_price.quote.asset_id.split(\".\")[2], 10);\n\n                // let marketName = quoteID > baseID ? `${quote.get(\"symbol\")}_${base.get(\"symbol\")}` : `${base.get(\"symbol\")}_${quote.get(\"symbol\")}`;\n                const {marketName} = marketUtils.getMarketName(base, quote);\n                const direction = marketDirections.get(marketName);\n\n                if (!markets[marketName]) {\n                    if (direction) {\n                        markets[marketName] = {\n                            base: {\n                                id: base.get(\"id\"),\n                                symbol: base.get(\"symbol\"),\n                                precision: base.get(\"precision\")\n                            },\n                            quote: {\n                                id: quote.get(\"id\"),\n                                symbol: quote.get(\"symbol\"),\n                                precision: quote.get(\"precision\")\n                            }\n                        };\n                    } else {\n                        markets[marketName] = {\n                            base: {\n                                id: quote.get(\"id\"),\n                                symbol: quote.get(\"symbol\"),\n                                precision: quote.get(\"precision\")\n                            },\n                            quote: {\n                                id: base.get(\"id\"),\n                                symbol: base.get(\"symbol\"),\n                                precision: base.get(\"precision\")\n                            }\n                        };\n                    }\n                }\n                let limitOrder = new LimitOrder(\n                    order,\n                    assets,\n                    markets[marketName].quote.id\n                );\n\n                let marketBase = ChainStore.getAsset(\n                    markets[marketName].base.id\n                );\n                let marketQuote = ChainStore.getAsset(\n                    markets[marketName].quote.id\n                );\n\n                if (!marketOrders[marketName]) {\n                    marketOrders[marketName] = [];\n                }\n\n                marketOrders[marketName].push(\n                    <OrderRow\n                        ref={markets[marketName].base.symbol}\n                        key={order.id}\n                        order={limitOrder}\n                        base={marketBase}\n                        quote={marketQuote}\n                        cancel_text={cancel}\n                        showSymbols={false}\n                        invert={true}\n                        onCancel={this._cancelLimitOrder.bind(this, order.id)}\n                        price={limitOrder.getPrice()}\n                        dashboard\n                        isMyAccount={this.props.isMyAccount}\n                        settings={this.props.settings}\n                        onFlip={this.onFlip.bind(this, marketName)}\n                        onCheckCancel={this.onCheckCancel.bind(this, order.id)}\n                    />\n                );\n            }\n        });\n\n        let tables = [];\n\n        let marketIndex = 0;\n        for (let market in marketOrders) {\n            if (marketOrders[market].length) {\n                tables.push(\n                    <tbody key={market}>\n                        {/* {marketIndex > 0 ? <tr><td colSpan={this.props.isMyAccount ? \"7\" : \"6\"}><span style={{visibility: \"hidden\"}}>H</span></td></tr> : null} */}\n                        {marketOrders[market].sort((a, b) => {\n                            return a.props.price - b.props.price;\n                        })}\n                    </tbody>\n                );\n                marketIndex++;\n            }\n        }\n\n        return (\n            <div\n                className=\"grid-content no-overflow no-padding\"\n                style={{paddingBottom: 15}}\n            >\n                <div className=\"header-selector\">\n                    {orders && ordersCount ? (\n                        <input\n                            type=\"text\"\n                            placeholder={counterpart.translate(\n                                \"account.filter_orders\"\n                            )}\n                            style={{\n                                display: \"inline-block\",\n                                maxWidth: \"50%\",\n                                marginRight: \"1em\",\n                                marginBottom: \"0\"\n                            }}\n                            onChange={this.setFilterValue.bind(this)}\n                        />\n                    ) : null}\n                    {selectedOrders.length ? (\n                        <button\n                            className=\"button\"\n                            onClick={this.resetSelected.bind(this)}\n                        >\n                            <Translate content=\"account.reset_orders\" />\n                        </button>\n                    ) : null}\n                    {selectedOrders.length ? (\n                        <button\n                            className=\"button\"\n                            onClick={this.cancelSelected.bind(this)}\n                        >\n                            <Translate content=\"account.submit_orders\" />\n                        </button>\n                    ) : null}\n                </div>\n\n                <table className=\"table table-striped dashboard-table table-hover\">\n                    <TableHeader\n                        settings={this.props.settings}\n                        dashboard\n                        isMyAccount={this.props.isMyAccount}\n                    />\n                    {tables}\n                    {this.props.children}\n                </table>\n            </div>\n        );\n    }\n}\n\nAccountOrders = connect(\n    AccountOrders,\n    {\n        listenTo() {\n            return [SettingsStore];\n        },\n        getProps() {\n            return {\n                marketDirections: SettingsStore.getState().marketDirections\n            };\n        }\n    }\n);\n\nexport default AccountOrders;\n","import {FetchChain} from \"bitsharesjs\";\nimport {FeedPrice, Asset} from \"./MarketClasses\";\n\nlet asyncCache = {};\nconst checkMarginStatusTTL = 60000 * 1; // 1 minute\n\nfunction checkMarginStatus(account) {\n    if (!account || (account && !account.get(\"call_orders\", []).size))\n        return Promise.resolve(null);\n\n    const key =\n        account.get(\"name\") + JSON.stringify(account.get(\"call_orders\"));\n    if (asyncCache[key]) {\n        if (asyncCache[key].result) {\n            return Promise.resolve(asyncCache[key].result);\n        }\n        return new Promise((res, rej) => {\n            asyncCache[key].queue.push({res, rej});\n        });\n    }\n    return new Promise((res, rej) => {\n        asyncCache[key] = {queue: [{res, rej}], result: null};\n\n        FetchChain(\"getObject\", account.get(\"call_orders\").toArray())\n            .then(call_orders => {\n                let assets = [];\n                call_orders.forEach(a => {\n                    let baseId = a.getIn([\"call_price\", \"base\", \"asset_id\"]);\n                    let quoteId = a.getIn([\"call_price\", \"quote\", \"asset_id\"]);\n                    if (assets.indexOf(baseId) === -1) assets.push(baseId);\n                    if (assets.indexOf(quoteId) === -1) assets.push(quoteId);\n                });\n                FetchChain(\"getAsset\", assets, 6000).then(assets => {\n                    let assetsMap = {};\n                    assets.forEach(asset => {\n                        assetsMap[asset.get(\"id\")] = asset.toJS();\n                    });\n                    let status = {};\n                    call_orders.forEach(co => {\n                        let debtAsset =\n                            assetsMap[\n                                co.getIn([\"call_price\", \"quote\", \"asset_id\"])\n                            ];\n                        let collateralAsset =\n                            assetsMap[\n                                co.getIn([\"call_price\", \"base\", \"asset_id\"])\n                            ];\n                        let sp =\n                            debtAsset.bitasset.current_feed.settlement_price;\n                        if (sp.base.asset_id === sp.quote.asset_id) {\n                            status[debtAsset.id] = {ratio: null};\n                        } else {\n                            let collateral = new Asset({\n                                amount: co.get(\"collateral\"),\n                                asset_id: collateralAsset.id,\n                                precision: collateralAsset.precision\n                            });\n                            let debt = new Asset({\n                                amount: co.get(\"debt\"),\n                                asset_id: debtAsset.id,\n                                precision: debtAsset.precision\n                            });\n                            let mr =\n                                debtAsset.bitasset.current_feed\n                                    .maintenance_collateral_ratio / 1000;\n                            let price = new FeedPrice({\n                                priceObject:\n                                    debtAsset.bitasset.current_feed\n                                        .settlement_price,\n                                market_base:\n                                    debtAsset.bitasset.current_feed\n                                        .settlement_price.quote.asset_id,\n                                sqr:\n                                    debtAsset.bitasset.current_feed\n                                        .maximum_short_squeeze_ratio,\n                                assets: assetsMap\n                            });\n                            let current = {\n                                ratio:\n                                    collateral.getAmount({real: true}) /\n                                    (debt.getAmount({real: true}) /\n                                        price.toReal())\n                            };\n                            if (isNaN(current.ratio)) return null;\n                            if (current.ratio < mr) {\n                                current.statusClass = \"danger\";\n                            } else if (current.ratio < mr + 0.5) {\n                                current.statusClass = \"warning\";\n                            } else {\n                                current.statusClass = null;\n                            }\n                            status[debtAsset.id] = current;\n                        }\n                    });\n                    asyncCache[key].queue.forEach(promise => {\n                        promise.res(status);\n                    });\n                    asyncCache[key] = {result: status};\n                    setTimeout(() => {\n                        delete asyncCache[key];\n                    }, checkMarginStatusTTL);\n                });\n            })\n            .catch(() => {\n                asyncCache[key].queue.forEach(promise => {\n                    promise.rej();\n                });\n            });\n    });\n}\n\nexport {checkMarginStatus};\n","import React from \"react\";\nimport ReactHighcharts from \"react-highcharts\";\nimport Treemap from \"highcharts/modules/treemap\";\nimport Heatmap from \"highcharts/modules/heatmap\";\nimport utils from \"common/utils\";\nimport ChainTypes from \"../Utility/ChainTypes\";\nimport {ChainStore} from \"bitsharesjs\";\nimport BindToChainState from \"../Utility/BindToChainState\";\nimport AltContainer from \"alt-container\";\nimport MarketUtils from \"common/market_utils\";\nimport MarketsStore from \"stores/MarketsStore\";\nimport SettingsStore from \"stores/SettingsStore\";\n\nTreemap(ReactHighcharts.Highcharts);\nHeatmap(ReactHighcharts.Highcharts);\n\nclass AccountTreemap extends React.Component {\n    static propTypes = {\n        assets: ChainTypes.ChainAssetsList,\n        preferredAsset: ChainTypes.ChainAsset.isRequired\n    };\n\n    static defaultProps = {\n        assets: [],\n        preferredAsset: \"1.3.0\"\n    };\n\n    // shouldComponentUpdate(nextProps) {\n    //     return (\n    //         !utils.are_equal_shallow(nextProps.balanceObjects, this.props.balanceObjects) ||\n    //         !utils.are_equal_shallow(nextProps.assets, this.props.assets)\n    //     );\n    // }\n\n    render() {\n        let {\n            balanceObjects,\n            core_asset,\n            marketStats,\n            preferredAsset\n        } = this.props;\n\n        let accountBalances = null;\n\n        if (balanceObjects && balanceObjects.length > 0) {\n            let totalValue = 0;\n            accountBalances = balanceObjects.forEach(balance => {\n                if (!balance) return;\n                let balanceObject =\n                    typeof balance == \"string\"\n                        ? ChainStore.getObject(balance)\n                        : balance;\n                let asset_type = balanceObject.get(\"asset_type\");\n                let asset = ChainStore.getAsset(asset_type);\n                if (!asset || !preferredAsset) return;\n                let amount = Number(balanceObject.get(\"balance\"));\n                const eqValue = MarketUtils.convertValue(\n                    amount,\n                    preferredAsset,\n                    asset,\n                    marketStats,\n                    core_asset\n                );\n\n                if (!eqValue) return;\n                const precision = utils.get_asset_precision(\n                    preferredAsset.get(\"precision\")\n                );\n                totalValue += eqValue / precision;\n            });\n\n            accountBalances = balanceObjects\n                .map((balance, index) => {\n                    if (!balance) return null;\n                    let balanceObject =\n                        typeof balance == \"string\"\n                            ? ChainStore.getObject(balance)\n                            : balance;\n                    let asset_type = balanceObject.get(\"asset_type\");\n                    let asset = ChainStore.getAsset(asset_type);\n                    if (!asset) return null;\n                    let amount = Number(balanceObject.get(\"balance\"));\n\n                    const eqValue = MarketUtils.convertValue(\n                        amount,\n                        preferredAsset,\n                        asset,\n                        marketStats,\n                        core_asset\n                    );\n\n                    if (!eqValue) {\n                        return null;\n                    }\n\n                    const precision = utils.get_asset_precision(\n                        preferredAsset.get(\"precision\")\n                    );\n                    const finalValue = eqValue / precision;\n                    const percent = (finalValue / totalValue) * 100;\n\n                    /*\n                * Filter out assets that make up a small percentage of\n                * the total value of the account\n                */\n                    if (percent < 0.5) return null;\n\n                    return finalValue >= 1\n                        ? {\n                              name: `${asset.get(\"symbol\")} (${\n                                  totalValue === 0 ? 0 : percent.toFixed(2)\n                              }%)`,\n                              value: finalValue,\n                              color: ReactHighcharts.Highcharts.getOptions()\n                                  .colors[index]\n                          }\n                        : null;\n                })\n                .filter(n => !!n);\n        }\n\n        if (\n            accountBalances &&\n            accountBalances.length === 1 &&\n            accountBalances[0].value === 0\n        ) {\n            accountBalances = null;\n        }\n\n        let config = {\n            chart: {\n                backgroundColor: \"rgba(255, 0, 0, 0)\",\n                height: 250,\n                spacingLeft: 0,\n                spacingRight: 0,\n                spacingBottom: 0\n            },\n            // colorAxis: {\n            //     min: 0,\n            //     minColor: \"#ffffff\",\n            //     maxColor: ReactHighcharts.Highcharts.getOptions().colors[0]\n            // },\n            credits: {\n                enabled: false\n            },\n            legend: {\n                enabled: false\n            },\n            plotOptions: {\n                treemap: {\n                    animation: false,\n                    tooltip: {\n                        pointFormatter: function() {\n                            return `<b>${\n                                this.name\n                            }</b>: ${ReactHighcharts.Highcharts.numberFormat(\n                                this.value,\n                                0\n                            )} ${preferredAsset.get(\"symbol\")}`;\n                        }\n                    }\n                }\n            },\n            series: [\n                {\n                    type: \"treemap\",\n                    levels: [\n                        {\n                            level: 1,\n                            layoutAlgorithm: \"sliceAndDice\",\n                            dataLabels: {\n                                enabled: true,\n                                align: \"center\",\n                                verticalAlign: \"middle\"\n                            }\n                        }\n                    ],\n                    data: accountBalances\n                }\n            ],\n            title: {\n                text: null\n            }\n        };\n\n        return (\n            <div className=\"account-treemap\">\n                <ReactHighcharts config={config} />\n            </div>\n        );\n    }\n}\n\nAccountTreemap = BindToChainState(AccountTreemap);\n\nclass AccountTreemapBalanceWrapper extends React.Component {\n    static propTypes = {\n        balanceObjects: ChainTypes.ChainObjectsList,\n        core_asset: ChainTypes.ChainAsset.isRequired\n    };\n\n    static defaultProps = {\n        balanceObjects: [],\n        core_asset: \"1.3.0\"\n    };\n\n    render() {\n        let assets = this.props.balanceObjects.filter(a => !!a).map(a => {\n            return a.get(\"asset_type\");\n        });\n        return (\n            <AccountTreemap\n                preferredAsset={this.props.settings.get(\"unit\", \"1.3.0\")}\n                assets={assets}\n                {...this.props}\n            />\n        );\n    }\n}\n\nAccountTreemapBalanceWrapper = BindToChainState(AccountTreemapBalanceWrapper);\n\nexport default class AccountTreemapWrapper extends React.Component {\n    render() {\n        return (\n            <AltContainer\n                stores={[SettingsStore, MarketsStore]}\n                inject={{\n                    marketStats: () => {\n                        return MarketsStore.getState().allMarketStats;\n                    },\n                    settings: () => {\n                        return SettingsStore.getState().settings;\n                    }\n                }}\n            >\n                <AccountTreemapBalanceWrapper\n                    {...this.props}\n                    ref={this.props.refCallback}\n                />\n            </AltContainer>\n        );\n    }\n}\n","import React from \"react\";\nimport debounceRender from \"react-debounce-render\";\nimport BalanceComponent from \"../Utility/BalanceComponent\";\nimport {BalanceValueComponent} from \"../Utility/EquivalentValueComponent\";\nimport {Market24HourChangeComponent} from \"../Utility/MarketChangeComponent\";\nimport AssetImage from \"../Utility/AssetImage\";\nimport assetUtils from \"common/asset_utils\";\nimport counterpart from \"counterpart\";\nimport {Link} from \"react-router-dom\";\nimport EquivalentPrice from \"../Utility/EquivalentPrice\";\nimport LinkToAssetById from \"../Utility/LinkToAssetById\";\nimport BorrowModal from \"../Modal/BorrowModal\";\nimport ReactTooltip from \"react-tooltip\";\nimport {getBackedCoin} from \"common/gatewayUtils\";\nimport {ChainStore} from \"bitsharesjs/es\";\nimport {connect} from \"alt-react\";\nimport SettingsStore from \"stores/SettingsStore\";\nimport GatewayStore from \"stores/GatewayStore\";\nimport MarketsStore from \"stores/MarketsStore\";\nimport Icon from \"../Icon/Icon\";\nimport PulseIcon from \"../Icon/PulseIcon\";\nimport utils from \"common/utils\";\nimport SendModal from \"../Modal/SendModal\";\nimport SettingsActions from \"actions/SettingsActions\";\nimport SettleModal from \"../Modal/SettleModal\";\nimport DepositModal from \"../Modal/DepositModal\";\nimport SimpleDepositWithdraw from \"../Dashboard/SimpleDepositWithdraw\";\nimport SimpleDepositBlocktradesBridge from \"../Dashboard/SimpleDepositBlocktradesBridge\";\nimport WithdrawModal from \"../Modal/WithdrawModalNew\";\n\nclass AccountPortfolioList extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            settleAsset: \"1.3.0\",\n            depositAsset: null,\n            withdrawAsset: null,\n            bridgeAsset: null,\n            allRefsAssigned: false\n        };\n\n        this.qtyRefs = {};\n        this.priceRefs = {};\n        this.valueRefs = {};\n        this.changeRefs = {};\n        for (let key in this.sortFunctions) {\n            this.sortFunctions[key] = this.sortFunctions[key].bind(this);\n        }\n        this._checkRefAssignments = this._checkRefAssignments.bind(this);\n    }\n\n    componentWillMount() {\n        this.refCheckInterval = setInterval(this._checkRefAssignments);\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.refCheckInterval);\n    }\n\n    _checkRefAssignments() {\n        /*\n        * In order for sorting to work all refs must be assigned, so we check\n        * this here and update the state to trigger a rerender\n        */\n        if (!this.state.allRefsAssigned) {\n            let refKeys = [\"qtyRefs\", \"priceRefs\", \"valueRefs\", \"changeRefs\"];\n            const allRefsAssigned = refKeys.reduce((a, b) => {\n                if (a === undefined) return !!Object.keys(this[b]).length;\n                return !!Object.keys(this[b]).length && a;\n            }, undefined);\n            if (allRefsAssigned) {\n                clearInterval(this.refCheckInterval);\n                this.setState({allRefsAssigned});\n            }\n        }\n    }\n\n    shouldComponentUpdate(np, ns) {\n        return (\n            !utils.are_equal_shallow(ns, this.state) ||\n            !utils.are_equal_shallow(np.backedCoins, this.props.backedCoins) ||\n            !utils.are_equal_shallow(np.balances, this.props.balances) ||\n            !utils.are_equal_shallow(np.balanceList, this.props.balanceList) ||\n            !utils.are_equal_shallow(\n                np.optionalAssets,\n                this.props.optionalAssets\n            ) ||\n            np.account !== this.props.account ||\n            np.visible !== this.props.visible ||\n            np.settings !== this.props.settings ||\n            np.hiddenAssets !== this.props.hiddenAssets ||\n            np.sortDirection !== this.props.sortDirection ||\n            np.sortKey !== this.props.sortKey ||\n            np.allMarketStats.reduce((a, value, key) => {\n                return (\n                    utils.check_market_stats(\n                        value,\n                        this.props.allMarketStats.get(key)\n                    ) || a\n                );\n            }, false)\n        );\n    }\n\n    sortFunctions = {\n        qty: function(a, b, force) {\n            if (Number(this.qtyRefs[a.key]) < Number(this.qtyRefs[b.key]))\n                return this.props.sortDirection || force ? -1 : 1;\n\n            if (Number(this.qtyRefs[a.key]) > Number(this.qtyRefs[b.key]))\n                return this.props.sortDirection || force ? 1 : -1;\n        },\n        alphabetic: function(a, b, force) {\n            if (a.key > b.key)\n                return this.props.sortDirection || force ? 1 : -1;\n            if (a.key < b.key)\n                return this.props.sortDirection || force ? -1 : 1;\n            return 0;\n        },\n        priceValue: function(a, b) {\n            let aRef = this.priceRefs[a.key];\n            let bRef = this.priceRefs[b.key];\n            if (aRef && bRef) {\n                let aPrice = aRef.getFinalPrice(true);\n                let bPrice = bRef.getFinalPrice(true);\n                if (aPrice === null && bPrice !== null) return 1;\n                if (aPrice !== null && bPrice === null) return -1;\n                if (aPrice === null && bPrice === null)\n                    return this.sortFunctions.alphabetic(a, b, true);\n                return this.props.sortDirection\n                    ? aPrice - bPrice\n                    : bPrice - aPrice;\n            }\n        },\n        totalValue: function(a, b) {\n            let aRef = this.valueRefs[a.key];\n            let bRef = this.valueRefs[b.key];\n            if (aRef && bRef) {\n                let aValue = aRef.getValue();\n                let bValue = bRef.getValue();\n                if (!aValue && bValue) return 1;\n                if (aValue && !bValue) return -1;\n                if (!aValue && !bValue)\n                    return this.sortFunctions.alphabetic(a, b, true);\n                return this.props.sortDirection\n                    ? aValue - bValue\n                    : bValue - aValue;\n            }\n        },\n        changeValue: function(a, b) {\n            let aRef = this.changeRefs[a.key];\n            let bRef = this.changeRefs[b.key];\n\n            if (aRef && bRef) {\n                let aValue = aRef.getValue();\n                let bValue = bRef.getValue();\n                let aChange =\n                    parseFloat(aValue) != \"NaN\" ? parseFloat(aValue) : aValue;\n                let bChange =\n                    parseFloat(bValue) != \"NaN\" ? parseFloat(bValue) : bValue;\n                let direction =\n                    typeof this.props.sortDirection !== \"undefined\"\n                        ? this.props.sortDirection\n                        : true;\n\n                return direction ? aChange - bChange : bChange - aChange;\n            }\n        }\n    };\n\n    triggerSend(asset) {\n        this.setState({send_asset: asset}, () => {\n            if (this.send_modal) this.send_modal.show();\n        });\n    }\n\n    _onSettleAsset(id, e) {\n        e.preventDefault();\n        this.setState({\n            settleAsset: id\n        });\n\n        this.refs.settlement_modal.show();\n    }\n\n    _hideAsset(asset, status) {\n        SettingsActions.hideAsset(asset, status);\n    }\n\n    _showDepositModal(asset, e) {\n        e.preventDefault();\n        this.setState({depositAsset: asset}, () => {\n            this.refs.deposit_modal_new.show();\n        });\n    }\n\n    _showDepositWithdraw(action, asset, fiatModal, e) {\n        e.preventDefault();\n        this.setState(\n            {\n                [action === \"bridge_modal\"\n                    ? \"bridgeAsset\"\n                    : action === \"deposit_modal\"\n                        ? \"depositAsset\"\n                        : \"withdrawAsset\"]: asset,\n                fiatModal\n            },\n            () => {\n                this.refs[action].show();\n            }\n        );\n    }\n\n    _getSeparator(render) {\n        return render ? <span>&nbsp;|&nbsp;</span> : null;\n    }\n\n    _renderBuy = (symbol, canBuy, assetName, emptyCell, balance) => {\n        if (symbol === \"BTS\" && balance <= 100000) {\n            // Precision of 5, 1 = 10^5\n            return (\n                <span>\n                    <a\n                        onClick={this._showDepositWithdraw.bind(\n                            this,\n                            \"bridge_modal\",\n                            assetName,\n                            false\n                        )}\n                    >\n                        <PulseIcon\n                            onIcon=\"dollar\"\n                            offIcon=\"dollar-green\"\n                            title=\"icons.dollar.buy\"\n                            duration={1000}\n                            className=\"icon-14px\"\n                        />\n                    </a>\n                </span>\n            );\n        } else {\n            return canBuy && this.props.isMyAccount ? (\n                <span>\n                    <a\n                        onClick={this._showDepositWithdraw.bind(\n                            this,\n                            \"bridge_modal\",\n                            assetName,\n                            false\n                        )}\n                    >\n                        <Icon\n                            name=\"dollar\"\n                            title=\"icons.dollar.buy\"\n                            className=\"icon-14px\"\n                        />\n                    </a>\n                </span>\n            ) : (\n                emptyCell\n            );\n        }\n    };\n\n    _renderBalances(balanceList, optionalAssets, visible) {\n        const {\n            coreSymbol,\n            preferredUnit,\n            settings,\n            hiddenAssets,\n            orders\n        } = this.props;\n        let showAssetPercent = settings.get(\"showAssetPercent\", false);\n\n        const renderBorrow = (asset, account) => {\n            let isBitAsset = asset && asset.has(\"bitasset_data_id\");\n            let modalRef = \"cp_modal_\" + asset.get(\"id\");\n            return {\n                isBitAsset,\n                borrowModal: !isBitAsset ? null : (\n                    <BorrowModal\n                        ref={modalRef}\n                        modalId={\"borrow_modal_\" + asset.get(\"id\")}\n                        quote_asset={asset.get(\"id\")}\n                        backing_asset={asset.getIn([\n                            \"bitasset\",\n                            \"options\",\n                            \"short_backing_asset\"\n                        ])}\n                        account={account}\n                    />\n                ),\n                borrowLink: !isBitAsset ? null : (\n                    <a\n                        onClick={() => {\n                            ReactTooltip.hide();\n                            this.refs[modalRef].show();\n                        }}\n                    >\n                        <Icon\n                            name=\"dollar\"\n                            title=\"icons.dollar.borrow\"\n                            className=\"icon-14px\"\n                        />\n                    </a>\n                )\n            };\n        };\n\n        let balances = [];\n        const emptyCell = \"-\";\n        balanceList.forEach(balance => {\n            let balanceObject = ChainStore.getObject(balance);\n            if (!balanceObject) return;\n            let asset_type = balanceObject.get(\"asset_type\");\n            let asset = ChainStore.getObject(asset_type);\n            if (!asset) return;\n\n            let directMarketLink, settleLink, transferLink;\n            let symbol = \"\";\n\n            const assetName = asset.get(\"symbol\");\n            const notCore = asset.get(\"id\") !== \"1.3.0\";\n            const notCorePrefUnit = preferredUnit !== coreSymbol;\n\n            let {market} = assetUtils.parseDescription(\n                asset.getIn([\"options\", \"description\"])\n            );\n            symbol = asset.get(\"symbol\");\n            if (symbol.indexOf(\"OPEN.\") !== -1 && !market) market = \"USD\";\n            if ([\"RUDEX.GOLOS\", \"RUDEX.GBG\"].indexOf(symbol) !== -1)\n                market = \"RUBLE\";\n            // let preferredMarket = market ? market : preferredUnit;\n            let preferredMarket = market ? market : coreSymbol;\n\n            /* Table content */\n            directMarketLink = notCore ? (\n                <Link to={`/market/${asset.get(\"symbol\")}_${preferredMarket}`}>\n                    <Icon\n                        name=\"trade\"\n                        title=\"icons.trade.trade\"\n                        className=\"icon-14px\"\n                    />\n                </Link>\n            ) : notCorePrefUnit ? (\n                <Link to={`/market/${asset.get(\"symbol\")}_${preferredUnit}`}>\n                    <Icon\n                        name=\"trade\"\n                        title=\"icons.trade.trade\"\n                        className=\"icon-14px\"\n                    />\n                </Link>\n            ) : (\n                emptyCell\n            );\n            transferLink = (\n                <Link to={`/transfer?asset=${asset.get(\"id\")}`}>\n                    <Icon\n                        name=\"transfer\"\n                        title=\"icons.transfer\"\n                        className=\"icon-14px\"\n                    />\n                </Link>\n            );\n\n            let {isBitAsset, borrowModal, borrowLink} = renderBorrow(\n                asset,\n                this.props.account\n            );\n\n            /* Popover content */\n            settleLink = (\n                <a onClick={this._onSettleAsset.bind(this, asset.get(\"id\"))}>\n                    <Icon\n                        name=\"settle\"\n                        title=\"icons.settle\"\n                        className=\"icon-14px\"\n                    />\n                </a>\n            );\n\n            const includeAsset = !hiddenAssets.includes(asset_type);\n            const hasBalance = !!balanceObject.get(\"balance\");\n            const hasOnOrder = !!orders[asset_type];\n\n            const backedCoin = getBackedCoin(\n                asset.get(\"symbol\"),\n                this.props.backedCoins\n            );\n            // const canDeposit =\n            //     (backedCoin && backedCoin.depositAllowed) ||\n            //     asset.get(\"symbol\") == \"BTS\";\n            const canDeposit = false; // disable till stable version\n\n            // const canWithdraw =\n            //     backedCoin &&\n            //     backedCoin.withdrawalAllowed &&\n            //     (hasBalance && balanceObject.get(\"balance\") != 0);\n            const canWithdraw = false; // disable till stable version\n\n            const canBuy = !!this.props.bridgeCoins.get(symbol);\n            const assetAmount = balanceObject.get(\"balance\");\n\n            this.qtyRefs[asset.get(\"symbol\")] = utils.get_asset_amount(\n                assetAmount,\n                asset\n            );\n\n            balances.push(\n                <tr key={asset.get(\"symbol\")} style={{maxWidth: \"100rem\"}}>\n                    <td style={{textAlign: \"left\"}}>\n                        <AssetImage\n                            replaceNoneToBts={false}\n                            maxWidth={30}\n                            name={asset.get(\"symbol\")}\n                        />\n                        <LinkToAssetById asset={asset.get(\"id\")} />\n                    </td>\n                    <td style={{textAlign: \"right\"}}>\n                        {hasBalance || hasOnOrder ? (\n                            <BalanceComponent balance={balance} hide_asset />\n                        ) : null}\n                    </td>\n                    <td\n                        style={{textAlign: \"right\"}}\n                        className=\"column-hide-small\"\n                    >\n                        <EquivalentPrice\n                            refCallback={c => {\n                                if (c && c.refs.bound_component)\n                                    this.priceRefs[asset.get(\"symbol\")] =\n                                        c.refs.bound_component;\n                            }}\n                            fromAsset={asset.get(\"id\")}\n                            pulsate={{reverse: true, fill: \"forwards\"}}\n                            hide_symbols\n                        />\n                    </td>\n                    <td\n                        style={{textAlign: \"right\"}}\n                        className=\"column-hide-small\"\n                    >\n                        <Market24HourChangeComponent\n                            refCallback={c => {\n                                if (c && c.refs.bound_component)\n                                    this.changeRefs[asset.get(\"symbol\")] =\n                                        c.refs.bound_component;\n                            }}\n                            base={asset.get(\"id\")}\n                            quote={preferredUnit}\n                            marketId={asset.get(\"symbol\") + \"_\" + preferredUnit}\n                            hide_symbols\n                        />\n                    </td>\n                    <td\n                        style={{textAlign: \"right\"}}\n                        className=\"column-hide-small\"\n                    >\n                        {hasBalance || hasOnOrder ? (\n                            <BalanceValueComponent\n                                balance={balance}\n                                toAsset={preferredUnit}\n                                hide_asset\n                                refCallback={c => {\n                                    if (c && c.refs.bound_component)\n                                        this.valueRefs[asset.get(\"symbol\")] =\n                                            c.refs.bound_component;\n                                }}\n                            />\n                        ) : null}\n                    </td>\n                    {showAssetPercent ? (\n                        <td style={{textAlign: \"right\"}}>\n                            {hasBalance ? (\n                                <BalanceComponent\n                                    balance={balance}\n                                    asPercentage={true}\n                                />\n                            ) : null}\n                        </td>\n                    ) : null}\n                    <td>{transferLink}</td>\n                    <td>\n                        {this._renderBuy(\n                            asset.get(\"symbol\"),\n                            canBuy,\n                            assetName,\n                            emptyCell,\n                            balanceObject.get(\"balance\")\n                        )}\n                    </td>\n                    <td>\n                        {canDeposit && this.props.isMyAccount ? (\n                            <span>\n                                <Icon\n                                    style={{cursor: \"pointer\"}}\n                                    name=\"deposit\"\n                                    title=\"icons.deposit.deposit\"\n                                    className=\"icon-14x\"\n                                    onClick={this._showDepositModal.bind(\n                                        this,\n                                        assetName\n                                    )}\n                                />\n                            </span>\n                        ) : (\n                            emptyCell\n                        )}\n                    </td>\n                    <td>\n                        {canWithdraw && this.props.isMyAccount ? (\n                            <span>\n                                <a\n                                    className={!canWithdraw ? \"disabled\" : \"\"}\n                                    onClick={\n                                        canWithdraw\n                                            ? this._showDepositWithdraw.bind(\n                                                  this,\n                                                  \"withdraw_modal_new\",\n                                                  assetName,\n                                                  false\n                                              )\n                                            : () => {}\n                                    }\n                                >\n                                    <Icon\n                                        name=\"withdraw\"\n                                        title=\"icons.withdraw\"\n                                        className=\"icon-14px\"\n                                    />\n                                </a>\n                            </span>\n                        ) : (\n                            emptyCell\n                        )}\n                    </td>\n                    <td>{directMarketLink}</td>\n                    <td>\n                        {isBitAsset ? (\n                            <div\n                                className=\"inline-block\"\n                                data-place=\"bottom\"\n                                data-tip={counterpart.translate(\n                                    \"tooltip.borrow\",\n                                    {asset: symbol}\n                                )}\n                            >\n                                {borrowLink}\n                                {borrowModal}\n                            </div>\n                        ) : (\n                            emptyCell\n                        )}\n                    </td>\n                    <td>\n                        {isBitAsset ? (\n                            <div\n                                className=\"inline-block\"\n                                data-place=\"bottom\"\n                                data-tip={counterpart.translate(\n                                    \"tooltip.settle\",\n                                    {asset: symbol}\n                                )}\n                            >\n                                {settleLink}\n                            </div>\n                        ) : (\n                            emptyCell\n                        )}\n                    </td>\n                    <td\n                        style={{textAlign: \"center\"}}\n                        className=\"column-hide-small\"\n                        data-place=\"bottom\"\n                        data-tip={counterpart.translate(\n                            \"tooltip.\" +\n                                (includeAsset ? \"hide_asset\" : \"show_asset\")\n                        )}\n                    >\n                        <a\n                            style={{marginRight: 0}}\n                            className={\n                                includeAsset ? \"order-cancel\" : \"action-plus\"\n                            }\n                            onClick={this._hideAsset.bind(\n                                this,\n                                asset_type,\n                                includeAsset\n                            )}\n                        >\n                            <Icon\n                                name={\n                                    includeAsset\n                                        ? \"cross-circle\"\n                                        : \"plus-circle\"\n                                }\n                                title={\n                                    includeAsset\n                                        ? \"icons.cross_circle.hide_asset\"\n                                        : \"icons.plus_circle.show_asset\"\n                                }\n                                className=\"icon-14px\"\n                            />\n                        </a>\n                    </td>\n                </tr>\n            );\n        });\n\n        if (optionalAssets) {\n            optionalAssets\n                .filter(asset => {\n                    let isAvailable = false;\n                    this.props.backedCoins.get(\"OPEN\", []).forEach(coin => {\n                        if (coin && coin.symbol === asset) {\n                            isAvailable = true;\n                        }\n                    });\n                    if (!!this.props.bridgeCoins.get(asset)) {\n                        isAvailable = true;\n                    }\n                    let keep = true;\n                    balances.forEach(a => {\n                        if (a.key === asset) keep = false;\n                    });\n                    return keep && isAvailable;\n                })\n                .forEach(a => {\n                    let asset = ChainStore.getAsset(a);\n                    if (asset && this.props.isMyAccount) {\n                        const includeAsset = !hiddenAssets.includes(\n                            asset.get(\"id\")\n                        );\n\n                        const thisAssetName = asset.get(\"symbol\").split(\".\");\n                        const canDeposit =\n                            !!this.props.backedCoins\n                                .get(\"OPEN\", [])\n                                .find(\n                                    a => a.backingCoinType === thisAssetName[1]\n                                ) ||\n                            !!this.props.backedCoins\n                                .get(\"RUDEX\", [])\n                                .find(\n                                    a => a.backingCoin === thisAssetName[1]\n                                ) ||\n                            asset.get(\"symbol\") == \"BTS\";\n\n                        const canBuy = !!this.props.bridgeCoins.get(\n                            asset.get(\"symbol\")\n                        );\n\n                        const notCore = asset.get(\"id\") !== \"1.3.0\";\n                        let {market} = assetUtils.parseDescription(\n                            asset.getIn([\"options\", \"description\"])\n                        );\n                        if (\n                            asset.get(\"symbol\").indexOf(\"OPEN.\") !== -1 &&\n                            !market\n                        )\n                            market = \"USD\";\n                        let preferredMarket = market ? market : coreSymbol;\n\n                        let directMarketLink = notCore ? (\n                            <Link\n                                to={`/market/${asset.get(\n                                    \"symbol\"\n                                )}_${preferredMarket}`}\n                            >\n                                <Icon\n                                    name=\"trade\"\n                                    title=\"icons.trade.trade\"\n                                    className=\"icon-14px\"\n                                />\n                            </Link>\n                        ) : (\n                            emptyCell\n                        );\n                        let {\n                            isBitAsset,\n                            borrowModal,\n                            borrowLink\n                        } = renderBorrow(asset, this.props.account);\n                        if (\n                            (includeAsset && visible) ||\n                            (!includeAsset && !visible)\n                        )\n                            balances.push(\n                                <tr\n                                    key={asset.get(\"symbol\")}\n                                    style={{maxWidth: \"100rem\"}}\n                                >\n                                    <td style={{textAlign: \"left\"}}>\n                                        <AssetImage\n                                            replaceNoneToBts={false}\n                                            maxWidth={30}\n                                            name={asset.get(\"symbol\")}\n                                        />\n                                        <LinkToAssetById\n                                            asset={asset.get(\"id\")}\n                                        />\n                                    </td>\n                                    <td>{emptyCell}</td>\n                                    <td className=\"column-hide-small\">\n                                        {emptyCell}\n                                    </td>\n                                    <td className=\"column-hide-small\">\n                                        {emptyCell}\n                                    </td>\n                                    <td className=\"column-hide-small\">\n                                        {emptyCell}\n                                    </td>\n                                    <td>{emptyCell}</td>\n                                    <td style={{textAlign: \"center\"}}>\n                                        {canBuy && this.props.isMyAccount ? (\n                                            <span>\n                                                <a\n                                                    onClick={this._showDepositWithdraw.bind(\n                                                        this,\n                                                        \"bridge_modal\",\n                                                        a,\n                                                        false\n                                                    )}\n                                                >\n                                                    <Icon\n                                                        name=\"dollar\"\n                                                        title=\"icons.dollar.buy\"\n                                                        className=\"icon-14px\"\n                                                    />\n                                                </a>\n                                            </span>\n                                        ) : (\n                                            emptyCell\n                                        )}\n                                    </td>\n                                    <td>\n                                        {canDeposit &&\n                                        this.props.isMyAccount ? (\n                                            <span>\n                                                <Icon\n                                                    style={{cursor: \"pointer\"}}\n                                                    name=\"deposit\"\n                                                    title=\"icons.deposit.deposit\"\n                                                    className=\"icon-14x\"\n                                                    onClick={this._showDepositModal.bind(\n                                                        this,\n                                                        asset.get(\"symbol\")\n                                                    )}\n                                                />\n                                            </span>\n                                        ) : (\n                                            emptyCell\n                                        )}\n                                    </td>\n                                    <td>{emptyCell}</td>\n                                    <td style={{textAlign: \"center\"}}>\n                                        {directMarketLink}\n                                    </td>\n                                    <td>\n                                        {isBitAsset ? (\n                                            <div\n                                                className=\"inline-block\"\n                                                data-place=\"bottom\"\n                                                data-tip={counterpart.translate(\n                                                    \"tooltip.borrow\",\n                                                    {asset: asset.get(\"symbol\")}\n                                                )}\n                                            >\n                                                {borrowLink}\n                                                {borrowModal}\n                                            </div>\n                                        ) : (\n                                            emptyCell\n                                        )}\n                                    </td>\n                                    <td>{emptyCell}</td>\n                                    <td\n                                        style={{textAlign: \"center\"}}\n                                        className=\"column-hide-small\"\n                                        data-place=\"bottom\"\n                                        data-tip={counterpart.translate(\n                                            \"tooltip.\" +\n                                                (includeAsset\n                                                    ? \"hide_asset\"\n                                                    : \"show_asset\")\n                                        )}\n                                    >\n                                        <a\n                                            style={{marginRight: 0}}\n                                            className={\n                                                includeAsset\n                                                    ? \"order-cancel\"\n                                                    : \"action-plus\"\n                                            }\n                                            onClick={this._hideAsset.bind(\n                                                this,\n                                                asset.get(\"id\"),\n                                                includeAsset\n                                            )}\n                                        >\n                                            <Icon\n                                                name={\n                                                    includeAsset\n                                                        ? \"cross-circle\"\n                                                        : \"plus-circle\"\n                                                }\n                                                title={\n                                                    includeAsset\n                                                        ? \"icons.cross_circle.hide_asset\"\n                                                        : \"icons.plus_circle.show_asset\"\n                                                }\n                                                className=\"icon-14px\"\n                                            />\n                                        </a>\n                                    </td>\n                                </tr>\n                            );\n                    }\n                });\n        }\n\n        balances.sort(this.sortFunctions[this.props.sortKey]);\n        return balances;\n    }\n\n    _renderSendModal() {\n        return (\n            <SendModal\n                id=\"send_modal_portfolio\"\n                refCallback={e => {\n                    if (e) this.send_modal = e;\n                }}\n                from_name={this.props.account.get(\"name\")}\n                asset_id={this.state.send_asset || \"1.3.0\"}\n            />\n        );\n    }\n\n    _renderSettleModal() {\n        return (\n            <SettleModal\n                ref=\"settlement_modal\"\n                modalId=\"settlement_modal\"\n                asset={this.state.settleAsset}\n                account={this.props.account.get(\"name\")}\n            />\n        );\n    }\n\n    render() {\n        const currentWithdrawAsset =\n            this.props.backedCoins.get(\"OPEN\", []).find(c => {\n                return c.symbol === this.state.withdrawAsset;\n            }) || {};\n        const currentBridges =\n            this.props.bridgeCoins.get(this.state.bridgeAsset) || null;\n\n        return (\n            <tbody>\n                {this._renderBalances(\n                    this.props.balanceList,\n                    this.props.optionalAssets,\n                    this.props.visible\n                )}\n                {this._renderSendModal()}\n                {this._renderSettleModal()}\n                {/* Withdraw Modal*/}\n                <SimpleDepositWithdraw\n                    ref=\"withdraw_modal\"\n                    action=\"withdraw\"\n                    fiatModal={this.state.fiatModal}\n                    account={this.props.account.get(\"name\")}\n                    sender={this.props.account.get(\"id\")}\n                    asset={this.state.withdrawAsset}\n                    modalId=\"simple_withdraw_modal\"\n                    balances={this.props.balances}\n                    {...currentWithdrawAsset}\n                    isDown={this.props.gatewayDown.get(\"OPEN\")}\n                />\n\n                <WithdrawModal\n                    ref=\"withdraw_modal_new\"\n                    modalId=\"withdraw_modal_new\"\n                    backedCoins={this.props.backedCoins}\n                    initialSymbol={this.state.withdrawAsset}\n                />\n\n                {/* Deposit Modal */}\n                <DepositModal\n                    ref=\"deposit_modal_new\"\n                    modalId=\"deposit_modal_new\"\n                    asset={this.state.depositAsset}\n                    account={this.props.account.get(\"name\")}\n                    backedCoins={this.props.backedCoins}\n                />\n\n                {/* Bridge modal */}\n                <SimpleDepositBlocktradesBridge\n                    ref=\"bridge_modal\"\n                    action=\"deposit\"\n                    account={this.props.account.get(\"name\")}\n                    sender={this.props.account.get(\"id\")}\n                    asset={this.state.bridgeAsset}\n                    modalId=\"simple_bridge_modal\"\n                    balances={this.props.balances}\n                    bridges={currentBridges}\n                    isDown={this.props.gatewayDown.get(\"TRADE\")}\n                />\n            </tbody>\n        );\n    }\n}\n\nAccountPortfolioList = connect(\n    AccountPortfolioList,\n    {\n        listenTo() {\n            return [SettingsStore, GatewayStore, MarketsStore];\n        },\n        getProps() {\n            return {\n                settings: SettingsStore.getState().settings,\n                viewSettings: SettingsStore.getState().viewSettings,\n                backedCoins: GatewayStore.getState().backedCoins,\n                bridgeCoins: GatewayStore.getState().bridgeCoins,\n                gatewayDown: GatewayStore.getState().down,\n                allMarketStats: MarketsStore.getState().allMarketStats\n            };\n        }\n    }\n);\n\nAccountPortfolioList = debounceRender(AccountPortfolioList, 50, {\n    leading: false\n});\n\nexport default AccountPortfolioList;\n","import React from \"react\";\nimport {FormattedNumber} from \"react-intl\";\nimport AssetWrapper from \"./AssetWrapper\";\nimport {connect} from \"alt-react\";\nimport MarketsStore from \"stores/MarketsStore\";\nimport ReactTooltip from \"react-tooltip\";\nimport {MarketStats} from \"../Utility/MarketPrice\";\n\n/**\n *  Displays change in market value for an asset\n *\n *  Expects three properties\n *  -'quote' which should be a asset id\n *  -'base' which is the asset id of the original asset amount\n */\n\nclass MarketChangeComponent extends MarketStats {\n    static defaultProps = {\n        fullPrecision: false,\n        noDecimals: false,\n        hide_asset: false\n    };\n\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        ReactTooltip.rebuild();\n    }\n\n    shouldComponentUpdate(np) {\n        return super.shouldComponentUpdate(np) || np.base !== this.props.base;\n    }\n\n    getValue() {\n        let {marketStats} = this.props;\n        return marketStats && marketStats.change ? marketStats.change : 0;\n    }\n\n    render() {\n        let marketChangeValue = this.getValue();\n        let dayChangeClass =\n            parseFloat(marketChangeValue) === 0\n                ? \"\"\n                : parseFloat(marketChangeValue) < 0\n                    ? \"change-down\"\n                    : \"change-up\";\n        let marketChangeFormattedValue = (\n            <FormattedNumber\n                style=\"decimal\"\n                value={marketChangeValue}\n                minimumFractionDigits={2}\n                maximumFractionDigits={2}\n            />\n        );\n\n        return (\n            <span className={\"value \" + dayChangeClass}>\n                {marketChangeFormattedValue}%\n            </span>\n        );\n    }\n}\nMarketChangeComponent = AssetWrapper(MarketChangeComponent, {\n    propNames: [\"quote\", \"base\"],\n    defaultProps: {quote: \"1.3.0\"}\n});\n\nclass Market24HourChangeComponent extends React.Component {\n    render() {\n        let {refCallback, ...others} = this.props;\n\n        return <MarketChangeComponent {...others} ref={refCallback} />;\n    }\n}\n\nMarket24HourChangeComponent = connect(\n    Market24HourChangeComponent,\n    {\n        listenTo() {\n            return [MarketsStore];\n        },\n        getProps(props) {\n            return {\n                marketStats: MarketsStore.getState().allMarketStats.get(\n                    props.marketId\n                ),\n                allMarketStats: MarketsStore.getState().allMarketStats\n            };\n        }\n    }\n);\n\nexport {Market24HourChangeComponent};\n","import React from \"react\";\nimport utils from \"common/utils\";\nimport AltContainer from \"alt-container\";\nimport SettingsStore from \"stores/SettingsStore\";\nimport FormattedPrice from \"./FormattedPrice\";\nimport MarketStatsCheck from \"./MarketStatsCheck\";\nimport MarketsStore from \"stores/MarketsStore\";\nimport MarketUtils from \"common/market_utils\";\nimport AssetWrapper from \"./AssetWrapper\";\n\nclass EquivalentPrice extends MarketStatsCheck {\n    static defaultProps = {\n        forceDirection: true\n    };\n\n    shouldComponentUpdate(np, nextState) {\n        return (\n            super.shouldComponentUpdate(np) ||\n            np.base_amount !== this.props.base_amount ||\n            np.quote_amount !== this.props.quote_amount ||\n            np.decimals !== this.props.decimals ||\n            !utils.are_equal_shallow(np.pulsate, this.props.pulsate) ||\n            !utils.are_equal_shallow(nextState, this.state)\n        );\n    }\n\n    getFinalPrice(real = false) {\n        const {coreAsset, fromAsset, toAsset, allMarketStats} = this.props;\n        return MarketUtils.getFinalPrice(\n            coreAsset,\n            fromAsset,\n            toAsset,\n            allMarketStats,\n            real\n        );\n    }\n\n    render() {\n        const {toAsset, forceDirection, ...others} = this.props;\n\n        const finalPrice = this.getFinalPrice();\n\n        if (finalPrice === 1) {\n            return <span>1.00</span>;\n        }\n\n        if (!finalPrice) return <span>--</span>;\n\n        return (\n            <FormattedPrice\n                force_direction={forceDirection ? toAsset.get(\"symbol\") : false}\n                base_amount={finalPrice.base.amount}\n                base_asset={finalPrice.base.asset_id}\n                quote_amount={finalPrice.quote.amount}\n                quote_asset={finalPrice.quote.asset_id}\n                {...others}\n            />\n        );\n    }\n}\n\nEquivalentPrice = AssetWrapper(EquivalentPrice, {\n    propNames: [\"toAsset\", \"fromAsset\", \"coreAsset\"],\n    defaultProps: {\n        toAsset: \"1.3.0\",\n        coreAsset: \"1.3.0\"\n    }\n});\n\nexport default class EquivalentPriceWrapper extends React.Component {\n    render() {\n        return (\n            <AltContainer\n                stores={[SettingsStore, MarketsStore]}\n                inject={{\n                    toAsset: () => {\n                        return (\n                            this.props.toAsset ||\n                            SettingsStore.getState().settings.get(\n                                \"unit\",\n                                \"1.3.0\"\n                            )\n                        );\n                    },\n                    allMarketStats: () => {\n                        return MarketsStore.getState().allMarketStats;\n                    }\n                }}\n            >\n                <EquivalentPrice {...this.props} ref={this.props.refCallback} />\n            </AltContainer>\n        );\n    }\n}\n","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Icon from \"./Icon\";\n\nexport default class PulseIcon extends Component {\n    static propTypes = {\n        duration: PropTypes.number.isRequired,\n        offIcon: PropTypes.string.isRequired,\n        onIcon: PropTypes.string.isRequired,\n        title: PropTypes.string.isRequired\n    };\n\n    componentDidMount() {\n        const {duration} = this.props;\n        this.interval = setInterval(this.tick, duration);\n    }\n\n    componentWillUnmount() {\n        this.interval && clearInterval(this.interval);\n    }\n\n    tick = () => {\n        const {onIcon, offIcon} = this.props;\n        const {name = onIcon} = this.state || {};\n        this.setState({\n            name: name === onIcon ? offIcon : onIcon\n        });\n    };\n\n    render() {\n        const {onIcon, rest} = this.props;\n        const {name = onIcon} = this.state || {};\n        const {title} = this.props;\n        return <Icon name={name} title={title} {...rest} />;\n    }\n}\n","import React from \"react\";\nimport ZfApi from \"react-foundation-apps/src/utils/foundation-api\";\nimport BaseModal from \"./BaseModal\";\nimport Translate from \"react-translate-component\";\nimport ChainTypes from \"../Utility/ChainTypes\";\nimport BindToChainState from \"../Utility/BindToChainState\";\nimport utils from \"common/utils\";\nimport BalanceComponent from \"../Utility/BalanceComponent\";\nimport WalletApi from \"api/WalletApi\";\nimport WalletDb from \"stores/WalletDb\";\nimport counterpart from \"counterpart\";\nimport {ChainStore} from \"bitsharesjs\";\nimport AmountSelector from \"../Utility/AmountSelector\";\n\nclass ModalContent extends React.Component {\n    static propTypes = {\n        asset: ChainTypes.ChainAsset.isRequired,\n        account: ChainTypes.ChainAccount.isRequired\n    };\n\n    constructor() {\n        super();\n        this.state = {\n            amount: 0\n        };\n    }\n\n    onAmountChanged({amount, asset}) {\n        this.setState({amount: amount});\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n        ZfApi.publish(\"settlement_modal\", \"close\");\n\n        let precision = utils.get_asset_precision(\n            this.props.asset.get(\"precision\")\n        );\n        let amount = this.state.amount.replace(/,/g, \"\");\n        amount *= precision;\n\n        var tr = WalletApi.new_transaction();\n        tr.add_type_operation(\"asset_settle\", {\n            fee: {\n                amount: 0,\n                asset_id: 0\n            },\n            account: this.props.account.get(\"id\"),\n            amount: {\n                amount: amount,\n                asset_id: this.props.asset.get(\"id\")\n            }\n        });\n        return WalletDb.process_transaction(tr, null, true)\n            .then(result => {\n                // console.log(\"asset settle result:\", result);\n                // this.dispatch(account_id);\n                return true;\n            })\n            .catch(error => {\n                console.error(\"asset settle error: \", error);\n                return false;\n            });\n    }\n\n    render() {\n        let {asset, account} = this.props;\n        let {amount} = this.state;\n\n        if (!asset) {\n            return null;\n        }\n\n        let assetID = asset.get(\"id\");\n\n        let account_balances = account.get(\"balances\");\n\n        let currentBalance = null,\n            balanceAmount = 0;\n\n        account_balances &&\n            account_balances.forEach(balance => {\n                let balanceObject = ChainStore.getObject(balance);\n                if (!balanceObject.get(\"balance\")) {\n                    return null;\n                }\n                if (balanceObject.get(\"asset_type\") === assetID) {\n                    currentBalance = balance;\n                    balanceAmount = balanceObject.get(\"balance\");\n                }\n            });\n\n        let precision = utils.get_asset_precision(asset.get(\"precision\"));\n        let parsedAmount = amount ? amount.replace(/,/g, \"\") : 0;\n        let submit_btn_class =\n            parseFloat(parsedAmount) > 0 &&\n            parseFloat(parsedAmount) * precision <= parseFloat(balanceAmount)\n                ? \"button success\"\n                : \"button disabled\";\n\n        let balanceText = (\n            <span>\n                <Translate content=\"exchange.balance\" />:&nbsp;\n                {currentBalance ? (\n                    <BalanceComponent balance={currentBalance} />\n                ) : (\n                    \"0 \" + asset.get(\"symbol\")\n                )}\n            </span>\n        );\n\n        return (\n            <form className=\"grid-block vertical full-width-content\">\n                <Translate\n                    component=\"h3\"\n                    style={{textAlign: \"center\"}}\n                    content=\"modal.settle.title\"\n                    asset={asset.get(\"symbol\")}\n                />\n                <div className=\"grid-container \" style={{paddingTop: \"2rem\"}}>\n                    <div className=\"content-block\">\n                        <AmountSelector\n                            label=\"modal.settle.amount\"\n                            amount={amount}\n                            onChange={this.onAmountChanged.bind(this)}\n                            display_balance={balanceText}\n                            asset={assetID}\n                            assets={[assetID]}\n                            tabIndex={1}\n                        />\n                    </div>\n                    <div className=\"content-block\">\n                        <input\n                            type=\"submit\"\n                            className={submit_btn_class}\n                            onClick={this.onSubmit.bind(this)}\n                            value={counterpart.translate(\"modal.settle.submit\")}\n                        />\n                    </div>\n                </div>\n            </form>\n        );\n    }\n}\nModalContent = BindToChainState(ModalContent);\n\nclass SettleModal extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {open: false};\n    }\n\n    show() {\n        this.setState({open: true}, () => {\n            ZfApi.publish(this.props.modalId, \"open\");\n        });\n    }\n\n    onClose() {\n        this.setState({open: false});\n    }\n\n    render() {\n        return !this.state.open ? null : (\n            <BaseModal\n                id={this.props.modalId}\n                onClose={this.onClose.bind(this)}\n                overlay={true}\n                ref=\"settlement_modal\"\n            >\n                <div className=\"grid-block vertical\">\n                    <ModalContent {...this.props} />\n                </div>\n            </BaseModal>\n        );\n    }\n}\n\nexport default SettleModal;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAKA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AACA;AAgBA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAHA;AAKA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAHA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAHA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAHA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAHA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAHA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAHA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAHA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAHA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAHA;AA1DA;AADA;AADA;AA4FA;;;;AA7JA;AACA;AADA;AAEA;AADA;AACA;AA6JA;AACA;AADA;AACA;AAGA;;;;;;;;;;;AACA;AACA;AACA;AACA;;;;AAJA;AACA;AAMA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AAbA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAaA;AAAA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AADA;AAGA;AACA;AAnBA;AACA;AAqBA;AAzBA;AA0BA;AACA;;;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AADA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAGA;;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AADA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAIA;AAEA;AAGA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AADA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AAIA;AALA;AAFA;AAWA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AADA;AAMA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAKA;AANA;AAQA;AARA;AAFA;AAeA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAIA;AALA;AAOA;AAPA;AAFA;AAcA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAKA;AANA;AAQA;AARA;AADA;AArDA;AAmEA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AADA;AAGA;AAJA;AAMA;AANA;AAdA;AADA;AAyBA;AAAA;AAAA;AAAA;AAAA;AA1BA;AADA;AA+BA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAHA;AADA;AAhCA;AAPA;AADA;AAqDA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AAFA;AAYA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AADA;AAFA;AAlEA;AADA;AAkFA;;;;AAtUA;AACA;AADA;AAEA;AACA;AACA;AACA;AACA;AALA;AADA;AAUA;AADA;AACA;AACA;AA8TA;AACA;AACA;AACA;AAHA;AACA;AAKA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAKA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAFA;AAQA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;;;AAEA;AACA;AAGA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AACA;AAGA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AARA;AADA;AAcA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AADA;AAYA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAGA;AAJA;AAKA;AALA;AAAA;AAOA;AACA;AACA;AACA;AACA;AAJA;AARA;AAgBA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAKA;AACA;AATA;AAWA;AAXA;AAcA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AALA;AAfA;AA5CA;AADA;AAuEA;;;;AA/IA;AACA;AADA;AAEA;AADA;AACA;AACA;AA+IA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AADA;AAFA;AAKA;AACA;;;AACA;AAAA;AAAA;AACA;AAAA;AACA;;;AAEA;AACA;AAGA;AACA;AACA;AAKA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AADA;AAOA;AAdA;AADA;AAmBA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AAPA;AAUA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AALA;AAXA;AApBA;AAFA;AA4CA;;;;AA1EA;AACA;AADA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;;;AAUA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AACA;AACA;AACA;AACA;AAFA;AAIA;;;AAEA;AACA;AACA;AAKA;AAKA;AACA;AADA;AAMA;AACA;AACA;AACA;AACA;AACA;AADA;AAKA;AACA;AACA;;;AAEA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAYA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAYA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAYA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAIA;AANA;AAFA;AAeA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAIA;AANA;AAFA;AAeA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AAAA;AAAA;AAAA;AAXA;AAnEA;AAmFA;;;;AAhJA;AACA;AADA;AAEA;AACA;AAFA;AADA;AAOA;AADA;AACA;AA2IA;AACA;AACA;;;AAWA;AAAA;AACA;AADA;AACA;AAEA;AAHA;AAIA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AASA;AADA;AARA;AAAA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AALA;AAUA;AACA;AACA;AACA;AACA;AAEA;AAEA;AARA;AAUA;AArCA;AAuCA;;;AAEA;AACA;AACA;AACA;AAIA;AACA;AACA;AAFA;AAIA;;;AAEA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAYA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAWA;AAOA;AACA;;;AAEA;AACA;AAIA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3BA;AACA;AA6BA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AACA;AA8BA;AACA;;;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAEA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/EA;AACA;AAiFA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAYA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AADA;AAGA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AAFA;AAIA;AACA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AAAA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AArBA;AACA;AAsBA;AACA;AACA;AAFA;AAIA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AACA;AASA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAaA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AAKA;AANA;AASA;AACA;AAEA;AAKA;AANA;AASA;AACA;AAEA;AAKA;AANA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AADA;AADA;AAAA;AAKA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAFA;AAIA;AATA;AADA;AANA;AADA;AADA;AAyBA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;AAWA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AADA;AADA;AAAA;AAKA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAQA;AACA;AACA;AACA;AAHA;AAKA;AAbA;AADA;AANA;AADA;AADA;AA6BA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AALA;AAOA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AARA;AACA;AAgBA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AADA;AAMA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAWA;AACA;AAAA;AACA;AADA;AAKA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAHA;AALA;AAcA;AACA;AAAA;AACA;AADA;AAKA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAFA;AAcA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AAOA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AADA;AADA;AAAA;AAOA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AADA;AAGA;AALA;AASA;AACA;AACA;AAFA;AAIA;AAbA;AADA;AARA;AADA;AAJA;AAkCA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AACA;AADA;AAHA;AAAA;AASA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AADA;AAIA;AANA;AAUA;AACA;AACA;AAFA;AAMA;AAhBA;AAHA;AAVA;AADA;AAJA;AA2CA;AACA;AACA;AAFA;AAKA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AADA;AAIA;AACA;AAAA;AACA;AADA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAPA;AADA;AAXA;AADA;AA6BA;AAAA;AAAA;AACA;AACA;AACA;AAIA;AAIA;AAIA;AAIA;AACA;AACA;AACA;AACA;AAFA;AApBA;AADA;AAxCA;AAoEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAQA;AADA;AATA;AA2BA;AAAA;AAAA;AACA;AACA;AAFA;AAEA;AAFA;AA7BA;AADA;AArEA;AA4GA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAFA;AANA;AAYA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAFA;AAxQA;AADA;AAiRA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AAYA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AANA;AADA;AAcA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAXA;AAgBA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAPA;AADA;AAeA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AAIA;AANA;AADA;AAxBA;AAxDA;AADA;AAmGA;AACA;AAAA;AACA;AACA;AACA;AAGA;AAGA;AACA;AACA;AAVA;AADA;AAkBA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAGA;AAJA;AADA;AAQA;AATA;AADA;AAcA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAGA;AAJA;AADA;AAQA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AADA;AAMA;AANA;AAAA;AAQA;AAAA;AAAA;AACA;AACA;AADA;AADA;AAKA;AAAA;AAAA;AACA;AACA;AACA;AADA;AAIA;AANA;AAWA;AACA;AACA;AAFA;AAMA;AAjBA;AALA;AATA;AADA;AADA;AAuCA;AAAA;AAAA;AACA;AACA;AADA;AADA;AAKA;AAAA;AAAA;AACA;AAAA;AADA;AAGA;AACA;AACA;AAGA;AALA;AAHA;AAeA;AAAA;AAAA;AACA;AAAA;AADA;AAEA;AAFA;AAGA;AACA;AACA;AAGA;AALA;AAHA;AAcA;AACA;AAAA;AACA;AADA;AAnCA;AA5CA;AAuFA;AAAA;AAAA;AACA;AADA;AAGA;AApGA;AADA;AA7ZA;AAPA;AADA;AADA;AAmhBA;;;;AAnpCA;AACA;AADA;AAEA;AACA;AAFA;AADA;AAOA;AACA;AAFA;AACA;AACA;AA8oCA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACp0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;;;AASA;AAAA;AACA;AADA;AACA;AAEA;AAHA;AAIA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AAGA;AAGA;AACA;AACA;AAQA;AACA;AAQA;AAIA;AAIA;AACA;AACA;AAGA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAJA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAIA;AAIA;AAIA;AAIA;AAIA;AAEA;AACA;AAEA;AAEA;AACA;AA9DA;AAiEA;AACA;AACA;AACA;;;AAAA;AACA;AACA;AACA;AAkBA;AACA;AACA;AACA;;;AAAA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAQA;AACA;AAWA;AACA;AAOA;AACA;AAKA;AACA;AAKA;AACA;AAKA;AACA;AAMA;AACA;AACA;AACA;AAKA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AAUA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAkBA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AAGA;AAiBA;AAOA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3BA;AACA;AA6BA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAIA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1BA;AACA;AA4BA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AADA;AADA;AAMA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AA1CA;AACA;AA4CA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAGA;AALA;AAAA;AAAA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AAQA;AACA;AACA;AAYA;AACA;AACA;AAGA;AACA;AACA;AACA;AAIA;AAIA;AACA;AACA;AAIA;AAIA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAIA;AAGA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAOA;AACA;;;AAEA;AACA;AACA;AAEA;AACA;AALA;AACA;AASA;AACA;AACA;AAFA;AAIA;AACA;;;AAEA;AACA;AAGA;;;AAEA;AACA;AAGA;;;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AADA;AAGA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AAFA;AAIA;AACA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AAKA;;;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAaA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AAGA;AAGA;AACA;AAGA;AAEA;AAEA;AAIA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AADA;AADA;AAAA;AAKA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAFA;AAIA;AATA;AADA;AANA;AADA;AADA;AAyBA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AADA;AADA;AAAA;AAKA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAQA;AACA;AACA;AACA;AAHA;AAKA;AAbA;AADA;AANA;AADA;AADA;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AADA;AAGA;AACA;AALA;AAWA;AAXA;AAiBA;AAAA;AAAA;AACA;AACA;AADA;AAGA;AAJA;AAMA;AANA;AAlBA;AACA;AA4BA;AAGA;AAGA;AACA;AAKA;AACA;AAAA;AACA;AADA;AAEA;AACA;AACA;AAFA;AAFA;AACA;AAQA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AAIA;AACA;AAGA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAFA;AADA;AAMA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAWA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAVA;AADA;AAcA;AACA;AAAA;AACA;AADA;AAKA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAIA;AAIA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AAnBA;AADA;AA2BA;AACA;AAAA;AACA;AACA;AACA;AAIA;AAIA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AAnBA;AADA;AA2BA;AACA;AAAA;AACA;AADA;AAIA;AACA;AAAA;AACA;AADA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AAIA;AAIA;AAIA;AAIA;AACA;AACA;AACA;AACA;AAFA;AApBA;AADA;AA2BA;AAAA;AAAA;AACA;AACA;AACA;AAIA;AAIA;AAIA;AAIA;AACA;AACA;AACA;AACA;AAFA;AApBA;AADA;AA9FA;AA0HA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AAGA;AAIA;AAIA;AAbA;AAFA;AADA;AA3HA;AAgJA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAFA;AANA;AAaA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAFA;AA5LA;AAJA;AAwMA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AACA;AAGA;AAGA;AA1BA;AA6BA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAFA;AA7BA;AAJA;AAyCA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AANA;AADA;AAcA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAPA;AADA;AAeA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAbA;AAiBA;AACA;AAAA;AACA;AADA;AAKA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAPA;AADA;AAeA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AAIA;AANA;AADA;AAxBA;AAyCA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAFA;AAvGA;AAJA;AAmHA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AAGA;AAGA;AAGA;AAXA;AAcA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAFA;AAfA;AAJA;AA4BA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AADA;AAUA;AACA;AACA;AAGA;AAIA;AAIA;AACA;AACA;AACA;AAhBA;AAmBA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAFA;AA9BA;AAJA;AA0CA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AADA;AAGA;AAEA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAFA;AAVA;AAJA;AAsBA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AAGA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AADA;AAMA;AANA;AAAA;AAQA;AAAA;AAAA;AACA;AACA;AADA;AADA;AAKA;AAAA;AAAA;AACA;AACA;AACA;AADA;AAIA;AANA;AAWA;AACA;AACA;AACA;AAHA;AAOA;AAlBA;AALA;AATA;AADA;AADA;AAwCA;AAAA;AAAA;AACA;AACA;AADA;AADA;AAKA;AAAA;AAAA;AACA;AAAA;AADA;AAGA;AACA;AACA;AAGA;AALA;AAHA;AAeA;AAAA;AAAA;AACA;AACA;AACA;AAGA;AAIA;AACA;AAGA;AACA;AAdA;AADA;AAkBA;AACA;AAAA;AACA;AADA;AAvCA;AA7CA;AA4FA;AAAA;AAAA;AACA;AADA;AAGA;AAEA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAFA;AAKA;AACA;AAAA;AACA;AADA;AA/GA;AAJA;AA0HA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AASA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAHA;AAKA;AAAA;AAAA;AACA;AADA;AAEA;AAEA;AAGA;AAJA;AAHA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAYA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AADA;AAGA;AAJA;AAQA;AARA;AAUA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AAXA;AA3CA;AADA;AAiEA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAGA;AAGA;AACA;AAVA;AAcA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AAnBA;AAxoBA;AAPA;AADA;AAgrBA;AACA;AACA;AACA;AACA;AACA;AALA;AAjrBA;AA2rBA;;;;AA1kDA;AACA;AADA;AAEA;AADA;AADA;AAMA;AADA;AACA;AAskDA;AACA;AACA;AACA;AACA;AADA;AAGA;AALA;AACA;AAOA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AAFA;AAGA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAHA;AAKA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AADA;AAIA;AACA;AAAA;AACA;AADA;AAIA;AACA;AAAA;AACA;AADA;AAIA;AACA;AAAA;AACA;AADA;AAIA;AACA;AAAA;AACA;AADA;AAIA;AACA;AAAA;AACA;AADA;AAIA;AACA;AAAA;AACA;AADA;AAMA;AACA;AAAA;AACA;AADA;AAvCA;AADA;AA8CA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AAMA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AAPA;AAzDA;AAyEA;;;;AA7FA;AACA;AA+FA;;;;;;;;;;;AACA;AACA;AACA;AACA;;;;AAJA;AACA;AAMA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9tDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AAMA;AACA;AAVA;AAHA;AAeA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AACA;AAQA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAJA;AADA;AAUA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AAFA;AASA;AACA;AACA;AACA;AAHA;AATA;AAJA;AAqBA;AAxBA;AAXA;AAsCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAIA;AAIA;AACA;AACA;AACA;AAfA;AADA;AAvCA;AAiEA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAJA;AADA;AAUA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AAFA;AASA;AACA;AACA;AACA;AAHA;AATA;AAJA;AAqBA;AAxBA;AAXA;AAsCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AADA;AAvCA;AA2DA;;;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AADA;AAGA;;;AAEA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AADA;AAGA;AALA;AAUA;AACA;AADA;AAVA;AAeA;AAlBA;AAJA;AAyBA;AAGA;AA7BA;AADA;AAkCA;;;;AAlOA;AACA;AAoOA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAMA;AAXA;;;;;;;;;;;;;;;;;;;;;;;;;ACjPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AAEA;AACA;AADA;AAHA;AAMA;AACA;;;AACA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAFA;AANA;AAYA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AALA;AADA;AAWA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AAFA;AAQA;AACA;AACA;AACA;AAHA;AARA;AAPA;AAuBA;AA1BA;AAZA;AAyCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AADA;AA1CA;AA6DA;;;;AAtGA;AACA;AADA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAQA;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AADA;AAJA;AASA;;;;AArBA;AACA;AADA;AAEA;AADA;AADA;AAKA;AADA;AACA;AAkBA;AACA;AACA;;;;;;;;;;;AAWA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAWA;AAGA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AAFA;AAAA;AAKA;AACA;AACA;AAIA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAJA;AASA;AAAA;AAAA;AACA;AACA;AAFA;AAQA;AARA;AASA;AAnBA;AAqBA,gEAGA;AAxBA;AAoCA;AACA;AAtCA;AA0CA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAJA;AAQA;AAAA;AAAA;AACA;AADA;AARA;AAgBA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAAA;AAJA;AAQA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AADA;AAEA;AAAA;AAAA;AACA;AADA;AAMA;AANA;AAFA;AAAA;AAYA;AAAA;AAAA;AACA;AADA;AAAA;AAbA;AAiBA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AADA;AAEA;AAAA;AAAA;AACA;AADA;AAMA;AANA;AAFA;AAAA;AAYA;AAAA;AAAA;AACA;AADA;AAAA;AAbA;AAiBA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AADA;AAEA;AAAA;AAAA;AACA;AADA;AAMA;AANA;AAFA;AAAA;AAYA;AAAA;AAAA;AACA;AADA;AAAA;AAbA;AAiBA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AADA;AAGA;AAAA;AAAA;AAEA;AAFA;AAJA;AA5DA;AADA;AA0EA;AAAA;AAAA;AACA;AADA;AAGA;AAHA;AAKA;AAAA;AAAA;AACA;AACA;AADA;AADA;AArGA;AADA;AA+GA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAMA;AACA;AAIA;AALA;AAOA;AAtBA;AADA;AADA;AAhHA;AADA;AAhDA;AAPA;AADA;AADA;AADA;AAuNA;;;;AA/RA;AACA;AADA;AAEA;AACA;AACA;AAHA;AADA;AAOA;AACA;AAFA;AACA;AA0RA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AC3UA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAKA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AADA;AAJA;AADA;AAcA;;;;AAtBA;AACA;AADA;AAEA;AADA;AACA;AACA;AAsBA;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AACA;AAAA;AACA;AAAA;AACA;AAKA;AAEA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAMA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AADA;AAJA;AAWA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAQA;AARA;AAJA;AAeA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AASA;AATA;AAJA;AAgBA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAAA;AAJA;AAaA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AACA;AAGA;AAJA;AAHA;AAJA;AAeA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AADA;AADA;AAvEA;AADA;AAPA;AA6FA;;;;AAxIA;AACA;AA0IA;;;AACA;AAAA;AACA;AADA;AACA;AAEA;AACA;AADA;AAHA;AAMA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAIA;AACA;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AADA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAJA;AASA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAKA;AACA;AAAA;AACA;AACA;AADA;AADA;AAPA;AAPA;AADA;AADA;AADA;AAiCA;;;;AApGA;AACA;AAsGA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AAJA;AAKA;AACA;;;AACA;AACA;AACA;AACA;;;AAEA;AACA;AAEA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAEA;AAAA;AAEA;AAEA;AAAA;AAEA;AAEA;AAAA;AAEA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAwBA;AACA;;;AAEA;AACA;AACA;AAWA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAOA;AACA;AADA;AACA;AAGA;AACA;AAOA;AACA;AACA;AAOA;AACA;AAOA;AACA;AAEA;AACA;AAJA;AAMA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAaA;;;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAcA;AAEA;AAMA;AAEA;AACA;AAFA;AACA;AAIA;AAEA;AAMA;AAEA;AACA;AAFA;AACA;AAIA;AAOA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AALA;AAQA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AALA;AATA;AARA;AA2BA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AAVA;AAHA;AADA;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAIA;AAIA;AAGA;AArBA;AAuBA;AACA;AACA;AAAA;AACA;AADA;AA7CA;AAmDA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AAVA;AAHA;AADA;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAIA;AAIA;AAGA;AArBA;AAuBA;AACA;AACA;AAAA;AACA;AADA;AA7CA;AAmDA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AALA;AAeA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAIA;AAIA;AAIA;AAIA;AA3BA;AADA;AAhJA;AAiLA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAHA;AAlLA;AADA;AADA;AAmMA;;;;AA7fA;AACA;AA+fA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChhBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AASA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAFA;AAKA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AADA;AAPA;AAcA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAQA;AARA;AADA;AAnBA;AAiCA;;;;AAvFA;AACA;AADA;AAEA;AACA;AACA;AACA;AACA;AALA;AACA;AAwFA;;;AAYA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AAVA;AAWA;AACA;;;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;;;AAEA;AACA;AAMA;;;AAEA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAMA;AACA;AAMA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAVA;AAfA;AA6BA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AARA;AADA;AAcA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAfA;AADA;AA9BA;AAuDA;;;;AAxLA;AACA;AADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AACA;AACA;AAwLA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAKA;AAAA;AACA;AADA;AACA;AACA;AAFA;AAGA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAJA;AAMA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAQA;AAAA;AAAA;AACA;AACA;AAFA;AAMA;AACA;AACA;AAFA;AANA;AATA;AAJA;AA2BA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AADA;AA7BA;AAJA;AA4CA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAJA;AAQA;AAEA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AACA;AALA;AAnEA;AADA;AA8EA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AADA;AAvFA;AAgGA;AAlGA;AAqGA;;;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AAEA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;;;;AAnKA;AACA;AADA;AAEA;AADA;AADA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAOA;AACA;;;AACA;AACA;AACA;AACA;AAFA;AAIA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AADA;AAMA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AAOA;AACA;AACA;AAFA;AAPA;AADA;AAeA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAXA;AAPA;AAjBA;AAwCA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAMA;AANA;AASA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAMA;AANA;AAXA;AADA;AA9CA;AAPA;AAPA;AAsFA;;;;AA7IA;AACA;AA+IA;AACA;AACA;AAFA;AAIA;AACA;AADA;AAGA;;;;;;;AC/JA;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAYA;AACA;;;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAGA;AAGA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAIA;AACA;AACA;AAIA;AALA;AAOA;AAQA;AAOA;AACA;;;AAEA;AACA;AAIA;AAIA;AACA;AAIA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAIA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAIA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAdA;AAwBA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAQA;AARA;AADA;AALA;AAkBA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAQA;AARA;AADA;AALA;AAkBA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AADA;AAGA;AALA;AAWA;AAXA;AADA;AALA;AArCA;AADA;AA8DA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AArGA;AA8GA;;;;AA7MA;AACA;AADA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;;AAYA;AAAA;AACA;AADA;AAEA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AAKA;AACA;AACA;;;AAEA;AACA;AACA;AAEA;AACA;AADA;AAGA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAGA;AAAA;AACA;AADA;AAIA;AACA;AACA;AACA;AAHA;AARA;AAcA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AADA;AASA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAXA;AAaA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AADA;AAJA;AAxBA;AADA;AAoCA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAnDA;AADA;AA0DA;;;;AA9GA;AACA;AADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AACA;AA8GA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AASA;;;AAKA;AAAA;AACA;AACA;AAFA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAHA;AAcA;AACA;AACA;;;;;;;;;;AAMA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAIA;AAKA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;;;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AACA;AAKA;AACA;AACA;AACA;AACA;;;;;;;;;AAMA;AAAA;AACA;AADA;AACA;AAAA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;;;;;;;;;AAMA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAMA;AAAA;AACA;AADA;AACA;AAAA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AADA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AATA;AAWA;AACA;AACA;AACA;AACA;AAGA;AANA;AAUA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAMA;AANA;AAQA;AAAA;AAAA;AACA;AADA;AATA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAPA;AA9CA;AADA;AA6DA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AAOA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AADA;AAKA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAMA;AACA;AACA;AAIA;AANA;AAUA;AAhBA;AADA;AANA;AADA;AAPA;AAJA;AA0CA;AACA;AACA;AACA;AAGA;AANA;AAUA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAMA;AANA;AAQA;AAAA;AAAA;AACA;AADA;AAGA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AADA;AADA;AASA;AAAA;AAAA;AACA;AADA;AATA;AAFA;AAoBA;AAMA;AAAA;AACA;AACA;AACA;AADA;AAFA;AAvCA;AAxDA;AADA;AApEA;AADA;AADA;AADA;AAyLA;;;;AA7YA;AACA;AADA;AAEA;AADA;AACA;AA6YA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACpaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AAkBA;;;;;;;;AACA;;;;;;;;;;;;;;;AAeA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AATA;AAWA;AACA;AACA;;;;;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;;;;;;;;;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAKA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAgBA;AACA;AAEA;AACA;AACA;AACA;AAKA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;ACnQA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAMA;;;AAUA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAFA;AAaA;AAtBA;AACA;AACA;AACA;AACA;;;AAoBA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AAFA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AAOA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAWA;AAZA;AAcA;AAdA;AATA;AA2BA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AADA;AAAA;AAMA;AAAA;AANA;AAQA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AATA;AAAA;AAAA;AARA;AAsBA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AAOA;AAAA;AAAA;AAAA;AAAA;AAPA;AAxDA;AAoEA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AARA;AAxEA;AAqFA;;;;AA/MA;AACA;AADA;AAOA;AADA;AACA;AACA;AA0MA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AASA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AADA;AAPA;AAkBA;;;;AA/BA;AACA;AADA;AAEA;AADA;AADA;AAMA;AADA;AACA;AA2BA;AACA;AACA;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAPA;AASA;AACA;AACA;;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAQA;AACA;AAXA;AAcA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAJA;AADA;AAYA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AARA;AADA;AAaA;AAAA;AAAA;AAAA;AAAA;AAfA;AAkBA;;;;AA9EA;AACA;AAgFA;;;AACA;AAAA;AACA;AADA;AACA;AAEA;AACA;AACA;AAFA;AAHA;AAOA;AACA;;;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAPA;AASA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AAFA;AAIA;;;AAEA;AACA;AACA;AACA;AACA;AAFA;AAIA;;;AAEA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAKA;AACA;AAZA;AADA;AAgBA;AACA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAGA;AACA;AACA;AAIA;AACA;AACA;AAjBA;AADA;AA3BA;AADA;AAoDA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAGA;AATA;AADA;AAaA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AAGA;AAGA;AACA;AACA;AAIA;AACA;AAlBA;AADA;AAjBA;AADA;AA2CA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AAJA;AADA;AAiBA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AAJA;AADA;AAvHA;AADA;AADA;AADA;AA+IA;;;;AApNA;AACA;AAsNA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAWA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAaA;AACA;AACA;AACA;AApBA;AAqBA;AACA;;;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AAgBA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AAMA;;;AAEA;AAAA;AACA;AADA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAKA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AACA;AAAA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAOA;AApBA;AACA;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AAAA;AAAA;AACA;AAQA;AAEA;AACA;AAAA;AAIA;AACA;AAIA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAKA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AAEA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AAEA;AADA;AAIA;AACA;AAEA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AAIA;;;AAEA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AAMA;AACA;AACA;AACA;AAKA;AAAA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAAA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AADA;AAJA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AAIA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAIA;AAEA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAXA;AAcA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAKA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAXA;AAcA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAXA;AAcA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AADA;AAGA;AACA;AALA;AAOA;AAPA;AASA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AALA;AAVA;AACA;AAmBA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AAQA;AARA;AAUA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AAQA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AARA;AApBA;AACA;AAsCA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAFA;AAUA;AAVA;AACA;AAaA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AADA;AAMA;AANA;AAHA;AAaA;AACA;AACA;AACA;AACA;AAIA;AAIA;AAIA;AACA;AAOA;AACA;AAGA;AA5BA;AAdA;AADA;AAgDA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AADA;AAMA;AANA;AAHA;AAYA;AACA;AACA;AACA;AACA;AAIA;AAIA;AAIA;AACA;AAOA;AACA;AAGA;AA5BA;AAbA;AADA;AA+CA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AADA;AADA;AAOA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AADA;AAGA;AALA;AAUA;AAVA;AAeA;AAAA;AAAA;AACA;AACA;AADA;AAGA;AAJA;AASA;AATA;AAeA;AACA;AAAA;AACA;AAIA;AALA;AAcA;AAdA;AAjCA;AAmDA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AADA;AAMA;AANA;AAFA;AA3DA;AA0FA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AAMA;AAAA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AAJA;AAHA;AAUA;AAlBA;AAoBA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAFA;AADA;AADA;AArBA;AAgCA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAJA;AAKA;AACA;AADA;AALA;AAAA;AASA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AADA;AAGA;AAEA;AACA;AACA;AAGA;AANA;AAJA;AAcA;AA7BA;AA+BA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAFA;AADA;AADA;AAhCA;AA2CA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AADA;AAGA;AAHA;AAMA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AAMA;AACA;AAAA;AACA;AADA;AAGA;AAHA;AAMA;AAAA;AAAA;AACA;AADA;AAGA;AAEA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AAOA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AADA;AAAA;AAMA;AACA;AADA;AANA;AAAA;AALA;AAgBA;AAEA;AAAA;AACA;AADA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AADA;AAAA;AAMA;AACA;AADA;AANA;AAAA;AAJA;AAiBA;AAAA;AAAA;AACA;AADA;AA1EA;AADA;AAiFA;AAAA;AAAA;AACA;AADA;AA/JA;AA3FA;AAvGA;AADA;AADA;AADA;AAkXA;;;;AA7jCA;AACA;AADA;AAEA;AACA;AACA;AAHA;AADA;AAQA;AADA;AACA;AAujCA;AACA;AACA;AACA;AAGA;AAFA;AAKA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/lCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAYA;AAAA;AACA;AADA;AAEA;AACA;;;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AAIA;AACA;AACA;AACA;AAGA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AAOA;AAPA;AAWA;AAAA;AAAA;AACA;AADA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AADA;AAMA;AACA;AACA;AATA;AAWA;AAXA;AAJA;AAkBA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AACA;AANA;AAnBA;AA6BA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AASA;AACA;AAAA;AACA;AACA;AAIA;AACA;AACA;AAPA;AADA;AAaA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAIA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AAAA;AAQA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AASA;AACA;AAAA;AACA;AAIA;AACA;AACA;AACA;AAJA;AAJA;AAcA;AAAA;AAAA;AACA;AACA;AAFA;AAUA;AAEA;AAKA;AANA;AAXA;AA1GA;AAuIA;;;;AAvNA;AACA;AADA;AAEA;AACA;AACA;AACA;AAJA;AADA;AASA;AADA;AACA;AACA;AAgNA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;;;;;;;;;;;AAMA;AACA;AAOA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AACA;AAKA;AAIA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AALA;AAFA;AAWA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AAQA;AAAA;AAAA;AACA;AACA;AADA;AADA;AAOA;AAAA;AAAA;AACA;AACA;AADA;AADA;AAKA;AAAA;AAAA;AACA;AACA;AAFA;AAQA;AAEA;AAKA;AANA;AATA;AApCA;AA+DA;;;;AAhGA;AACA;AADA;AAEA;AACA;AAFA;AACA;AAiGA;;;AAmBA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AATA;AAUA;AACA;;;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAKA;AAGA;AAEA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AAbA;AAgBA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAcA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAHA;AAKA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAnBA;AADA;AAyBA;AAAA;AAAA;AAAA;AAAA;AA1BA;AApBA;AAmDA;;;;AA/KA;AACA;AADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AADA;AAcA;AACA;AACA;AAHA;AACA;AACA;AAmKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAPA;AACA;AAmBA;AAtBA;AAuBA;AACA;;;AACA;AACA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AAQA;;;AAEA;AAAA;AACA;AAAA;AACA;AADA;AAGA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AACA;;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAGA;AAEA;AAAA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAKA;AACA;AAIA;AACA;AAIA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AALA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AACA;AAmBA;AACA;AACA;AAEA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;AACA;AAoBA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AAHA;AAMA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AAEA;AACA;AACA;AACA;AACA;AALA;AAQA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AAEA;AACA;AACA;AACA;AAJA;AACA;AAOA;AAEA;AACA;AACA;AAHA;AACA;AAMA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AATA;AACA;AAYA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AATA;AACA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AAOA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AADA;AAIA;AALA;AAcA;AAdA;AAgBA;AACA;AAAA;AACA;AAGA;AADA;AAMA;AATA;AAkBA;AAlBA;AAqBA;AAAA;AAAA;AACA;AACA;AADA;AAIA;AALA;AAcA;AAdA;AAvCA;AARA;AAkEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAQA;AACA;AACA;AAFA;AARA;AAaA;AAAA;AAAA;AACA;AAIA;AACA;AANA;AAQA;AARA;AAUA;AAAA;AAAA;AACA;AAIA;AACA;AANA;AAQA;AAAA;AARA;AASA;AACA;AACA;AAFA;AATA;AAAA;AAcA;AAAA;AAAA;AACA;AAIA;AACA;AANA;AAQA;AARA;AAUA;AAAA;AAAA;AACA;AAIA;AACA;AANA;AAQA;AACA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAMA;AAVA;AARA;AAqBA;AACA;AAAA;AACA;AACA;AADA;AADA;AAKA;AACA;AACA;AAFA;AALA;AAWA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AADA;AADA;AAtGA;AADA;AAmHA;AAKA;AAAA;AAAA;AACA;AADA;AAzHA;AAkIA;AADA;AAxMA;AA8MA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AAMA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AAMA;AAbA;AADA;AADA;AAJA;AA2BA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AADA;AAKA;AALA;AAHA;AAYA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAXA;AANA;AADA;AADA;AAZA;AAsCA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AATA;AAJA;AAiBA;AAEA;AAAA;AACA;AACA;AAFA;AAQA;AACA;AACA;AAFA;AARA;AAzSA;AADA;AADA;AADA;AA+TA;;;;AAnoBA;AACA;AAqoBA;AACA;AACA;;;;;;;;;;;AACA;AACA;AACA;;;;AAHA;AACA;AADA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/pBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AASA;;;;;;;;;;;AAUA;AACA;AACA;AAGA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAQA;AACA;AACA;AAFA;AAdA;AACA;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAAA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAqBA;;;AAEA;AACA;AACA;AAIA;AACA;AACA;;;AAEA;AACA;AAOA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAAA;AAAA;AACA;AADA;AANA;AAUA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AAOA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AAOA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AAOA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AALA;AAOA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAMA;AAVA;AADA;AAcA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AADA;AASA;AAAA;AAAA;AACA;AACA;AAOA;AACA;AAOA;AACA;AAjBA;AADA;AAqBA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AALA;AAJA;AAcA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAGA;AALA;AAOA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AAPA;AADA;AAiBA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAIA;AANA;AAQA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AARA;AAgBA;AAEA;AACA;AACA;AACA;AAKA;AATA;AAlBA;AAlHA;AAmJA;;;;AA/TA;AACA;AADA;AAEA;AACA;AAFA;AADA;AAOA;AADA;AACA;AA0TA;AACA;AACA;;;;;;;;;;;AAKA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAOA;;;;AAlBA;AACA;AADA;AAEA;AADA;AACA;AACA;AAkBA;AACA;AACA;;;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAqBA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAAA;AAAA;AACA;AADA;AANA;AAUA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AAOA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AAOA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAMA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAGA;AALA;AAOA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AAPA;AADA;AAiBA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAKA;AATA;AAFA;AA3DA;AA4EA;;;;AArJA;AACA;AADA;AAEA;AACA;AAFA;AADA;AAOA;AADA;AACA;AACA;AAgJA;AACA;AACA;;;;;;;;;;;AAKA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAKA;AARA;AAYA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;;AAhDA;AACA;AADA;AAEA;AADA;AACA;AACA;AAgDA;AACA;AACA;AACA;AACA;AADA;AAaA;AAfA;AACA;AAiBA;AAMA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAOA;AAPA;AADA;AAWA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAJA;AADA;AAaA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAOA;AAPA;AADA;AAWA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAzDA;AADA;AA+DA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAHA;AADA;AAHA;AAWA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AAAA;AAAA;AA/EA;AAkFA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvrBA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAKA;AAAA;AACA;AADA;AACA;AAEA;AAHA;AAIA;AACA;;;AACA;AACA;;;;;AAKA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AAKA;;;AAEA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAKA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AAmBA;AACA;AAEA;AACA;AACA;AACA;AAIA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAMA;AACA;AACA;AAFA;AANA;AADA;AACA;AAcA;AAGA;AACA;AAGA;AAGA;AACA;AAjEA;AAAA;AAAA;AAAA;AACA;AAuEA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAJA;AADA;AADA;AAaA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AADA;AAMA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAGA;AAJA;AAAA;AAAA;AASA;AAAA;AACA;AASA;AAVA;AAeA;AAAA;AAAA;AACA;AADA;AAfA;AAoBA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAAA;AACA;AAKA;AANA;AAQA;AARA;AAWA;AACA;AACA;AACA;AACA;AACA;AALA;AAlDA;AAxBA;AAoFA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AADA;AAMA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAVA;AADA;AAgBA;AAAA;AAAA;AAAA;AAAA;AAnBA;AAsBA;;;;AA/RA;AACA;AADA;AAEA;AADA;AACA;AACA;AA+RA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAKA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAFA;AAQA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AACA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAOA;AAOA;AAlBA;AAJA;AA0BA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AALA;AAWA;AACA;AAAA;AACA;AACA;AAGA;AAJA;AAMA;AACA;AAGA;AAJA;AAPA;AAqBA,0CACA;AAnCA;AAsDA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAPA;AASA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AAVA;AApFA;AADA;AAyGA;;;;AAjPA;AACA;AADA;AAEA;AADA;AACA;AAiPA;AACA;AACA;;;AAMA;AAAA;AACA;AADA;AACA;AAEA;AAHA;AAIA;AACA;;;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AACA;AACA;AACA;AACA;AAJA;AAMA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AASA;AAGA;AACA;AACA;AAJA;AAOA;;;;AA9DA;AACA;AADA;AAEA;AACA;AAFA;AACA;AA8DA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AAEA;AACA;AADA;AAHA;AAMA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AADA;AAFA;AAQA;;;;AAjCA;AACA;AADA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAcA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AADA;AAeA;AACA;AACA;AAfA;AAFA;AAGA;AACA;;;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AAAA;AAAA;AACA;AADA;AARA;AAoBA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AADA;AAWA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AApBA;AARA;AACA;AAyCA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAYA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AALA;AAFA;AAWA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AAJA;AADA;AAFA;AAYA;AAAA;AAAA;AAAA;AAEA;;;;AA5JA;AACA;AADA;AAMA;AACA;AACA;AAHA;AALA;AAYA;AADA;AACA;AAkJA;AACA;AACA;;;AAYA;AAAA;AACA;AADA;AACA;AADA;AAgCA;AAAA;AACA;AA9BA;AACA;AACA;AAFA;AACA;AAIA;AARA;AASA;AACA;;;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;;;AAIA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AADA;AACA;AAcA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAIA;AACA;AAFA;AAKA;AACA;AAAA;AAvBA;AA+BA;AAAA;AAAA;AAAA;AAAA;AAhCA;AAmCA;;;;AAlJA;AACA;AADA;AAEA;AACA;AAFA;AADA;AAOA;AACA;AACA;AAHA;AACA;AA6IA;AACA;AACA;;;;;;;;;;;AAaA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AALA;AAQA;;;;AA5BA;AACA;AADA;AAEA;AACA;AACA;AAHA;AADA;AAQA;AACA;AACA;AAHA;AACA;AACA;AAsBA;;;;;;;;AC5WA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzKA;AACA;AA2KA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAEA;AACA;AAHA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AALA;AAQA;AAfA;AACA;AADA;AAAA;AACA;AAiBA;AAAA;AACA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AADA;AACA;AAQA;AAAA;AACA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AADA;AACA;AAQA;AAAA;AACA;AAAA;AACA;AADA;AADA;AACA;AAKA;AAAA;AACA;AAAA;AACA;AADA;AADA;AACA;AAKA;AAAA;AACA;AAAA;AACA;AADA;AADA;AACA;AAKA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AADA;AACA;AAKA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAJA;AAQA;AACA;AACA;AACA;AAJA;AATA;AACA;AAgBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AALA;AADA;AADA;AACA;AAWA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AASA;AAAA;AAXA;AACA;AAeA;AAAA;AAAA;AACA;AAKA;AAAA;AAAA;AACA;AASA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AAEA;AACA;AACA;AAFA;AAHA;AAOA;AACA;;;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;;;AAEA;AACA;AACA;AACA;AAGA;AAHA;AAKA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AAKA;AACA;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAKA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAIA;AACA;AACA;AACA;AACA;AATA;AAAA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AANA;AAYA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AANA;AAYA;AACA;AACA;AACA;AAKA;AAGA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAXA;AAcA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AAOA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AAzBA;AAkCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAPA;AAtCA;AAiDA;;;;AAlSA;AACA;AAoSA;AAGA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AARA;AACA;AAWA;;;;;;;;AC/TA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AAGA;AACA;AAGA;AAGA;AAGA;AAVA;AAYA;AACA;AADA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AAEA;AAGA;AACA;AALA;AASA;AACA;AAAA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAMA;AARA;AAFA;AADA;AAeA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAHA;AAHA;AAUA;AAbA;AAgBA;AACA;AADA;AAnDA;AACA;AAuDA;AACA;AAAA;AACA;AADA;AAIA;;;;AA9KA;AACA;AADA;AAEA;AACA;AAFA;AADA;AAOA;AACA;AAFA;AACA;AACA;AAyKA;AACA;AACA;;;;;;;;;;;AAWA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAMA;;;;AAtBA;AACA;AADA;AAEA;AACA;AAFA;AADA;AAOA;AACA;AAFA;AACA;AACA;AAiBA;AACA;AACA;;;;;;;;;;;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAFA;AAWA;AAEA;AAFA;AAXA;AAiBA;;;;AApBA;AACA;AADA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AADA;AA2EA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAIA;AACA;AACA;AA/DA;AACA;AA3EA;AA4LA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAQA;AACA;AACA;AACA;AACA;AACA;AALA;AARA;AADA;AAmBA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAQA;AACA;AACA;AACA;AAHA;AARA;AADA;AAmBA;AACA;AACA;AAtOA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAmBA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AAgBA;AAMA;AAEA;;;AAoEA;AAAA;AACA;AAAA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AAUA;AACA;AAEA;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;AAiDA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAKA;AATA;AAYA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAHA;AANA;AAhBA;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAAA;AACA;AAgBA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AAQA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AAUA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AACA;AA9CA;AAAA;AAAA;AAAA;AACA;AA0DA;AACA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AACA;AAQA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AANA;AAQA;AAAA;AAAA;AACA;AADA;AAKA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAGA;AACA;AACA;AACA;AARA;AAJA;AAeA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AATA;AAJA;AAgBA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AACA;AAGA;AARA;AALA;AAiBA;AACA;AAAA;AACA;AAEA;AACA;AAFA;AAFA;AASA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AASA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AADA;AAFA;AAkBA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAaA;AACA;AACA;AACA;AAHA;AAbA;AADA;AAFA;AA2BA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAQA;AACA;AATA;AAFA;AAiBA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAQA;AARA;AAFA;AAgBA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AASA;AAAA;AAAA;AACA;AACA;AAGA;AALA;AAWA;AACA;AAKA;AAKA;AAXA;AAXA;AATA;AAjKA;AAsMA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AAIA;AAAA;AAKA;AAAA;AACA;AAGA;AACA;AAGA;AACA;AAxBA;AAAA;AACA;AA0BA;AAKA;AACA;AACA;AACA;AAAA;AACA;AADA;AAKA;AACA;AACA;AACA;AAHA;AALA;AACA;AApCA;AAAA;AAAA;AAAA;AACA;AAqDA;AAKA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AADA;AANA;AAUA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAQA;AACA;AACA;AACA;AAHA;AARA;AADA;AAFA;AAsBA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AADA;AAHA;AAmBA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAQA;AACA;AATA;AAFA;AAiBA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAWA;AAAA;AAAA;AACA;AACA;AAKA;AAPA;AAaA;AACA;AAKA;AAKA;AAXA;AAbA;AAXA;AAxFA;AAiIA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;;;AAEA;AACA;AAEA;AACA;AACA;AACA;AAJA;AAOA;;;AAEA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAKA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AAVA;AAaA;AACA;AACA;AACA;AACA;AAJA;AAQA;AACA;AACA;AACA;AACA;AACA;AALA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAvCA;AAoDA;;;;AAj3BA;AACA;AAm3BA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AAbA;AACA;AAgBA;AACA;AADA;AACA;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACz6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAQA;;;AAOA;AAAA;AACA;AADA;AAEA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAMA;AAEA;AACA;AACA;AACA;AAJA;AACA;AAOA;AACA;AAAA;AACA;AADA;AAAA;AAIA;;;;AA9CA;AACA;AADA;AAEA;AACA;AACA;AAHA;AACA;AA8CA;AACA;AACA;AAFA;AACA;AAIA;;;;;;;;;;;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;;;;AALA;AACA;AAOA;AAGA;AACA;AACA;AACA;AACA;AACA;AAGA;AAJA;AAMA;AAXA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAKA;AACA;AAQA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAOA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AALA;AASA;;;;AAhDA;AACA;AADA;AAEA;AADA;AACA;AACA;AAgDA;AACA;AACA;AACA;AACA;AAFA;AAFA;AACA;AAOA;;;;;;;;;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AAZA;AAFA;AAiBA;AAjBA;AAoBA;;;;AAvBA;AACA;AADA;;;;;;;;;;;;;;;;;;;;;;;;ACrEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AAiBA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAEA;AACA;AADA;AAGA;;;;;AAfA;AAAA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAUA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AACA;AAGA;AACA;;;;AA9BA;AACA;AADA;AAEA;AACA;AACA;AACA;AAJA;AADA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAMA;AAAA;AACA;AADA;AACA;AACA;AACA;AADA;AAFA;AAKA;AACA;;;AACA;AAAA;AAAA;AACA;AAAA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AANA;AAWA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AAAA;AACA;AADA;AAEA;AAFA;AACA;AASA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AADA;AAWA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AAZA;AAPA;AA8BA;;;;AAhIA;AACA;AADA;AAEA;AACA;AAFA;AACA;AAgIA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AAEA;AAHA;AAIA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAAA;AAAA;AACA;AADA;AANA;AAWA;;;;AA9BA;AACA;AAgCA;;;;A","sourceRoot":""}